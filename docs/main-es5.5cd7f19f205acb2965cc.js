function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s=!0,o=e})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}/*! For license information please see main-es2015.5cd7f19f205acb2965cc.js.LICENSE.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Object(r.a)({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(c){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a);n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(r)},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new c(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new c(_assertThisInitialized(a),e,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var u,l;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(u);return Object(r.a)(o)?l=o:o&&(l=o.next,a=o.error,s=o.complete,o!==i.a&&(c=Object.create(o),Object(r.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(l)},"8Y7J":function(e,t,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(e){return e.lift(new l(e))}}var l=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new c(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new i.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=i.a.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}n.d(t,"kb",(function(){return ta})),n.d(t,"lb",(function(){return na})),n.d(t,"mb",(function(){return ra})),n.d(t,"nb",(function(){return ia})),n.d(t,"jb",(function(){return Zi})),n.d(t,"ib",(function(){return Fi})),n.d(t,"g",(function(){return qo})),n.d(t,"R",(function(){return Mo})),n.d(t,"w",(function(){return Ro})),n.d(t,"S",(function(){return Ke})),n.d(t,"W",(function(){return Ge})),n.d(t,"c",(function(){return Xi})),n.d(t,"A",(function(){return eo})),n.d(t,"z",(function(){return to})),n.d(t,"b",(function(){return no})),n.d(t,"d",(function(){return Yi})),n.d(t,"e",(function(){return Ji})),n.d(t,"U",(function(){return Zo})),n.d(t,"L",(function(){return xo})),n.d(t,"Y",(function(){return No})),n.d(t,"s",(function(){return io})),n.d(t,"f",(function(){return oa})),n.d(t,"m",(function(){return Ki})),n.d(t,"l",(function(){return ze})),n.d(t,"F",(function(){return yt})),n.d(t,"G",(function(){return vt})),n.d(t,"a",(function(){return Xt})),n.d(t,"P",(function(){return J})),n.d(t,"N",(function(){return Dn})),n.d(t,"M",(function(){return jn})),n.d(t,"Nb",(function(){return k})),n.d(t,"T",(function(){return T})),n.d(t,"p",(function(){return Bt})),n.d(t,"Ob",(function(){return q})),n.d(t,"V",(function(){return z})),n.d(t,"o",(function(){return P})),n.d(t,"n",(function(){return y})),n.d(t,"y",(function(){return m})),n.d(t,"H",(function(){return b})),n.d(t,"x",(function(){return ko})),n.d(t,"C",(function(){return An})),n.d(t,"D",(function(){return In})),n.d(t,"E",(function(){return xn})),n.d(t,"i",(function(){return fo})),n.d(t,"j",(function(){return kn})),n.d(t,"k",(function(){return On})),n.d(t,"t",(function(){return K})),n.d(t,"v",(function(){return G})),n.d(t,"u",(function(){return Bo})),n.d(t,"B",(function(){return Qi})),n.d(t,"I",(function(){return Ko})),n.d(t,"J",(function(){return Ho})),n.d(t,"K",(function(){return Yn})),n.d(t,"O",(function(){return Xn})),n.d(t,"h",(function(){return Ft})),n.d(t,"q",(function(){return Hn})),n.d(t,"r",(function(){return Gn})),n.d(t,"Q",(function(){return rn})),n.d(t,"X",(function(){return ea})),n.d(t,"wb",(function(){return on})),n.d(t,"bb",(function(){return ro})),n.d(t,"Z",(function(){return qt})),n.d(t,"ab",(function(){return Cn})),n.d(t,"eb",(function(){return dt})),n.d(t,"fb",(function(){return bt})),n.d(t,"gb",(function(){return Je})),n.d(t,"vb",(function(){return j})),n.d(t,"zb",(function(){return tn})),n.d(t,"Hb",(function(){return S})),n.d(t,"xb",(function(){return yn})),n.d(t,"yb",(function(){return vn})),n.d(t,"ub",(function(){return Hi})),n.d(t,"tb",(function(){return Gi})),n.d(t,"cb",(function(){return Ui})),n.d(t,"db",(function(){return qi})),n.d(t,"Mb",(function(){return se})),n.d(t,"Kb",(function(){return Zt})),n.d(t,"Qb",(function(){return sn})),n.d(t,"Pb",(function(){return un})),n.d(t,"Lb",(function(){return ln})),n.d(t,"Rb",(function(){return hn})),n.d(t,"hb",(function(){return aa})),n.d(t,"ob",(function(){return $r})),n.d(t,"pb",(function(){return Is})),n.d(t,"qb",(function(){return dr})),n.d(t,"rb",(function(){return Ci})),n.d(t,"sb",(function(){return sa})),n.d(t,"Ab",(function(){return Kr})),n.d(t,"Bb",(function(){return Gr})),n.d(t,"Cb",(function(){return ma})),n.d(t,"Db",(function(){return ci})),n.d(t,"Fb",(function(){return Ei})),n.d(t,"Eb",(function(){return ba})),n.d(t,"Gb",(function(){return fa})),n.d(t,"Ib",(function(){return _a})),n.d(t,"Jb",(function(){return Ca}));var y=v("Inject",(function(e){return{token:e}})),m=v("Optional"),g=v("Self"),b=v("SkipSelf"),_=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function w(e){for(var t in e)if(e[t]===w)return t;throw Error("Could not find renamed property on target object.")}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function C(e){var t=e[E];return t&&t.token===e?t:null}var E=w({ngInjectableDef:w});function S(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(S).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var O=w({__forward_ref__:w});function T(e){return e.__forward_ref__=T,e.toString=function(){return S(this())},e}function I(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===T?t():e}var x="undefined"!=typeof globalThis&&globalThis,A="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global,j=x||D||A||N,P=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),R=new P("INJECTOR",-1),M=new Object,V=/\n/gm,L=w({provide:String,useValue:w}),F=void 0;function U(e){var t=F;return F=e,t}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default;if(void 0===F)throw new Error("inject() must be called from an injection context");return null===F?function(e,t,n){var r=C(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(S(e),"]"))}(e,0,t):F.get(e,t&_.Optional?null:void 0,t)}(e,t)}var z=q,B=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;if(t===M){var n=new Error("NullInjectorError: No provider for ".concat(S(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=S(t);if(t instanceof Array)i=t.map(S).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):S(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(V,"\n  "))}var G=function e(){_classCallCheck(this,e)},K=function e(){_classCallCheck(this,e)};function W(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Q(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Y=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),J=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),X={},Z=[],$=w({ngComponentDef:w}),ee=w({ngDirectiveDef:w}),te=w({ngPipeDef:w}),ne=0;function re(e){return function(e){return e[$]||null}(e)||function(e){return e[ee]||null}(e)}function ie(e){return function(e){return e[te]||null}(e)}function oe(e,t){if(null==e)return X;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var ae,se=function(e){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||J.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=""+{toString:function(){var n=e.directives,o=e.features,a=e.pipes;i.id+=ne++,i.inputs=oe(e.inputs,r),i.outputs=oe(e.outputs),o&&o.forEach((function(e){return e(i)})),i.directiveDefs=n?function(){return("function"==typeof n?n():n).map(re)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(ie)}:null,t.hasOwnProperty(E)||(t[E]=k({token:t,factory:e.factory}))}},i},ue=null,le=new Map,ce=null;function he(e,t){return ce&&e===ce||(ce=e,t&&(ue=le.get(e)||null),ue=ue||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),ue}function fe(e,t){return function(e){for(;Array.isArray(e);)e=e[0];return e}(t[e.index])}function de(e,t){return t[1].data[e+19]}function pe(){return ae}var ve=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j);function ye(e,t){0===t?e[2]>0&&function(e){ge(e,2|me(e))}(e):e[2]=t}function me(e){return e[1]}function ge(e,t){e[1]=t}function be(e,t){return e[t+2]}function _e(e,t){return 1&e[t+0]}function we(e,t){return(1&_e(e,t))>0}function ke(e,t){return e[t+0]>>1}function Ce(e,t,n){var r=_e(e,t);e[t+0]=r|n<<1}function Ee(e,t){return e[t+1]}function Se(e,t,n){return e[t+3+n]}function Oe(e,t){return!(!e||t!==e[2])}function Te(e){return(1&me(e))>0}function Ie(e){return(2&me(e))>0}function xe(e){return 6+e[4]}function Ae(e,t){var n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(e,t){return!(e!=e&&t!=t)&&e!==t}(n,r)}function Ne(e){return null!=e&&""!==e}function De(e){return e.replace(/[a-z][A-Z]/g,(function(e){return e.charAt(0)+"-"+e.charAt(1)})).toLowerCase()}function je(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function Pe(e,t){return e[t+0]}function Re(e,t,n){e[t+1]=n}function Me(e,t){return e[t+1]}var Ve=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function Le(e){return!!e.listen}function Fe(e){return e.ngDebugContext}function Ue(e){return e.ngOriginalError}function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var ze=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||qe}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Fe(e)?Fe(e):this._findContext(Ue(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Ue(e);t&&Ue(t);)t=Ue(t);return t}}]),e}(),Be=!0,He=!1;function Ge(){return He=!0,Be}function Ke(){if(He)throw new Error("Cannot enable prod mode after platform setup.");Be=!1}var We=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Qe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ye=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Je(e){return(e=String(e)).match(Qe)||e.match(Ye)?e:(Ge()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Xe(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Ze(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var $e,et=Xe("area,br,col,hr,img,wbr"),tt=Xe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nt=Xe("rp,rt"),rt=Ze(nt,tt),it=Ze(et,Ze(tt,Xe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ze(nt,Xe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rt),ot=Xe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),at=Xe("srcset"),st=Ze(ot,at,Xe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ut=Xe("script,style,template"),lt=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!it.hasOwnProperty(t))return this.sanitizedSomething=!0,!ut.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(st.hasOwnProperty(s)){var u=o.value;ot[s]&&(u=Je(u)),at[s]&&(n=u,u=(n=String(n)).split(",").map((function(e){return Je(e.trim())})).join(", ")),this.buf.push(" ",a,'="',ft(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();it.hasOwnProperty(t)&&!et.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(ft(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ht=/([^\#-~ |!])/g;function ft(e){return e.replace(/&/g,"&amp;").replace(ct,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ht,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dt(e,t){var n=null;try{$e=$e||new We(e);var r=t?String(t):"";n=$e.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$e.getInertBodyElement(r)}while(r!==o);var a=new lt,s=a.sanitizeChildren(pt(n)||n);return Ge()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=pt(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function pt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var vt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),yt=function e(){_classCallCheck(this,e)},mt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),gt=/^url\(([^)]+)\)$/;function bt(e){if(!(e=String(e).trim()))return"";var t=e.match(gt);return t&&Je(t[1])===t[1]||e.match(mt)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Ge()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function _t(e){return"ng-reflect-"+e.replace(/[$@]/g,"_").replace(wt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))}var wt=/([A-Z])/g;function kt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Ct=[];function Et(e,t,n,r,i,o,a,s,u){Te(e)||(a?function(e,t,n,r,i){Ct.unshift(e,t,n,r,i)}(e,n,r,i,u):(Ct.length&&St(),Ot(e,n,r,i,u)));var l=s||Ae(t[i],o);return l&&(t[i]=o),l}function St(){for(var e=0;e<Ct.length;)Ot(Ct[e++],Ct[e++],Ct[e++],Ct[e++],Ct[e++]);Ct.length=0}function Ot(e,t,n,r,i){var o=!1;if(n){for(var a=!1,s=xe(e);s<e.length;){var u=Ee(e,s),l=be(e,s);if(a=n<=l){n<l&&Tt(e,s,n,i),It(e,!1,s,r,t);break}s+=3+u}a||(Tt(e,e.length,n,i),It(e,!1,s,r,t),o=!0)}else It(e,!0,3,r,t),o=!0;return o}function Tt(e,t,n,r){e.splice(t,0,r?1:0,1,n,null),Ce(e,t,1)}function It(e,t,n,r,i){var o=n+3,a=o+Ee(e,n);if(t||a--,"number"==typeof r){for(var s=o;s<=a;s++)if(e[s]===r)return;e.splice(a,0,r),e[n+1]++,Ce(e,n,ke(e,n)|1<<i)}else null!==r&&null==e[a]&&(e[a]=r)}function xt(e,t,n,r,i,o,a,s){return i&&r&&(function(e){if(!Te(e)){var t=je(n=e)?n[0]:n;t&&function(e,t){for(var n=1;n<t.length;n+=2){var r=Me(t,n);r&&Ot(e,-1,Pe(t,n),r,!1)}}(e,t),function(e){ge(e,1|me(e))}(e)}var n}(r),function(e,t){return e&&t>0}(r,o))?(function(e,t,n,r,i,o,a){for(var s,u=!0===(s=i)?-1:!1===s?0:s,l=At,c=(u&ke(e,3))>0?1:0,h=xe(e);h<e.length;){var f=Ee(e,h);if(u&ke(e,h)){for(var d=!1,p=be(e,h),v=f-1,y=Se(e,h,v),m=0;m<v;m++){var g=Se(e,h,m),b=r[g];if(Ne(b)){o(t,n,p,a&&we(e,h)?a(p,b,2):b,g),d=!0;break}}if(l){var _=l(e,t,n,r,o,a,c|(d?4:2),p,y);d=d||_}d||o(t,n,p,y)}h+=3+f}l&&l(e,t,n,r,o,a,c)}(r,e,t,n,o,a,s),!0):i}var At=null,Nt=function(e,t,n,r){var i=t.style;r?(r=r.toString(),e&&Le(e)?e.setStyle(t,n,r,Ve.DashCase):i&&i.setProperty(n,r)):e&&Le(e)?e.removeStyle(t,n,Ve.DashCase):i&&i.removeProperty(n)},Dt=function(e,t,n,r){if(""!==n){var i=t.classList;r?e&&Le(e)?e.addClass(t,n):i&&i.add(n):e&&Le(e)?e.removeClass(t,n):i&&i.remove(n)}},jt={},Pt=function(e,t,n,r,i,o,a,s,u){var l=!1;if(Ee(e,3)){var c=!0,h=!s;h&&-2&a&&(c=!1,l=!0),c&&(l=function e(t,n,r,i,o,a,s,u,l,c){var h,f=!1;if(l<Ee(t,3)){for(var d=Se(t,3,l),p=i[d],v=((h=l)>=Vt.length&&Vt.push(1),Vt[h]);v<p.length;){var y=Pe(p,v),m=u&&y>u,g=!m&&y===u,b=Me(p,v),_=Ne(b),w=e(t,n,r,i,o,a,m?s:Rt(s,_,g),m?u:y,l+1,c);if(m){f||(f=w);break}if(!w&&Mt(s,g)){var k=g&&!_,C=k?c:b,E=k?d:null;o(n,r,y,a?a(y,C,3):C,E),w=!0}f=w&&g,v+=2}if(Vt[l]=v,1===p.length||!u)return e(t,n,r,i,o,a,s,u,l+1,c)}return f}(e,t,n,r,i,o,a,s||null,0,u||null)),h&&function(){for(var e=0;e<Vt.length;e++)Vt[e]=1}()}return l};function Rt(e,t,n){var r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function Mt(e,t){var n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}var Vt=[];function Lt(e,t,n,r){for(var i=1;i<e.length;i+=2){var o=Pe(e,i);if(t<=o){var a=!1;if(o===t){var s=e[i];!r&&Ne(s)||(a=!0,Re(e,i,n))}else a=!0,e.splice(i,0,t,n);return a}}return e.push(t,n),!0}var Ft=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ut()},e}(),Ut=function(){},qt=new P("The presence of this token marks an injector as being the root injector."),zt=function(e,t,n){return new Qt(e,t,n)},Bt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?zt(e,t,""):zt(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=M,e.NULL=new B,e.ngInjectableDef=k({token:e,providedIn:"any",factory:function(){return q(R)}}),e.__NG_ELEMENT_ID__=-1,e}(),Ht=function(e){return e},Gt=[],Kt=Ht,Wt=function(){return Array.prototype.slice.call(arguments)},Qt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Bt,{token:Bt,fn:Ht,deps:Gt,value:this,useNew:!1}),i.set(R,{token:R,fn:Ht,deps:Gt,value:this,useNew:!1}),function e(t,n){if(n)if((n=I(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Jt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Jt("Unexpected provider",n);var i=I(n.provide),o=function(e){var t=function(e){var t=Gt,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,o=I(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof m||u==m?i|=1:u instanceof b||u==b?i&=-3:u instanceof g||u==g?i&=-5:o=u instanceof y?u.token:I(u)}t.push({token:o,options:i})}}else if(e.useExisting)t=[{token:I(e.useExisting),options:6}];else if(!(n||L in e))throw Jt("'deps' required",e);return t}(e),n=Ht,r=Gt,i=!1,o=I(e.provide);if(L in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=I(e.useClass);else{if("function"!=typeof o)throw Jt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==Wt)throw Yt(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Wt,value:Gt});i=n,a.deps.push({token:i,options:6})}var s=t.get(i);if(s&&s.fn==Wt)throw Yt(i);t.set(i,o)}}(i,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.Default,r=this._records.get(e);try{return function e(t,n,r,i,o,a){try{return function(t,n,r,i,o,a){var s;if(!n||a&_.SkipSelf)a&_.Self||(s=i.get(t,o,_.Default));else{if((s=n.value)==Kt)throw Error("\u0275Circular dependency");if(s===Gt){n.value=Kt;var u=n.useNew,l=n.fn,c=n.deps,h=Gt;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(e(d.token,v,r,v||4&p?i:Bt.NULL,1&p?null:Bt.THROW_IF_NOT_FOUND,_.Default))}}n.value=s=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return s}(t,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==Kt&&(n.value=Gt),s}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=H("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(S(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function Yt(e){return Jt("Cannot mix multi providers and regular providers",e)}function Jt(e,t){return new Error(H(e,t,"StaticInjectorError"))}var Xt=new P("AnalyzeForEntryComponents");function Zt(e){var t=(void 0)[1];t.firstTemplatePass&&(function(e,t,n){var r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(t,0,e),function(e,t,n){for(var r=0;r<n;r++)(void 0).push(jt),e.blueprint.push(jt),e.data.push(null)}(t,0,e))}var $t=null;function en(){if(!$t){var e=j.Symbol;if(e&&e.iterator)$t=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($t=r)}}return $t}function tn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function nn(e,t){var n=on(e),r=on(t);return n&&r?function(e,t,n){for(var r=e[en()](),i=t[en()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,nn):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||tn(e,t)}var rn=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function on(e){return!!an(e)&&(Array.isArray(e)||!(e instanceof Map)&&en()in e)}function an(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function sn(){(void 0)[1].firstTemplatePass&&(ye(dn(void 0),1),ye(fn(void 0),1))}function un(e){cn(-1,fn(de(-1,void 0)),(void 0)[7]++,e,!1,!1)}function ln(e){!function(e,t){cn(-1,dn(de(-1,void 0)),(void 0)[7]++,t,!0,!1)}(0,e)}function cn(e,t,n,r,i,o){At=Pt;var a=!1;if(r!==jt){var s=fe(de(e,void 0),void 0),u=(void 0)[n];a=Ae(u,r);var l=function(e,t,n){var r=Array.isArray(e)?e:[null];r[0]=t||null;for(var i=1;i<r.length;i+=2)Re(r,i,null);var o,a=null,s=!1;if("string"==typeof t?t.length&&(a=t.split(/\s+/),s=!0):(a=t?Object.keys(t):null,o=t),a)for(var u=0;u<a.length;u++){var l=a[u];Lt(r,n?De(l):l,!!s||o[l],!0)}return r}(u,r,!i);i?function(e,t,n,r,i,o,a,s){var u=he(n,Ie(e));!Et(e,void 0,0,null,i,o,a,s,!1)&&!s||(u.classesBitMask|=1)}(t,0,s,0,n,l,o,a):function(e,t,n,r,i,o,a,s,u){var l=he(n,Ie(e));!Et(e,void 0,0,null,i,o,s,u,!0)&&!u||(l.stylesBitMask|=1)}(t,0,s,0,n,l,pe(),o,a)}return a}function hn(){var e=de(-1,void 0),t=function(e,t){return 3===e.type?(void 0)[12]:null}(e),n=fe(e,void 0),r=pe();(function(e,t,n,r,i,o,a){var s=n?Ie(n):!!r&&Ie(r),u=Oe(n,1),l=Oe(r,1);Ct.length&&(u||l)&&St();var c=he(i,s),h=xt(e,i,void 0,n,u,c.classesBitMask,Dt,null),f=xt(e,i,void 0,r,l,c.stylesBitMask,Nt,a);h&&f?(ue=null,ce=null,s&&function(e){le.delete(e)}(i)):s&&function(e,t){le.set(e,t)}(i,c)})(t,0,dn(e),fn(e),n,0,r),ae=null}function fn(e){return pn(e,!1)}function dn(e){return pn(e,!0)}function pn(e,t){var n=t?e.classes:e.styles;return je(n)||(n=[n||[""],0,0,1,0,"--MAP--"],t?e.classes=n:e.styles=n),n}function vn(e){return!!e&&"function"==typeof e.then}function yn(e){return!!e&&"function"==typeof e.subscribe}var mn=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),gn=function e(){_classCallCheck(this,e)};function bn(e){var t=Error("No component factory found for ".concat(S(e),". Did you add it to @NgModule.entryComponents?"));return t[_n]=e,t}var _n="ngComponent",wn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw bn(e)}}]),e}(),kn=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new wn,e}(),Cn=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw bn(e);return new En(t,this._ngModule)}}]),e}(),En=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).factory=e,i.ngModule=r,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),n}(gn);function Sn(){}var On=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Tn(e)},e}(),Tn=Sn,In=function e(){_classCallCheck(this,e)},xn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),An=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Nn()},e}(),Nn=Sn,Dn=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},jn=new Dn("8.2.14"),Pn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return on(e)}},{key:"create",value:function(e){return new Mn(e)}}]),e}(),Rn=function(e,t){return t},Mn=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Rn}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Un(n,r,i)?t:n,a=Un(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!on(e))throw new Error("Error trying to diff '".concat(S(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&tn(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),tn(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[en()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&tn(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),tn(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(tn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(tn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Vn(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Fn),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Vn=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ln=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&tn(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Fn=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ln,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Un(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var qn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||an(e)}},{key:"create",value:function(){return new zn}}]),e}(),zn=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||an(e)))throw new Error("Error trying to diff '".concat(S(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Bn(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){tn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Bn=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Hn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new b,new m]]}}}]),e}();return e.ngInjectableDef=k({token:e,providedIn:"root",factory:function(){return new e([new Pn])}}),e}(),Gn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new b,new m]]}}}]),e}();return e.ngInjectableDef=k({token:e,providedIn:"root",factory:function(){return new e([new qn])}}),e}(),Kn=[new qn],Wn=new Hn([new Pn]),Qn=new Gn(Kn),Yn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Jn(e,On)},e}(),Jn=Sn,Xn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Zn(e,On)},e}(),Zn=Sn;function $n(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return er(n,t),n}(i,e)}function er(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function tr(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function nr(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function rr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ir(e,t){return e.nodes[t]}function or(e,t){return e.nodes[t]}function ar(e,t){return e.nodes[t]}function sr(e,t){return e.nodes[t]}function ur(e,t){return e.nodes[t]}var lr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},cr=function(){},hr=new Map;function fr(e){var t=hr.get(e);return t||(t=S(e)+"_"+hr.size,hr.set(e,t)),t}function dr(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var pr=0;function vr(e,t,n,r){return!(!(2&e.state)&&tn(e.oldValues[t.bindingIndex+n],r))}function yr(e,t,n,r){return!!vr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function mr(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!nn(i,r)){var o=t.bindings[n].name;throw $n(lr.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function gr(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function br(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function _r(e,t,n,r){try{return gr(33554432&e.def.nodes[t].flags?or(e,t).componentView:e),lr.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function wr(e){return e.parent?or(e.parent,e.parentNodeDef.nodeIndex):null}function kr(e){return e.parent?e.parentNodeDef.parent:null}function Cr(e,t){switch(201347067&t.flags){case 1:return or(e,t.nodeIndex).renderElement;case 2:return ir(e,t.nodeIndex).renderText}}function Er(e,t){return e?"".concat(e,":").concat(t):t}function Sr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Or(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Tr(e){return 1<<e%32}function Ir(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=Tr(o)):r[o]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function xr(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:fr(r)}}))}function Ar(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===J.Native?or(e,n.renderParent.nodeIndex).renderElement:void 0:t}var Nr=new WeakMap;function Dr(e){var t=Nr.get(e);return t||((t=e((function(){return cr}))).factory=e,Nr.set(e,t)),t}function jr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Cr(e,e.def.lastRenderRootNode))),Pr(e,t,0,e.def.nodes.length-1,n,r,i)}function Pr(e,t,n,r,i,o,a){for(var s=n;s<=r;s++){var u=e.def.nodes[s];11&u.flags&&Mr(e,u,t,i,o,a),s+=u.childCount}}function Rr(e,t,n,r,i,o){for(var a=e;a&&!Sr(a);)a=a.parent;for(var s=a.parent,u=kr(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===t&&Mr(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)Vr(e,f[d],n,r,i,o)}}function Mr(e,t,n,r,i,o){if(8&t.flags)Rr(e,t.ngContent.index,n,r,i,o);else{var a=Cr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Vr(e,a,n,r,i,o),32&t.bindingFlags&&Vr(or(e,t.nodeIndex).componentView,a,n,r,i,o)):Vr(e,a,n,r,i,o),16777216&t.flags)for(var s=or(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)jr(s[u],n,r,i,o);1&t.flags&&!t.element.name&&Pr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Vr(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var Lr=/^:([^:]+):(.+)$/;function Fr(e){if(":"===e[0]){var t=e.match(Lr);return[t[1],t[2]]}return["",e]}function Ur(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}var qr=new Object,zr=fr(Bt),Br=fr(R),Hr=fr(G);function Gr(e,t,n,r){return n=I(n),{index:-1,deps:xr(r,S(t)),flags:e,token:t,value:n}}function Kr(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===qt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[fr(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Wr(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt.THROW_IF_NOT_FOUND,o=U(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case zr:case Br:case Hr:return e}var s,u=e._def.providersByKey[a];if(u){var l=e._providers[u.index];return void 0===l&&(l=e._providers[u.index]=Qr(e,u)),l===qr?void 0:l}if((s=C(t.token))&&(n=e,null!=(r=s).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:t.token},e._providers[c]=qr,e._providers[c]=Qr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{U(o)}}function Qr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Wr(e,n[0]));case 2:return new t(Wr(e,n[0]),Wr(e,n[1]));case 3:return new t(Wr(e,n[0]),Wr(e,n[1]),Wr(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Wr(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Wr(e,n[0]));case 2:return t(Wr(e,n[0]),Wr(e,n[1]));case 3:return t(Wr(e,n[0]),Wr(e,n[1]),Wr(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Wr(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Wr(e,t.deps[0]);break;case 256:n=t.value}return n===qr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?qr:n}function Yr(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Q(n,t),lr.dirtyParentQueries(r),Xr(r),r}function Jr(e,t,n){var r=t?Cr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);jr(n,2,i,o,void 0)}function Xr(e){jr(e,3,null,null,void 0)}var Zr=new Object;function $r(e,t,n,r,i,o){return new ei(e,t,n,r,i,o)}var ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this)).selector=e,u.componentType=r,u._inputs=o,u._outputs=a,u.ngContentSelectors=s,u.viewDefFactory=i,u}return _createClass(n,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Dr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=lr.createRootView(e,t||[],n,i,r,Zr),s=ar(a,o).instance;return n&&a.renderer.setAttribute(or(a,0).renderElement,"ng-version",jn.full),new ti(a,new oi(a),s)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),n}(gn),ti=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._view=e,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new On(or(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new li(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function e(){_classCallCheck(this,e)}}());function ni(e,t,n){return new ri(e,t,n)}var ri=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Yr(this._data,e);lr.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new oi(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof En||(i=o.get(G));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=e;return n=this._view,r=this._data,i=t,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,W(a,i,o),function(e,t){var n=wr(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),lr.dirtyParentQueries(o),Jr(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(e._view);return n=this._data,r=s,i=t,o=n.viewContainer._embeddedViews,a=o[r],Q(o,r),null==i&&(i=o.length),W(o,i,a),lr.dirtyParentQueries(a),Xr(a),Jr(n,i>0?o[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Yr(this._data,e);t&&lr.destroyView(t)}},{key:"detach",value:function(e){var t=Yr(this._data,e);return t?new oi(t):null}},{key:"element",get:function(){return new On(this._data.renderElement)}},{key:"injector",get:function(){return new li(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=kr(e),e=e.parent;return e?new li(e,t):new li(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function ii(e){return new oi(e)}var oi=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){gr(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{lr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){lr.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),lr.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Xr(this._view),lr.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return jr(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function ai(e,t){return new si(e,t)}var si=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._parentView=e,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(e){return new oi(lr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new On(or(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Yn);function ui(e,t){return new li(e,t)}var li=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt.THROW_IF_NOT_FOUND;return lr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:fr(e)},t)}}]),e}();function ci(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=or(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ir(e,n.nodeIndex).renderText;if(20240&n.flags)return ar(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function hi(e){return new fi(e.renderer)}var fi=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(Fr(t),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,o),o}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(Fr(t),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function di(e,t,n,r){return new pi(e,t,n,r)}var pi=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Qr(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.Default,r=0;return n&_.SkipSelf?r|=1:n&_.Self&&(r|=4),Wr(this,{token:e,tokenKey:fr(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(S(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==qr){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(kn)}}]),e}(),vi=fr((function e(){_classCallCheck(this,e)})),yi=fr(An),mi=fr(On),gi=fr(Xn),bi=fr(Yn),_i=fr(Ft),wi=fr(Bt),ki=fr(R);function Ci(e,t,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=_slicedToArray(a[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var p in s)d.push({type:1,propName:p,target:null,eventName:s[p]});return Si(e,t|=16384,n,r,i,i,o,u,d)}function Ei(e,t,n,r,i){return Si(-1,e,t,0,n,r,i)}function Si(e,t,n,r,i,o,a,s,u){var l=Ir(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=I(o);var d=xr(a,S(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Ur(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Oi(e,t){return Ai(e,t)}function Ti(e,t){for(var n=e;n.parent&&!Sr(n);)n=n.parent;return Ni(n.parent,kr(n),!0,t.provider.value,t.provider.deps)}function Ii(e,t){var n=Ni(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!yn(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(xi(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function xi(e,t,n){return function(r){return _r(e,t,n,r)}}function Ai(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Ni(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(ji(e,t,n,i[0]));case 2:return r(ji(e,t,n,i[0]),ji(e,t,n,i[1]));case 3:return r(ji(e,t,n,i[0]),ji(e,t,n,i[1]),ji(e,t,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=ji(e,t,n,i[s]);return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return ji(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Ni(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(ji(e,t,n,i[0]));case 2:return new r(ji(e,t,n,i[0]),ji(e,t,n,i[1]));case 3:return new r(ji(e,t,n,i[0]),ji(e,t,n,i[1]),ji(e,t,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=ji(e,t,n,i[s]);return _construct(r,a)}}var Di={};function ji(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bt.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===_i&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case vi:return hi(Pi(s,t,n));case yi:return Pi(s,t,n).renderer;case mi:return new On(or(s,t.nodeIndex).renderElement);case gi:return or(s,t.nodeIndex).viewContainer;case bi:if(t.element.template)return or(s,t.nodeIndex).template;break;case _i:return ii(Pi(s,t,n));case wi:case ki:return ui(s,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var l=ar(s,u.nodeIndex);return l||(l={instance:Ai(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=Sr(s),t=kr(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,Di);return c!==Di||i===Di?c:o.root.ngModule.injector.get(r.token,i)}function Pi(e,t,n){var r;if(n)r=or(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Sr(r);)r=r.parent;return r}function Ri(e,t,n,r,i,o){if(32768&n.flags){var a=or(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=rn.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new mn(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Mi(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&Li(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Vi(e,a,t,r)),a=a.parent}}function Vi(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Li(e,i,o.flags&n,r++),i+=o.childCount}return r}function Li(e,t,n,r){var i=ar(e,t);if(i){var o=i.instance;o&&(lr.setCurrentNode(e,t),1048576&n&&rr(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rr(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Fi=new P("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ve}}),Ui={},qi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),zi=void 0,Bi=["en",[["a","p"],["AM","PM"],zi],[["AM","PM"],zi,zi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zi,"{1} 'at' {0}",zi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Hi(e){return Gi(e)[qi.PluralCase]}function Gi(e){var t=e.toLowerCase().replace(/_/g,"-"),n=Ui[t];if(n)return n;var r=t.split("-")[0];if(n=Ui[r])return n;if("en"===r)return Bi;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var Ki=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function Wi(){return this._results[en()]()}var Qi=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Ki,this.length=0;var t=en(),n=e.prototype;n[t]||(n[t]=Wi)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Yi=new P("Application Initializer"),Ji=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();vn(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),Xi=new P("AppId");function Zi(){return"".concat($i()).concat($i()).concat($i())}function $i(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var eo=new P("Platform Initializer"),to=new P("Platform ID"),no=new P("appBootstrapListener"),ro=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),io=new P("LocaleId");function oo(){throw new Error("Runtime compiler is not loaded")}var ao,so,uo=oo,lo=oo,co=oo,ho=oo,fo=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=uo,this.compileModuleAsync=lo,this.compileModuleAndAllComponentsSync=co,this.compileModuleAndAllComponentsAsync=ho}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),po=function e(){_classCallCheck(this,e)};var vo,yo=!(!(vo=j.wtf)||(ao=vo.trace,!ao)||(so=ao.events,0));function mo(e,t){return null}var go=yo?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return so.createScope(e,t)}:function(e,t){return mo},bo=yo?function(e,t){return ao.leaveScope(e,t),t}:function(e,t){return t},_o=Promise.resolve(0);function wo(e){"undefined"==typeof Zone?_o.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var ko=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,o,a){try{return Oo(n),e.invokeTask(r,i,o,a)}finally{To(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return Oo(n),e.invoke(r,i,o,a,s)}finally{To(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,So(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Eo,Co,Co);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Co(){}var Eo={};function So(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Oo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function To(e){e._nesting--,So(e)}var Io=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),xo=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){ko.assertNotInAngularZone(),wo((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())wo((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),Ao=function(){function e(){_classCallCheck(this,e),this._applications=new Map,jo.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jo.findTestabilityInTree(this,e,t)}}]),e}();function No(e){jo=e}var Do,jo=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Po=new P("AllowMultipleToken"),Ro=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Mo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new P(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Vo();if(!o||o.injector.get(Po,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Do&&!Do.destroyed&&!Do.injector.get(Po,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Do=e.get(Lo);var t=e.get(eo,null);t&&t.forEach((function(e){return e()}))}(Bt.create({providers:a,name:r}))}return function(e){var t=Vo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Vo(){return Do&&!Do.destroyed?Do:null}var Lo=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new Io:("zone.js"===n?void 0:n)||new ko({enableLongStackTrace:Ge()}),o=[{provide:ko,useValue:i}];return i.run((function(){var t=Bt.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(ze,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return zo(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})})),function(e,t,i){try{var o=((a=n.injector.get(Ji)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return vn(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(a,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Fo({},n);return function(e,t,n){return e.get(po).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(qo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(S(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Fo(e,t){return Array.isArray(t)?t.reduce(Fo,e):Object.assign({},e,t)}var Uo,qo=((Uo=function(){function e(t,n,r,i,s,l){var c=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ge(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run((function(){c.tick()}))}});var h=new o.a((function(e){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular((function(){e.next(c._stable),e.complete()}))})),d=new o.a((function(e){var t;c._zone.runOutsideAngular((function(){t=c._zone.onStable.subscribe((function(){ko.assertNotInAngularZone(),wo((function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,e.next(!0))}))}))}));var n=c._zone.onUnstable.subscribe((function(){ko.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,d.pipe((function(e){return u()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,f);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof gn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof En?null:this._injector.get(G),o=n.create(Bt.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(xo,null);return a&&o.injector.get(Ao).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Ge()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(s){i.e(s)}finally{i.f()}if(this._enforceNoNewChanges){var o,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(o=a.n()).done;)o.value.checkNoChanges()}catch(s){a.e(s)}finally{a.f()}}}catch(u){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(u)}))}finally{this._runningTick=!1,bo(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;zo(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(no,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),zo(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=go("ApplicationRef#tick()"),Uo);function zo(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Bo=function e(){_classCallCheck(this,e)},Ho=function e(){_classCallCheck(this,e)},Go={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ko=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Go}return _createClass(e,[{key:"load",value:function(e){return this._compiler instanceof fo?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Wo(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Wo(e,r,i)}))}}]),e}();function Wo(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Qo=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},Yo=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof Jo&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Jo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return _createClass(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,r,i){t.childNodes.forEach((function(t){t instanceof n&&(r(t)&&i.push(t),e(t,r,i))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,r,i){t instanceof n&&t.childNodes.forEach((function(t){r(t)&&i.push(t),t instanceof n&&e(t,r,i)}))}(this,e,t),t}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}}]),n}(Yo),Xo=new Map,Zo=function(e){return Xo.get(e)||null};function $o(e){Xo.set(e.nativeNode,e)}var ea=Mo(null,"core",[{provide:to,useValue:"unknown"},{provide:Lo,deps:[Bt]},{provide:Ao,deps:[]},{provide:ro,deps:[]}]);function ta(){return Wn}function na(){return Qn}function ra(e){return e||"en-US"}function ia(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var oa=function e(t){_classCallCheck(this,e)};function aa(e,t,n,r,i,o){e|=1;var a=Ir(t),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Dr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||cr},provider:null,text:null,query:null,ngContent:null}}function sa(e,t,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=cr);var d=Ir(n),p=d.matchedQueries,v=d.references,y=d.matchedQueryIds,m=null,g=null;o&&(m=(a=_slicedToArray(Fr(o),2))[0],g=a[1]),u=u||[];for(var b=new Array(u.length),_=0;_<u.length;_++){var w=_slicedToArray(u[_],3),k=w[0],C=w[1],E=w[2],S=Fr(C),O=_slicedToArray(S,2),T=O[0],I=O[1],x=void 0,A=void 0;switch(15&k){case 4:A=E;break;case 1:case 8:x=E}b[_]={flags:k,ns:T,name:I,nonMinifiedName:I,securityContext:x,suffix:A}}l=l||[];for(var N=new Array(l.length),D=0;D<l.length;D++){var j=_slicedToArray(l[D],2),P=j[0],R=j[1];N[D]={type:0,target:P,eventName:R,propName:null}}var M=(s=s||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(Fr(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==J.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+pr++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:y,references:v,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:Ur(b),outputs:N,element:{ns:m,name:g,attrs:M,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||cr},provider:null,text:null,query:null,ngContent:null}}function ua(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Ar(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===J.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],f=l[2];a.setAttribute(r,h,f,c)}return r}function la(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=ca(e,n.nodeIndex,Er(o.target,o.eventName)),s=o.target,u=e;"component"===o.target&&(s=null,u=t);var l=u.renderer.listen(s||r,o.eventName,a);e.disposables[n.outputIndex+i]=l}}function ca(e,t,n){return function(r){return _r(e,t,n,r)}}function ha(e,t,n,r){if(!yr(e,t,n,r))return!1;var i=t.bindings[n],o=or(e,t.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=e.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(e,i,a,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(vt.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,a,s,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,s,r)}return!0}function fa(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Tr(t),bindings:r},ngContent:null}}function da(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Or(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&ur(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var s=e.def.nodes[a];134217728&s.flags&&536870912&s.flags&&ur(e,a).setDirty(),a+=s.childCount}}function pa(e,t){var n=ur(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=va(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=ar(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=va(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function va(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(ya(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=or(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(va(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=wr(h);f&&f===u&&va(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];va(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function ya(e,t,n){if(null!=n)switch(n){case 1:return or(e,t.nodeIndex).renderElement;case 0:return new On(or(e,t.nodeIndex).renderElement);case 2:return or(e,t.nodeIndex).template;case 3:return or(e,t.nodeIndex).viewContainer;case 4:return ar(e,t.nodeIndex).instance}}function ma(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function ga(e,t,n){var r=Ar(e,t,n);r&&Rr(e,n.ngContent.index,1,r,null,void 0)}function ba(e,t){for(var n=Object.keys(t),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[t[a]]=a}return function(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Ur(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,i)}function _a(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function wa(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=Ar(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ka(e,t){return(null!=e?e.toString():"")+t.suffix}function Ca(e,t,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Sa(l,v,t.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?l.element.publicProviders[fr(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[fr(v.provider.token)]=v),m&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)l=v,Ea(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var g=l.parent;g&&(g.childFlags|=l.childFlags,g.childMatchedQueries|=l.childMatchedQueries),c=(l=g)&&Ea(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||cr,updateRenderer:r||cr,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Ea(e){return 0!=(1&e.flags)&&null===e.element.name}function Sa(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function Oa(e,t,n,r){var i=xa(e.root,e.renderer,e,t,n);return Aa(i,e.component,r),Na(i),i}function Ta(e,t,n){var r=xa(e,e.renderer,null,null,t);return Aa(r,n,n),Na(r),r}function Ia(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,xa(e.root,i,e,t.element.componentProvider,n)}function xa(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Aa(e,t,n){e.component=t,e.context=n}function Na(e){var t;Sr(e)&&(t=or(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(lr.setCurrentNode(e,i),201347067&o.flags){case 1:var s=ua(e,t,o),u=void 0;if(33554432&o.flags){var l=Dr(o.element.componentView);u=lr.createComponentView(e,o,l,s)}la(e,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?ai(e,o):void 0},16777216&o.flags&&(a.viewContainer=ni(e,o,a));break;case 2:a=wa(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Oi(e,o)});break;case 16:a={instance:Ti(e,o)};break;case 16384:(a=r[i])||(a={instance:Ii(e,o)}),32768&o.flags&&Aa(or(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Qi;break;case 8:ga(e,t,o),a=void 0}r[i]=a}Ua(e,Fa.CreateViewNodes),Ha(e,201326592,268435456,0)}function Da(e){Ra(e),lr.updateDirectives(e,1),qa(e,Fa.CheckNoChanges),lr.updateRenderer(e,1),Ua(e,Fa.CheckNoChanges),e.state&=-97}function ja(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,nr(e,0,256),Ra(e),lr.updateDirectives(e,0),qa(e,Fa.CheckAndUpdate),Ha(e,67108864,536870912,0);var t=nr(e,256,512);Mi(e,2097152|(t?1048576:0)),lr.updateRenderer(e,0),Ua(e,Fa.CheckAndUpdate),Ha(e,134217728,536870912,0),Mi(e,8388608|((t=nr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,nr(e,768,1024)}function Pa(e,t,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(e,t,n,r,i,o,a,s,u,l,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=t.bindings.length,d=!1;return f>0&&ha(e,t,0,n)&&(d=!0),f>1&&ha(e,t,1,r)&&(d=!0),f>2&&ha(e,t,2,i)&&(d=!0),f>3&&ha(e,t,3,o)&&(d=!0),f>4&&ha(e,t,4,a)&&(d=!0),f>5&&ha(e,t,5,s)&&(d=!0),f>6&&ha(e,t,6,u)&&(d=!0),f>7&&ha(e,t,7,l)&&(d=!0),f>8&&ha(e,t,8,c)&&(d=!0),f>9&&ha(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,a,s,u,l,c,h);case 2:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&yr(e,t,0,n)&&(f=!0),p>1&&yr(e,t,1,r)&&(f=!0),p>2&&yr(e,t,2,i)&&(f=!0),p>3&&yr(e,t,3,o)&&(f=!0),p>4&&yr(e,t,4,a)&&(f=!0),p>5&&yr(e,t,5,s)&&(f=!0),p>6&&yr(e,t,6,u)&&(f=!0),p>7&&yr(e,t,7,l)&&(f=!0),p>8&&yr(e,t,8,c)&&(f=!0),p>9&&yr(e,t,9,h)&&(f=!0),f){var v=t.text.prefix;p>0&&(v+=ka(n,d[0])),p>1&&(v+=ka(r,d[1])),p>2&&(v+=ka(i,d[2])),p>3&&(v+=ka(o,d[3])),p>4&&(v+=ka(a,d[4])),p>5&&(v+=ka(s,d[5])),p>6&&(v+=ka(u,d[6])),p>7&&(v+=ka(l,d[7])),p>8&&(v+=ka(c,d[8])),p>9&&(v+=ka(h,d[9]));var y=ir(e,t.nodeIndex).renderText;e.renderer.setValue(y,v)}return f}(e,t,n,r,i,o,a,s,u,l,c,h);case 16384:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=ar(e,t.nodeIndex),d=f.instance,p=!1,v=void 0,y=t.bindings.length;return y>0&&vr(e,t,0,n)&&(p=!0,v=Ri(e,f,t,0,n,v)),y>1&&vr(e,t,1,r)&&(p=!0,v=Ri(e,f,t,1,r,v)),y>2&&vr(e,t,2,i)&&(p=!0,v=Ri(e,f,t,2,i,v)),y>3&&vr(e,t,3,o)&&(p=!0,v=Ri(e,f,t,3,o,v)),y>4&&vr(e,t,4,a)&&(p=!0,v=Ri(e,f,t,4,a,v)),y>5&&vr(e,t,5,s)&&(p=!0,v=Ri(e,f,t,5,s,v)),y>6&&vr(e,t,6,u)&&(p=!0,v=Ri(e,f,t,6,u,v)),y>7&&vr(e,t,7,l)&&(p=!0,v=Ri(e,f,t,7,l,v)),y>8&&vr(e,t,8,c)&&(p=!0,v=Ri(e,f,t,8,c,v)),y>9&&vr(e,t,9,h)&&(p=!0,v=Ri(e,f,t,9,h,v)),v&&d.ngOnChanges(v),65536&t.flags&&rr(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&yr(e,t,0,n)&&(d=!0),p>1&&yr(e,t,1,r)&&(d=!0),p>2&&yr(e,t,2,i)&&(d=!0),p>3&&yr(e,t,3,o)&&(d=!0),p>4&&yr(e,t,4,a)&&(d=!0),p>5&&yr(e,t,5,s)&&(d=!0),p>6&&yr(e,t,6,u)&&(d=!0),p>7&&yr(e,t,7,l)&&(d=!0),p>8&&yr(e,t,8,c)&&(d=!0),p>9&&yr(e,t,9,h)&&(d=!0),d){var v,y=sr(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=a),p>5&&(v[5]=s),p>6&&(v[6]=u),p>7&&(v[7]=l),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=s),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=l),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var m=n;switch(p){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,i);break;case 4:v=m.transform(r,i,o);break;case 5:v=m.transform(r,i,o,a);break;case 6:v=m.transform(r,i,o,a,s);break;case 7:v=m.transform(r,i,o,a,s,u);break;case 8:v=m.transform(r,i,o,a,s,u,l);break;case 9:v=m.transform(r,i,o,a,s,u,l,c);break;case 10:v=m.transform(r,i,o,a,s,u,l,c,h)}}y.value=v}return d}(e,t,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(e,t,r,i,o,a,s,u,l,c,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)ha(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)yr(e,t,o,n[o])&&(i=!0);if(i){for(var a="",s=0;s<n.length;s++)a+=ka(n[s],r[s]);a=t.text.prefix+a;var u=ir(e,t.nodeIndex).renderText;e.renderer.setValue(u,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=ar(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)vr(e,t,s,n[s])&&(o=!0,a=Ri(e,r,t,s,n[s],a));return a&&i.ngOnChanges(a),65536&t.flags&&rr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)yr(e,t,o,n[o])&&(i=!0);if(i){var a,s=sr(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);a=l.transform.apply(l,_toConsumableArray(c))}s.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Ra(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=or(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,br(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ma(e,t,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(e,t,n,r,i,o,a,s,u,l,c,h){var f=t.bindings.length;f>0&&mr(e,t,0,n),f>1&&mr(e,t,1,r),f>2&&mr(e,t,2,i),f>3&&mr(e,t,3,o),f>4&&mr(e,t,4,a),f>5&&mr(e,t,5,s),f>6&&mr(e,t,6,u),f>7&&mr(e,t,7,l),f>8&&mr(e,t,8,c),f>9&&mr(e,t,9,h)}(e,t,r,i,o,a,s,u,l,c,h,f):function(e,t,n){for(var r=0;r<n.length;r++)mr(e,t,r,n[r])}(e,t,r),!1}function Va(e,t){if(ur(e,t.nodeIndex).dirty)throw $n(lr.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function La(e){if(!(128&e.state)){if(qa(e,Fa.Destroy),Ua(e,Fa.Destroy),Mi(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=wr(e);if(t){var n=t.template._projectedViews;n&&(Q(n,n.indexOf(e)),lr.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(or(e,n).renderElement):2&r.flags?e.renderer.destroyNode(ir(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&ur(e,n).destroy()}}(e),Sr(e)&&e.renderer.destroy(),e.state|=128}}var Fa=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Ua(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?za(or(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function qa(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=or(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)za(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function za(e,t){var n=e.state;switch(t){case Fa.CheckNoChanges:0==(128&n)&&(12==(12&n)?Da(e):64&n&&Ba(e,Fa.CheckNoChangesProjectedViews));break;case Fa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Da(e):64&n&&Ba(e,t));break;case Fa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ja(e):64&n&&Ba(e,Fa.CheckAndUpdateProjectedViews));break;case Fa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ja(e):64&n&&Ba(e,t));break;case Fa.Destroy:La(e);break;case Fa.CreateViewNodes:Na(e)}}function Ba(e,t){qa(e,t),Ua(e,t)}function Ha(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(lr.setCurrentNode(e,a.nodeIndex),r){case 0:pa(e,a);break;case 1:Va(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var Ga=!1;function Ka(e,t,n,r,i,o){var a=i.injector.get(In);return Ta(Qa(e,i,a,t,n),r,o)}function Wa(e,t,n,r,i,o){var a=i.injector.get(In),s=Qa(e,i,new Os(a),t,n),u=is(r);return Es(ds.create,Ta,null,[s,u,o])}function Qa(e,t,n,r,i){var o=t.injector.get(yt),a=t.injector.get(ze),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Ya(e,t,n,r){var i=is(n);return Es(ds.create,Oa,null,[e,t,i,r])}function Ja(e,t,n,r){return n=es.get(t.element.componentProvider.provider.token)||is(n),Es(ds.create,Ia,null,[e,t,n,r])}function Xa(e,t,n,r){return di(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Za.size||(e.providers.forEach((function(e){var r=Za.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){$a.forEach((function(r,i){C(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=Za.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=xr(i.deps),n.value=i.value)}if($a.size>0){var o=new Set(e.modules);$a.forEach((function(t,n){if(o.has(C(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:xr(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[fr(n)]=i}}))}}(e=e.factory((function(){return cr}))),e):e}(r))}var Za=new Map,$a=new Map,es=new Map;function ts(e){var t;Za.set(e.token,e),"function"==typeof e.token&&(t=C(e.token))&&"function"==typeof t.providedIn&&$a.set(e.token,e)}function ns(e,t){var n=Dr(t.viewDefFactory),r=Dr(n.nodes[0].element.componentView);es.set(e,r)}function rs(){Za.clear(),$a.clear(),es.clear()}function is(e){if(0===Za.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Za.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return cr}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Za.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=xr(o.deps),i.value=o.value)}}}}function os(e,t,n,r,i,o,a,s,u,l,c,h,f){var d=e.def.nodes[t];return Pa(e,d,n,r,i,o,a,s,u,l,c,h,f),224&d.flags?sr(e,t).value:void 0}function as(e,t,n,r,i,o,a,s,u,l,c,h,f){var d=e.def.nodes[t];return Ma(e,d,n,r,i,o,a,s,u,l,c,h,f),224&d.flags?sr(e,t).value:void 0}function ss(e){return Es(ds.detectChanges,ja,null,[e])}function us(e){return Es(ds.checkNoChanges,Da,null,[e])}function ls(e){return Es(ds.destroy,La,null,[e])}var cs,hs,fs,ds=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function ps(e,t){hs=e,fs=t}function vs(e,t,n,r){return ps(e,t),Es(ds.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ys(e,t){if(128&e.state)throw tr(ds[cs]);return ps(e,_s(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?gs(e,i,r,a):bs(e,i,r,a),16384&i.flags&&ps(e,_s(e,n)),224&i.flags?sr(e,i.nodeIndex).value:void 0}),e)}function ms(e,t){if(128&e.state)throw tr(ds[cs]);return ps(e,ws(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?gs(e,i,r,a):bs(e,i,r,a),3&i.flags&&ps(e,ws(e,n)),224&i.flags?sr(e,i.nodeIndex).value:void 0}),e)}function gs(e,t,n,r){if(Pa.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=i[a];8&s.flags&&(o[_t(s.nonMinifiedName)]=kt(u))}var l=t.parent,c=or(e,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(c,h,f):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function bs(e,t,n,r){Ma.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function _s(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function ws(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ks=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=kr(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),s=-1;i.factory((function(){var t;return++s===a?(t=e.error).bind.apply(t,[e].concat(n)):cr})),s<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return or(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return ui(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){Cs(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Cs(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!Sr(e);)e=e.parent;return e.parent?or(e.parent,kr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Cr(this.view,this.nodeDef):Cr(this.elView,this.elDef)}}]),e}();function Cs(e,t,n){for(var r in t.references)n[r]=ya(e,t,t.references[r])}function Es(e,t,n,r){var i,o,a=cs,s=hs,u=fs;try{cs=e;var l=t.apply(n,r);return hs=s,fs=u,cs=a,l}catch(c){if(Fe(c)||!hs)throw c;throw i=c,o=Ss(),i instanceof Error||(i=new Error(i.toString())),er(i,o),i}}function Ss(){return hs?new ks(hs,fs):null}var Os=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new Ts(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),Ts=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=Ss,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=Zo(e);!function(e){Xo.delete(e.nativeNode)}(t),t instanceof Yo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Jo(n,null,r);i.name=e,$o(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&$o(new Yo(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&$o(new Yo(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=Zo(e),r=Zo(t);n&&r&&n instanceof Jo&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=Zo(e),i=Zo(t),o=Zo(n);r&&i&&r instanceof Jo&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=Zo(e),r=Zo(t);n&&r&&n instanceof Jo&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=Ss();return r&&$o(new Jo(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=Zo(e);i&&i instanceof Jo&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=Zo(e);r&&r instanceof Jo&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=Zo(e);n&&n instanceof Jo&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=Zo(e);n&&n instanceof Jo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=Zo(e);i&&i instanceof Jo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=Zo(e);r&&r instanceof Jo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=Zo(e);r&&r instanceof Jo&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=Zo(e);r&&r.listeners.push(new Qo(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();function Is(e,t,n){return new xs(e,t,n)}var xs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).moduleType=e,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(e){!function(){if(!Ga){Ga=!0;var e=Ge()?{setCurrentNode:ps,createRootView:Wa,createEmbeddedView:Ya,createComponentView:Ja,createNgModuleRef:Xa,overrideProvider:ts,overrideComponentView:ns,clearOverrides:rs,checkAndUpdateView:ss,checkNoChangesView:us,destroyView:ls,createDebugContext:function(e,t){return new ks(e,t)},handleEvent:vs,updateDirectives:ys,updateRenderer:ms}:{setCurrentNode:function(){},createRootView:Ka,createEmbeddedView:Oa,createComponentView:Ia,createNgModuleRef:di,overrideProvider:cr,overrideComponentView:cr,clearOverrides:cr,checkAndUpdateView:ja,checkNoChangesView:Da,destroyView:La,createDebugContext:function(e,t){return new ks(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?os:as,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?os:as,e)}};lr.setCurrentNode=e.setCurrentNode,lr.createRootView=e.createRootView,lr.createEmbeddedView=e.createEmbeddedView,lr.createComponentView=e.createComponentView,lr.createNgModuleRef=e.createNgModuleRef,lr.overrideProvider=e.overrideProvider,lr.overrideComponentView=e.overrideComponentView,lr.clearOverrides=e.clearOverrides,lr.checkAndUpdateView=e.checkAndUpdateView,lr.checkNoChangesView=e.checkNoChangesView,lr.destroyView=e.destroyView,lr.resolveDep=ji,lr.createDebugContext=e.createDebugContext,lr.handleEvent=e.handleEvent,lr.updateDirectives=e.updateDirectives,lr.updateRenderer=e.updateRenderer,lr.dirtyParentQueries=da}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Dr(this._ngModuleDefFactory));return lr.createNgModuleRef(this.moduleType,e||Bt.NULL,this._bootstrapComponents,t)}}]),n}(K)},"9ppp":function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);var i=r},CRDf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("kJWO"),i=function(e){return function(t){var n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),a=n("kJWO"),s=n("Lhse"),u=n("yCtX"),l=n("quSY"),c=n("a7t3"),h=n("pLzU"),f=n("CRDf"),d=n("SeVD");function p(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(d.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a(t?function(n){var r=new l.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:Object(f.a)(e))}(e,t);if(Object(i.a)(e))return function(e,t){return new r.a(t?function(n){var r=new l.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:Object(c.a)(e))}(e,t);if(Object(o.a)(e))return Object(u.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(t?function(n){var r,i=new l.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[s.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}:Object(h.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return p}))},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),u=n("2fFW");n.d(t,"a",(function(){return c}));var l,c=((l=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var a=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(s.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new l(e)},l);function h(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}();n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.1","app")},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),a=n("XUOw");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t[t.length-1];switch(Object(r.a)(s)?t.pop():s=void 0,t.length){case 0:return Object(o.b)(s);case 1:return s?Object(i.a)(t,s):Object(a.a)(t[0]);default:return Object(i.a)(t,s)}}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}))}n.d(t,"a",(function(){return r}))},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),a=n("pLzU"),s=n("CRDf"),u=n("I55L"),l=n("c2HN"),c=n("XoHu"),h=n("Lhse"),f=n("kJWO"),d=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[f.a])return Object(s.a)(e);if(Object(u.a)(e))return Object(i.a)(e);if(Object(l.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[h.a])return Object(a.a)(e);var t=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,l=t[t.length-1];return Object(i.a)(l)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof l&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,u))}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),c=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:u.a,value:function(){return new l(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(c)},XUOw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e){var t=new r.a((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Y7HM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("DH7j");function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,o);if(!a.closed)return Object(i.a)(t)(a)}},a7t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("NJ4a"),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.a),t}}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},jmUF:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("8Y7J"),l=n("Jgta");function c(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),d=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))};function p(e){return function(t){return(t=t.lift(new f(e.ngZone))).pipe(Object(a.a)(e.outsideAngular),Object(s.b)(e.insideAngular))}}var v=["ngOnDestroy"],y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(v.indexOf(o)>-1)return function(){};var a=t.toPromise().then((function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return a[t]},apply:function(e,t,n){return a.then((function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},m=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype||t).forEach((function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))}))}))},g=new u.o("angularfire2.app.options"),b=new u.o("angularfire2.app.nameOrConfig"),_=function e(){_classCallCheck(this,e)},w=new u.N("6.1.1");function k(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=l.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return l.a.initializeApp(t,i)}));return JSON.stringify(t)!==JSON.stringify(o.options)&&E("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":".")),o}var C=function(){E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function S(t,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),s=a[0],u=a.slice(1);if(s)return o.some((function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&E("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":"")),s;var l=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[l].concat(_toConsumableArray(o))),l}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var O=function(){function e(t){_classCallCheck(this,e),l.a.registerVersion("angularfire",w.full,t.toString()),l.a.registerVersion("angular",u.M.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:g,useValue:t},{provide:b,useValue:n}]}}}]),e}()}).call(this,n("3UD+")(e))},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KqfI");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},mrSG:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},pLzU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Lhse"),i=function(e){return function(t){for(var n=e[r.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},pxpQ:function(e,t,n){"use strict";var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return e=this.error,new s.a((function(t){return t.error(e)}));case"C":return Object(o.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(e,t))}}n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h}));var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.scheduler,this.delay))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(u.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(u.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(i.a),f=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,l=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=l[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return v}));var r=n("mrSG");function i(e){return o(void 0,e)}function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=o(e[n],t[n]));return e}var a=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var e=s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},e}();function g(e,t){return e.replace(b,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){var n=new k(e,t);return n.subscribe.bind(n)}var k=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}},qgXg:function(e,t,n){"use strict";var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a);n.d(t,"a",(function(){return o}));var o=new i(r)},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function a(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}a.prototype=Object.create(Error.prototype);var s=a;n.d(t,"a",(function(){return c}));var u,l,c=((l=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,f=a?a.length:0;n;)n.remove(this),n=++c<f&&a[c]||null;if(Object(o.a)(u))try{u.call(this)}catch(p){t=!0,e=p instanceof s?h(p.errors):[p]}if(Object(r.a)(l))for(c=-1,f=l.length;++c<f;){var d=l[c];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){t=!0,e=e||[],p instanceof s?e=e.concat(h(p.errors)):e.push(p)}}if(t)throw new s(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=((u=new l).closed=!0,u),l);function h(e){return e.reduce((function(e,t){return e.concat(t instanceof s?t.errors:t)}),[])}},"tf+s":function(e,t,n){"use strict";var r=n("HDdC"),i=1,o={},a=function(e){var t=i++;return o[t]=e,Promise.resolve().then((function(){return function(e){var t=o[e];t&&t()}(t)})),t},s=function(e){delete o[e]},u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=a(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(s(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(u),c=n("Y7HM"),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=i,r.scheduler=o,(!Object(c.a)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=l),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new d(e,t))}}n.d(t,"a",(function(){return f}));var d=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new h(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function a(e,t){return new r.a(t?function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(e))}},yLV6:function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function m(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var g=m((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=m((function(e,t){return g(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function C(e,t){return void 0===e?t:e}function E(e,t,n){y(I(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){y(I(t),(function(t){e.removeEventListener(t,n,!1)}))}function O(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function x(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function N(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];x(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function D(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}}var j=1;function P(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var R="ontouchstart"in i,M=void 0!==D(i,"PointerEvent"),V=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],F=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function q(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i==0,a=12&t&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=z(t)),i>1&&!n.firstMultiple?n.firstMultiple=z(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=B(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=W(s,u),t.distance=K(s,u),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=G(t.deltaX,t.deltaY);var l,c,h=H(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,t.scale=a?(l=a.pointers,K((c=r)[0],c[1],F)/K(l[0],l[1],F)):1,t.rotation=a?function(e,t){return W(t[1],t[0],F)+W(e[1],e[0],F)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,c=H(s,u,l);r=c.x,i=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=G(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var p=e.element;O(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:B(t),deltaX:e.deltaX,deltaY:e.deltaY}}function B(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:h(n/t),y:h(r/t)}}function H(e,t,n){return{x:t/e||0,y:n/e||0}}function G(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=L);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function W(e,t,n){return n||(n=L),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(P(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}_(Y,U,{handler:function(e){var t=Q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",$="pointermove pointerup pointercancel";function ee(){this.evEl=Z,this.evWin=$,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Z="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,U,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=J[r],o=X[e.pointerType]||e.pointerType,a="touch"==o,s=x(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function re(e,t){var n=A(e.touches),r=A(e.changedTouches);return 12&t&&(n=N(n.concat(r),"identifier",!0)),[n,r]}_(ne,U,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function ae(e,t){var n=A(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=A(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return O(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[N(o.concat(s),"identifier",!0),s]:void 0}function se(){U.apply(this,arguments);var e=w(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new Y(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ue(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(oe,U,{handler:function(e){var t=ie[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),_(se,U,{handler:function(e,t,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ue.call(this,t,n);else if(r&&ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var he=D(c.style,"touchAction"),fe=void 0!==he,de=function(){if(!fe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}function ve(e){this.options=u({},this.defaults,e||{}),this.id=j++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ye(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ge(e,t){var n=t.manager;return n?n.get(e):e}function be(){ve.apply(this,arguments)}function _e(){be.apply(this,arguments),this.pX=null,this.pY=null}function we(){be.apply(this,arguments)}function ke(){ve.apply(this,arguments),this._timer=null,this._input=null}function Ce(){be.apply(this,arguments)}function Ee(){be.apply(this,arguments)}function Se(){ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Oe(e,t){return(t=t||{}).recognizers=C(t.recognizers,Oe.defaults.preset),new Te(e,t)}function Te(e,t){var n;this.options=u({},Oe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(M?ee:V?oe:R?se:Y))(n,q),this.touchAction=new pe(this,this.options.touchAction),Ie(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ie(e,t){var n,r=e.element;r.style&&(y(e.options.cssProps,(function(i,o){n=D(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),fe&&this.manager.element.style&&de[e]&&(this.manager.element.style[he]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(T(e,"none"))return"none";var t=T(e,"pan-x"),n=T(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":T(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=T(r,"none")&&!de.none,o=T(r,"pan-y")&&!de["pan-y"],a=T(r,"pan-x")&&!de["pan-x"];if(i&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ve.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=ge(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===x(t,e=ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=ge(e,this);var t=x(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+ye(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+ye(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(be,ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),_(_e,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(we,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),_(ke,ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(Ce,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Ee,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Se,ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Oe.VERSION="2.0.7",Oe.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ce,{enable:!1}],[we,{enable:!1},["rotate"]],[Ee,{direction:6}],[_e,{direction:6},["swipe"]],[Se],[Se,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Te.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ve)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=x(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return y(I(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return y(I(e),(function(e){t?n[e]&&n[e].splice(x(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Oe,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Te,Input:U,TouchAction:pe,TouchInput:oe,MouseInput:Y,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:ve,AttrRecognizer:be,Tap:Se,Pan:_e,Swipe:Ee,Pinch:we,Rotate:Ce,Press:ke,on:E,off:S,each:y,merge:b,extend:g,assign:u,inherit:_,bindFn:w,prefixed:D}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Oe,void 0===(r=(function(){return Oe}).call(t,n,t,e))||(e.exports=r)}(window,document)},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zIRd:function(e,t,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.b("app","Firebase",l),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var l=Object(o.h)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(Object(a.c)(t,s))throw c.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}l(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument",{appName:name});Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:l,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(a.c)(t,e))throw c.create("no-app",{appName:e});return t[e]}function l(s){var u,l,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw c.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==s.serviceProps&&Object(a.f)(d,s.serviceProps),r[h]=d,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?e:[])}}try{for(var p=Object(o.h)(Object.keys(t)),v=p.next();!v.done;v=p.next())t[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=Object(o.a)(Object(o.a)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.f)(t,e)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,e)};var g=p;!function(e,t){e.INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.13",void 0),e.registerVersion("fire-js","")}(g),t.a=g},zUnb:function(e,t,n){"use strict";n.r(t),n("yLV6");var r=n("8Y7J"),i=function e(){_classCallCheck(this,e)},o=function e(){_classCallCheck(this,e),this.title="friday-funday"},a=function e(){_classCallCheck(this,e)},s=new r.o("Location Initialized"),u=function e(){_classCallCheck(this,e)},l=new r.o("appBaseHref"),c=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(h(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,h(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function h(e){return e.replace(/\/index.html$/,"")}var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=c.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(u),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return c.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(u),p=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),v=r.ub,y=new r.o("UseV4Plurals"),m=function e(){_classCallCheck(this,e)},g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i.deprecatedPluralFn=r,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):v(t||this.locale)(e)){case p.Zero:return"zero";case p.One:return"one";case p.Two:return"two";case p.Few:return"few";case p.Many:return"many";default:return"other"}}}]),n}(m),b=function e(){_classCallCheck(this,e)},_=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(e,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.wb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Hb)(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}(),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(e){this._delegate.setClass(e)}},{key:"ngClass",set:function(e){this._delegate.setNgClass(e)}}]),n}(function(){var e=function(){function e(t){_classCallCheck(this,e),this._delegate=t}return _createClass(e,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),e}();return e.ngDirectiveDef=void 0,e}()),k=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),C=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Ym){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new k(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new E(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new E(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(r.W)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),E=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},S=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new O,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){T("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){T("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}]),e}(),O=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function T(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.Hb)(t),"'."))}var I=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),x=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}(),A=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new I(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}(),N=function e(){_classCallCheck(this,e)},D=new r.o("DocumentToken");function j(e){return"server"===e}var P,R=((P=function e(){_classCallCheck(this,e)}).ngInjectableDef=Object(r.Nb)({token:P,providedIn:"root",factory:function(){return new M(Object(r.Ob)(D),window,Object(r.Ob)(r.l))}}),P),M=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(Ym){return!1}}}]),e}(),V=n("LRne"),L=n("Cfvw"),F=n("XNiG"),U=n("9ppp"),q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new U.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(F.a),z=n("HDdC");function B(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}B.prototype=Object.create(Error.prototype);var H=B,G=n("z+Ro"),K=n("DH7j"),W=n("l7GE"),Q=n("ZUHj"),Y=n("yCtX"),J={},X=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Z(e,this.resultSelector))}}]),e}(),Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(J),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(Q.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===J?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(W.a),$=n("EY2u");function ee(e){return new z.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(L.a)(n):Object($.b)()).subscribe(t)}))}var te=n("lJxs"),ne=n("bHdf");function re(){return Object(ne.a)(1)}var ie=n("7o/Q");function oe(e,t){return function(n){return n.lift(new ae(e,t))}}var ae=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new se(e,this.predicate,this.thisArg))}}]),e}(),se=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(ie.a);function ue(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ue.prototype=Object.create(Error.prototype);var le=ue;function ce(e){return function(t){return 0===e?Object($.b)():t.lift(new he(e))}}var he=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new le}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new fe(e,this.total))}}]),e}(),fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(ie.a),de=n("vkgz"),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;return Object(de.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function ve(){return new H}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new me(e))}}var me=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ge(e,this.defaultValue))}}]),e}(),ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(ie.a),be=n("SpAZ");function _e(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?oe((function(t,n){return e(t,n,r)})):be.a,ce(1),n?ye(t):pe((function(){return new H})))}}var we=n("51Dv");function ke(e){return function(t){var n=new Ce(e),r=t.lift(n);return n.caught=r}}var Ce=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ee(e,this.selector,this.caught))}}]),e}(),Ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(i){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new we.a(this,void 0,void 0);this.add(r),Object(Q.a)(this,t,void 0,void 0,r)}}}]),n}(W.a);function Se(e){return function(t){return 0===e?Object($.b)():t.lift(new Oe(e))}}var Oe=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new le}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Te(e,this.total))}}]),e}(),Te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(ie.a);function Ie(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?oe((function(t,n){return e(t,n,r)})):be.a,Se(1),n?ye(t):pe((function(){return new H})))}}var xe=n("5+tZ"),Ae=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ne(e,this.predicate,this.thisArg,this.source))}}]),e}(),Ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(ie.a);function De(e,t){return"function"==typeof t?function(n){return n.pipe(De((function(n,r){return Object(L.a)(e(n,r)).pipe(Object(te.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new je(e))}}var je=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Pe(e,this.project))}}]),e}(),Pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new we.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(Q.a)(this,e,t,n,i)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(W.a),Re=n("XUOw");function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];Object(G.a)(n)?t.pop():n=null;var r=t.length;return function(){return re()(Object(V.a).apply(void 0,arguments))}(1!==r||n?r>0?Object(Y.a)(t,n):Object($.b)(n):Object(Re.a)(t[0]),e)}}function Ve(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Le(e,t,n))}}var Le=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fe(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(ie.a);function Ue(e,t){return Object(xe.a)(e,t,1)}var qe=n("mCNh"),ze=n("quSY"),Be=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new He(e,this.callback))}}]),e}(),He=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new ze.a(r)),i}return n}(ie.a),Ge=null;function Ke(){return Ge}var We,Qe={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Je={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xe=function(){if(r.vb.Node)return r.vb.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),Ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return Xe.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(Ym){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Je.hasOwnProperty(t)&&(t=Je[t]))}return Ye[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=$e||($e=document.querySelector("base"))?$e.getAttribute("href"):null;return null==n?null:(t=n,We||(We=document.createElement("a")),We.setAttribute("href",t),"/"===We.pathname.charAt(0)?We.pathname:"/"+We.pathname)}},{key:"resetBaseElement",value:function(){$e=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return Qe}}],[{key:"makeCurrent",value:function(){var e;e=new n,Ge||(Ge=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n),(e=t.call(this))._animationPrefix=null,e._transitionEnd=null;try{var r=e.createElement("div",document);if(null!=e.getStyle(r,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=e.getStyle(r,i[o]+"AnimationName")){e._animationPrefix="-"+i[o].toLowerCase()+"-";break}var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(a).forEach((function(t){null!=e.getStyle(r,t)&&(e._transitionEnd=a[t])}))}catch(Ym){e._animationPrefix=null,e._transitionEnd=null}return e}return _createClass(n,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}())),$e=null;function et(){return!!window.history.pushState}var tt=new r.o("TRANSITION_ID"),nt=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then((function(){var n=Ke();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[tt,D,r.p],multi:!0}],rt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.vb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.vb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.vb.getAllAngularRootElements=function(){return e.getAllRootElements()},r.vb.frameworkStabilizers||(r.vb.frameworkStabilizers=[]),r.vb.frameworkStabilizers.push((function(e){var t=r.vb.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Ke().isShadowRoot(t)?this.findTestabilityInTree(e,Ke().getHost(t),!0):this.findTestabilityInTree(e,Ke().parentElement(t),!0):null}}],[{key:"init",value:function(){Object(r.Y)(new e)}}]),e}();function it(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r.vb.ng=r.vb.ng||{})[e]=t)}var ot={ApplicationRef:r.g,NgZone:r.x};function at(e){return Object(r.U)(e)}var st=new r.o("EventManagerPlugins"),ut=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}(),lt=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Ke().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),ct=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Ke().remove(e)}))}}]),n}(ct),ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dt=/%COMP%/g;function pt(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?pt(e,i,n):(i=i.replace(dt,e),n.push(i))}return n}function vt(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var yt=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mt(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new _t(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.P.Native:case r.P.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=pt(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),mt=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=ft[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=ft[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&r.E.DashCase?e.style.setProperty(t,n,i&r.E.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.E.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){bt(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return bt(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vt(n)):this.eventManager.addEventListener(e,t,vt(n))}}]),e}(),gt="@".charCodeAt(0);function bt(e,t){if(e.charCodeAt(0)===gt)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var _t=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=pt(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(dt,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(dt,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(mt),wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=pt(a.id,a.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(mt),kt="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Ct=kt("addEventListener"),Et=kt("removeEventListener"),St={},Ot="__zone_symbol__propagationStopped",Tt=function(){var e="undefined"!=typeof Zone&&Zone[kt("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),It=function(e){return!!Tt&&Tt.hasOwnProperty(e)},xt=function(e){var t=St[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),a=0;a<o.length&&!0!==e[Ot];a++){var s=o[a];s.zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},At=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).ngZone=r,i&&j(i)||o.patchEvent(),o}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ot]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this,o=n;if(!e[Ct]||r.x.isInAngularZone()&&!It(t))e.addEventListener(t,o,!1);else{var a=St[t];a||(a=St[t]=kt("ANGULAR"+t+"FALSE"));var s=e[a],u=s&&s.length>0;s||(s=e[a]=[]);var l=It(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===o){c=!0;break}c||s.push({zone:l,handler:o})}u||e[Ct](t,xt,!1)}return function(){return i.removeEventListener(e,t,o)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[Et];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=St[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(e,[t,xt,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),n}(lt),Nt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Dt=new r.o("HammerGestureConfig"),jt=new r.o("HammerLoader"),Pt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._config=r,a.console=i,a.loader=o,a}return _createClass(n,[{key:"supports",value:function(e){return!(!Nt.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom Hammer.JS loader failed.')),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(lt),Rt=["alt","control","meta","shift"],Mt={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Ke().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Rt.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=Ke().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Rt.forEach((function(r){r!=n&&(0,Mt[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(lt),Lt=function e(){_classCallCheck(this,e)},Ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.G.NONE:return t;case r.G.HTML:return t instanceof qt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(r.eb)(this._doc,String(t)));case r.G.STYLE:return t instanceof zt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(r.fb)(t));case r.G.SCRIPT:if(t instanceof Bt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.G.URL:return t instanceof Gt||t instanceof Ht?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(r.gb)(String(t)));case r.G.RESOURCE_URL:if(t instanceof Gt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof Ut)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," (see http://g.co/ng/security#xss)"))}},{key:"bypassSecurityTrustHtml",value:function(e){return new qt(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new zt(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new Bt(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Ht(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Gt(e)}}]),n}(Lt),Ut=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),qt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ut),zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ut),Bt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ut),Ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ut),Gt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ut),Kt=[{provide:r.z,useValue:"browser"},{provide:r.A,useValue:function(){Ze.makeCurrent(),rt.init()},multi:!0},{provide:a,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Ke().getLocation(),this._history=Ke().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Ke().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Ke().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Ke().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){et()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){et()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(a),deps:[D]},{provide:D,useFactory:function(){return document},deps:[]}],Wt=Object(r.R)(r.X,"browser",Kt);function Qt(){return new r.l}var Yt=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:tt,useExisting:r.c},nt]}}}]),e}();"undefined"!=typeof window&&window;var Jt=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Xt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Jt),Zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Jt),$t=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Jt),en=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Jt),tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Jt),nn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Jt),rn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Jt),on=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Jt),an=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Jt),sn=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),un=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),ln=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),cn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),hn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),fn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),dn=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),pn=function e(){_classCallCheck(this,e)},vn=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function yn(e){return new vn(e)}function mn(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function gn(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var bn=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function _n(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];wn(r,kn(t,r))}}function wn(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&_n(e.children,t)}function kn(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Cn(e){var t=e.children&&e.children.map(Cn),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=pn),n}function En(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function Sn(e){return Array.prototype.concat.apply([],e)}function On(e){return e.length>0?e[e.length-1]:null}function Tn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function In(e){return Object(r.xb)(e)?e:Object(r.yb)(e)?Object(L.a)(Promise.resolve(e)):Object(V.a)(e)}function xn(e,t,n){return n?function(e,t){return En(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!jn(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!jn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!jn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!jn(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var An=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Vn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}}]),e}(),Nn=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Tn(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Ln(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Dn=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Hn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=yn(this.parameters)),this._parameterMap}}]),e}();function jn(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Pn(e,t){var n=[];return Tn(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Tn(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Rn=function e(){_classCallCheck(this,e)},Mn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Yn(e);return new An(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Ln(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Tn(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Pn(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Ln(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Un(e),"=").concat(Un(t))})).join("&"):"".concat(Un(e),"=").concat(Un(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Vn=new Mn;function Ln(e){return e.segments.map((function(e){return Hn(e)})).join("/")}function Fn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Un(e){return Fn(e).replace(/%3B/gi,";")}function qn(e){return Fn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zn(e){return decodeURIComponent(e)}function Bn(e){return zn(e.replace(/\+/g,"%20"))}function Hn(e){return"".concat(qn(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(qn(e),"=").concat(qn(t[e]))})).join("")));var t}var Gn=/^[^\/()?;=#]+/;function Kn(e){var t=e.match(Gn);return t?t[0]:""}var Wn=/^[^=?&#]+/,Qn=/^[^?&#]+/,Yn=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Nn(e,t)),n}},{key:"parseSegment",value:function(){var e=Kn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Dn(zn(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Kn(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Kn(this.remaining);r&&(n=r,this.capture(n))}e[zn(t)]=zn(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Wn);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Qn);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Bn(t),o=Bn(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Kn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Nn([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Jn=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Xn(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Xn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Zn(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Zn(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Xn(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Xn(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Zn(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Zn(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var $n=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function er(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var tr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,sr(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Jn);function nr(e,t){var n=function(e,t){var n=new or([],{},{},"",{},"primary",t,null,e.root,-1,{});return new ar("",new $n(n,[]))}(e,t),r=new q([new Dn("",{})]),i=new q({}),o=new q({}),a=new q({}),s=new q(""),u=new rr(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new tr(new $n(u,[]),n)}var rr=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(te.a)((function(e){return yn(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(te.a)((function(e){return yn(e)})))),this._queryParamMap}}]),e}();function ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var or=function(){function e(t,n,r,i,o,a,s,u,l,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=yn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}}]),e}(),ar=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,sr(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return ur(this._root)}}]),n}(Jn);function sr(e,t){t.value._routerState=e,t.children.forEach((function(t){return sr(e,t)}))}function ur(e){var t=e.children.length>0?" { ".concat(e.children.map(ur).join(", ")," } "):"";return"".concat(e.value).concat(t)}function lr(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,En(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),En(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!En(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),En(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function cr(e,t){return En(e.params,t.params)&&function(e,t){return jn(e,t)&&e.every((function(e,n){return En(e.parameters,t[n].parameters)}))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||cr(e.parent,t.parent))}function hr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function fr(e,t,n,r,i){var o={};return r&&Tn(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new An(n.root===e?t:function e(t,n,r){var i={};return Tn(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Nn(t.segments,i)}(n.root,e,t),o,i)}var dr=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&hr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==On(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),pr=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function vr(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function yr(e,t,n){if(e||(e=new Nn([],{})),0===e.segments.length&&e.hasChildren())return mr(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=vr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!wr(s,u,a))return o;r+=2}else{if(!wr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Nn(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Nn(e.segments.slice(r.pathIndex),e.children),mr(o,0,i)}return r.match&&0===i.length?new Nn(e.segments,{}):r.match&&!e.hasChildren()?gr(e,t,n):r.match?mr(e,0,i):gr(e,t,n)}function mr(e,t,n){if(0===n.length)return new Nn(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Tn(r,(function(n,r){null!==n&&(i[r]=yr(e.children[r],t,n))})),Tn(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Nn(e.segments,i)}function gr(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=br(n[i].outlets);return new Nn(r,o)}if(0===i&&hr(n[0]))r.push(new Dn(e.segments[t].path,n[0])),i++;else{var a=vr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&hr(s)?(r.push(new Dn(a,_r(s))),i+=2):(r.push(new Dn(a,{})),i++)}}return new Nn(r,{})}function br(e){var t={};return Tn(e,(function(e,n){null!==e&&(t[n]=gr(new Nn([],{}),0,e))})),t}function _r(e){var t={};return Tn(e,(function(e,n){return t[n]=""+e})),t}function wr(e,t,n){return e==n.path&&En(t,n.parameters)}var kr=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),lr(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=er(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Tn(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=er(e),o=e.value.component?r.children:t;Tn(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=er(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new fn(e.value.snapshot))})),e.children.length&&this.forwardEvent(new cn(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(lr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Cr(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Cr(e){lr(e.value),e.children.forEach(Cr)}function Er(e){return"function"==typeof e}function Sr(e){return e instanceof An}var Or=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Tr=function e(t){_classCallCheck(this,e),this.urlTree=t};function Ir(e){return new z.a((function(t){return t.error(new Or(e))}))}function xr(e){return new z.a((function(t){return t.error(new Tr(e))}))}function Ar(e){return new z.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Nr=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.v)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(te.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(ke((function(t){if(t instanceof Tr)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Or)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(te.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(ke((function(e){if(e instanceof Or)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Nn([],{primary:e}):e;return new An(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(te.a)((function(e){return new Nn([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(V.a)({});var o=[],a=[],s={};return Tn(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(e,t,l,u)).pipe(Object(te.a)((function(e){return s[i]=e})));"primary"===i?o.push(c):a.push(c)})),V.a.apply(null,o.concat(a)).pipe(re(),_e(),Object(te.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Object(V.a).apply(void 0,_toConsumableArray(n)).pipe(Object(te.a)((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(ke((function(e){if(e instanceof Or)return Object(V.a)(null);throw e})))})),re(),Ie((function(e){return!!e})),ke((function(e,n){if(e instanceof H||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Object(V.a)(new Nn([],{}));throw new Or(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Rr(r)!==o?Ir(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Ir(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xr(o):this.lineralizeSegments(n,o).pipe(Object(xe.a)((function(n){var o=new Nn(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Dr(t,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Ir(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?xr(f):this.lineralizeSegments(r,f).pipe(Object(xe.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(te.a)((function(e){return n._loadedConfig=e,new Nn(r,{})}))):Object(V.a)(new Nn(r,{}));var o=Dr(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Ir(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(xe.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Pr(e,t,n)&&"primary"!==Rr(n)}))}(e,n,r)?{segmentGroup:jr(new Nn(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Rr(o)&&(n[Rr(o)]=new Nn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Nn(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Pr(e,t,n)}))}(e,n,r)?{segmentGroup:jr(new Nn(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Pr(e,t,s)&&!r[Rr(s)]&&(o[Rr(s)]=new Nn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign({},r,o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(te.a)((function(e){return new Nn(s,e)}))):0===r.length&&0===u.length?Object(V.a)(new Nn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(te.a)((function(e){return new Nn(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(V.a)(new bn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(V.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(L.a)(i).pipe(Object(te.a)((function(r){var i,o=e.get(r);if(function(e){return e&&Er(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Er(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return In(i)}))).pipe(re(),(r=function(e){return!0===e},function(e){return e.lift(new Ae(r,void 0,e))})):Object(V.a)(!0)}(e.injector,t,n).pipe(Object(xe.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(te.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new z.a((function(t){return t.error(mn("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(V.a)(new bn([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(V.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ar(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new An(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Tn(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Tn(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Nn(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Dr(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||gn)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function jr(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Nn(e.segments.concat(t.segments),t.children)}return e}function Pr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Rr(e){return e.outlet||"primary"}var Mr=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Vr=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Lr(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Fr(e,t,n){var r=er(e),i=e.value;Tn(r,(function(e,r){Fr(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Vr(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Ur=Symbol("INITIAL_VALUE");function qr(){return De((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(G.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(K.a)(t[0])&&(t=t[0]),Object(Y.a)(t,i).lift(new X(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Se(1),Me(Ur))})))).pipe(Ve((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Ur)return e;if(r===Ur&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Sr(r))return r}return e}),e)}),Ur),oe((function(e){return e!==Ur})),Object(te.a)((function(e){return Sr(e)?e:!0===e})),Se(1))}))}function zr(e,t){return null!==e&&t&&t(new hn(e)),Object(V.a)(!0)}function Br(e,t){return null!==e&&t&&t(new ln(e)),Object(V.a)(!0)}function Hr(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(V.a)(!0);var i=r.map((function(r){return ee((function(){var i,o=Lr(r,t,n);if(function(e){return e&&Er(e.canActivate)}(o))i=In(o.canActivate(t,e));else{if(!Er(o))throw new Error("Invalid CanActivate guard");i=In(o(t,e))}return i.pipe(Ie())}))}));return Object(V.a)(i).pipe(qr())}function Gr(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return ee((function(){var i=t.guards.map((function(i){var o,a=Lr(i,t.node,n);if(function(e){return e&&Er(e.canActivateChild)}(a))o=In(a.canActivateChild(r,e));else{if(!Er(a))throw new Error("Invalid CanActivateChild guard");o=In(a(r,e))}return o.pipe(Ie())}));return Object(V.a)(i).pipe(qr())}))}));return Object(V.a)(i).pipe(qr())}var Kr=function e(){_classCallCheck(this,e)},Wr=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Jr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new or([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $n(n,t),i=new ar(this.url,r);return this.inheritParamsAndData(i._root),Object(V.a)(i)}catch(o){return new z.a((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=ir(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Pn(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof Kr))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Kr}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Kr;if((e.outlet||"primary")!==r)throw new Kr;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?On(n).parameters:{};i=new or(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(e),r,e.component,e,Qr(t),Yr(t)+n.length,ei(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Kr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||gn)(n,e,t);if(!r)throw new Kr;var i={};Tn(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new or(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$r(e),r,e.component,e,Qr(t),Yr(t)+o.length,ei(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Jr(t,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new $n(i,d)]}if(0===l.length&&0===f.length)return[new $n(i,[])];var p=this.processSegment(l,h,f,"primary");return[new $n(i,p)]}}]),e}();function Qr(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Yr(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Jr(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Xr(e,t,n)&&"primary"!==Zr(n)}))}(e,n,r)){var o=new Nn(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Zr(s)){var u=new Nn([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[Zr(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}(e,t,r,new Nn(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Xr(e,t,n)}))}(e,n,r)){var a=new Nn(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(Xr(e,n,l)&&!i[Zr(l)]){var c=new Nn([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Zr(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Nn(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Xr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Zr(e){return e.outlet||"primary"}function $r(e){return e.data||{}}function ei(e){return e.resolve||{}}function ti(e,t,n,r){var i=Lr(e,t,r);return In(i.resolve?i.resolve(t,n):i(t,n))}function ni(e){return function(t){return t.pipe(De((function(t){var n=e(t);return n?Object(L.a)(n).pipe(Object(te.a)((function(){return t}))):Object(L.a)([t])})))}}var ri=function e(){_classCallCheck(this,e)},ii=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),oi=new r.o("ROUTES"),ai=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(te.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new bn(Sn(i.injector.get(oi)).map(Cn),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(L.a)(this.loader.load(e)):In(e()).pipe(Object(xe.a)((function(e){return e instanceof r.t?Object(V.a)(e):Object(L.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),si=function e(){_classCallCheck(this,e)},ui=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function li(e){throw e}function ci(e,t,n){return t.parse("/")}function hi(e,t){return Object(V.a)(null)}var fi=function(){function e(t,n,i,o,a,s,u,l){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new F.a,this.errorHandler=li,this.malformedUriErrorHandler=ci,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hi,afterPreactivation:hi},this.urlHandlingStrategy=new ui,this.routeReuseStrategy=new ii,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.v),this.console=a.get(r.bb);var h=a.get(r.x);this.isNgZoneEnabled=h instanceof r.x,this.resetConfig(l),this.currentUrlTree=new An(new Nn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ai(s,u,(function(e){return c.triggerEvent(new sn(e))}),(function(e){return c.triggerEvent(new un(e))})),this.routerState=nr(this.currentUrlTree,this.rootComponentType),this.transitions=new q({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(oe((function(e){return 0!==e.id})),Object(te.a)((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),De((function(e){var r,i,o,a,s=!1,u=!1;return Object(V.a)(e).pipe(Object(de.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),De((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(V.a)(e).pipe(De((function(e){var r=t.transitions.getValue();return n.next(new Xt(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?$.a:[e]})),De((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(De((function(e){return function(e,t,n,r,i){return new Nr(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(te.a)((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),Object(de.a)((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(xe.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Wr(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(te.a)((function(e){return Object.assign({},r,{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(de.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(de.a)((function(e){var r=new tn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,l=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new Xt(u,t.serializeUrl(l),c,h);n.next(d);var p=nr(l,t.rootComponentType).snapshot;return Object(V.a)(Object.assign({},e,{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),$.a})),ni((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(de.a)((function(e){var n=new nn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(te.a)((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=er(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!jn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!jn(e.url,t.url)||!En(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cr(e,t)||!En(e.queryParams,t.queryParams);case"paramsChange":default:return!cr(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Mr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Vr(u&&u.outlet&&u.outlet.component||null,s))}else s&&Fr(n,u,o),o.canActivateChecks.push(new Mr(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Tn(a,(function(e,t){return Fr(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(xe.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(V.a)(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Object(L.a)(e).pipe(Object(xe.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(V.a)(!0);var a=o.map((function(o){var a,s=Lr(o,t,i);if(function(e){return e&&Er(e.canDeactivate)}(s))a=In(s.canDeactivate(e,t,n,r));else{if(!Er(s))throw new Error("Invalid CanDeactivate guard");a=In(s(e,t,n,r))}return a.pipe(Ie())}));return Object(V.a)(a).pipe(qr())}(e.component,e.route,n,t,r)})),Ie((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(xe.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(L.a)(t).pipe(Ue((function(t){return Object(L.a)([Br(t.route.parent,r),zr(t.route,r),Gr(e,t.path,n),Hr(e,t.route,n)]).pipe(re(),Ie((function(e){return!0!==e}),!0))})),Ie((function(e){return!0!==e}),!0))}(r,a,e,t):Object(V.a)(n)})),Object(te.a)((function(e){return Object.assign({},n,{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(de.a)((function(e){if(Sr(e.guardsResult)){var n=mn('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(de.a)((function(e){var n=new rn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),oe((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new $t(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),ni((function(e){if(e.guards.canActivateChecks.length)return Object(V.a)(e).pipe(Object(de.a)((function(e){var n=new on(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(xe.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(L.a)(i).pipe(Ue((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(V.a)({});if(1===i.length){var o=i[0];return ti(e[o],t,n,r).pipe(Object(te.a)((function(e){return _defineProperty({},o,e)})))}var a={};return Object(L.a)(i).pipe(Object(xe.a)((function(i){return ti(e[i],t,n,r).pipe(Object(te.a)((function(e){return a[i]=e,e})))}))).pipe(_e(),Object(te.a)((function(){return a})))}(e._resolve,e,t,r).pipe(Object(te.a)((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,ir(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(qe.a)(Ve(e,t),ce(1),ye(t))(n)}:function(t){return Object(qe.a)(Ve((function(t,n,r){return e(t,n,r+1)})),ce(1))(t)}}((function(e,t){return e})),Object(te.a)((function(t){return e}))):Object(V.a)(e)})))}),Object(de.a)((function(e){var n=new an(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),ni((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(te.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new $n(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,l=new rr(new q((u=n.value).url),new q(u.params),new q(u.queryParams),new q(u.fragment),new q(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return e(t,n)}));return new $n(l,c)}(e,t._root,n?n._root:void 0);return new tr(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:n})})),Object(de.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(te.a)((function(e){return new kr(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Object(de.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new $t(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Be(r))}),ke((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Sr(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new $t(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new en(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var s;return $.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){_n(e),this.config=e.map(Cn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;Object(r.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return fr(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dr(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Tn(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new dr(n,t,r)}(n);if(o.toRoot())return fr(t.root,new Nn([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new pr(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pr(n.snapshot._urlSegment,!0,0);var r=hr(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new pr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?mr(a.segmentGroup,a.index,o.commands):yr(a.segmentGroup,a.index,o.commands);return fr(a.segmentGroup,s,t,r,i)}(l,this.currentUrlTree,e,h,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Sr(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Sr(e))return xn(this.currentUrlTree,e,t);var n=this.parseUrl(e);return xn(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Zt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(e,t){o=e,a=t})),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),di=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:vi(this.skipLocationChange),replaceUrl:vi(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vi(this.preserveFragment)})}}]),e}(),pi=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Zt&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:vi(this.skipLocationChange),replaceUrl:vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vi(this.preserveFragment)})}}]),e}();function vi(e){return""===e||!!e}var yi=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new mi,this.attachRef=null},mi=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new yi,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),gi=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new bi(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),bi=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===rr?this.route:e===mi?this.childContexts:this.parent.get(e,t)}}]),e}(),_i=function e(){_classCallCheck(this,e)},wi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(ke((function(){return Object(V.a)(null)})))}}]),e}(),ki=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(V.a)(null)}}]),e}(),Ci=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new ai(n,r,(function(e){return t.triggerEvent(new sn(e))}),(function(e){return t.triggerEvent(new un(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(oe((function(e){return e instanceof Zt})),Ue((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.v);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(L.a)(r).pipe(Object(ne.a)(),Object(te.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(xe.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),Ei=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Xt?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zt&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof dn&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new dn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),Si=new r.o("ROUTER_CONFIGURATION"),Oi=new r.o("ROUTER_FORROOT_GUARD"),Ti=[c,{provide:Rn,useClass:Mn},{provide:fi,useFactory:Pi,deps:[r.g,Rn,mi,c,r.p,r.u,r.i,oi,Si,[si,new r.y],[ri,new r.y]]},mi,{provide:rr,useFactory:Ri,deps:[fi]},{provide:r.u,useClass:r.I},Ci,ki,wi,{provide:Si,useValue:{enableTracing:!1}}];function Ii(){return new r.w("Router",fi)}var xi=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Ti,ji(t),{provide:Oi,useFactory:Di,deps:[[fi,new r.y,new r.H]]},{provide:Si,useValue:n||{}},{provide:u,useFactory:Ni,deps:[a,[new r.n(l),new r.y],Si]},{provide:Ei,useFactory:Ai,deps:[fi,R,Si]},{provide:_i,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ki},{provide:r.w,multi:!0,useFactory:Ii},[Mi,{provide:r.d,multi:!0,useFactory:Vi,deps:[Mi]},{provide:Fi,useFactory:Li,deps:[Mi]},{provide:r.b,multi:!0,useExisting:Fi}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[ji(t)]}}}]),e}();function Ai(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ei(e,t,n)}function Ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new f(e,t):new d(e,t)}function Di(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ji(e){return[{provide:r.a,multi:!0,useValue:e},{provide:oi,multi:!0,useValue:e}]}function Pi(e,t,n,r,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new fi(null,t,n,r,i,o,a,Sn(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Ke();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Ri(e){return e.routerState.root}var Mi=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new F.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(s,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(fi),i=e.injector.get(Si);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(V.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Si),n=this.injector.get(Ci),i=this.injector.get(Ei),o=this.injector.get(fi),a=this.injector.get(r.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Vi(e){return e.appInitializer.bind(e)}function Li(e){return e.bootstrapListener.bind(e)}var Fi=new r.o("Router Initializer"),Ui=r.qb({encapsulation:2,styles:[],data:{}});function qi(e){return r.Jb(0,[(e()(),r.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(1,212992,null,0,gi,[mi,r.O,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0)}),null)}var zi=r.ob("ng-component",pn,(function(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"ng-component",[],null,null,null,qi,Ui)),r.rb(1,49152,null,0,pn,[],null,null)],null,null)}),{},{},[]),Bi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Hi=r.qb({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Roboto:900);@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@900&display=swap);.image[_ngcontent-%COMP%]{background-color:#fff;border:10px solid orange}.btn[_ngcontent-%COMP%]{font-weight:bolder;font-size:xx-large;background-color:orange}.card-body[_ngcontent-%COMP%]{align-items:center}.card-title[_ngcontent-%COMP%]{text-align:center;font-size:xx-large;font-family:kanit}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container[_ngcontent-%COMP%]{font-family:Poppins,Arial,san-serif;line-height:1.4;margin-top:20px;display:flex;justify-content:center;align-items:center;background-color:color(white)}.card[_ngcontent-%COMP%]{box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);background:url(card-bg.c2e1150dc67161e7cb41.png) top -10% center/contain no-repeat #fff;border-radius:30px;text-align:center;padding:21px;margin:20px;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);transition:transform .2s}img[_ngcontent-%COMP%]{background-color:color(white);height:200px;width:200px;border-radius:50%;margin:auto auto 15px;display:block;box-shadow:0 6px 20px 0 rgba(0,0,0,.5)}h1[_ngcontent-%COMP%]{font-size:22px;margin:10px auto 0;letter-spacing:1px}h2[_ngcontent-%COMP%]{margin:auto;color:darken(color(grey),15);font-weight:300;font-size:14px}.button[_ngcontent-%COMP%]{display:block;text-decoration:none;background:color(prime);color:color(white);padding:12px;border:none;border-radius:25px;font-family:kanit;font-size:45px;font-weight:700;min-width:200px;transition:.2s}span[_ngcontent-%COMP%]{font-size:20px;line-height:1;vertical-align:top}span[_ngcontent-%COMP%]:hover{background:darken(color(prime),7)}"]],data:{}});function Gi(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,9,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(e()(),r.sb(2,0,null,null,0,"img",[["alt","Card image cap"],["class","card-img-top image"]],[[8,"src",4]],null,null,null,null)),(e()(),r.sb(3,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),r.sb(4,0,null,null,1,"h1",[["class","card-title "]],null,null,null,null,null)),(e()(),r.Ib(5,null,["",""])),(e()(),r.sb(6,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),r.Ib(7,null,["Redeems: ",""])),(e()(),r.sb(8,0,null,null,1,"a",[["class"," button btn btn-primary"],["href","/redeem-points"]],null,null,null,null,null)),(e()(),r.Ib(9,null,[""," points"]))],null,(function(e,t){e(t,2,0,t.context.$implicit.image),e(t,5,0,t.context.$implicit.group_name),e(t,7,0,t.context.$implicit.no_of_redeems),e(t,9,0,t.context.$implicit.points_scored)}))}function Ki(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.hb(16777216,null,null,1,null,Gi)),r.rb(3,278528,null,0,C,[r.O,r.K,r.q],{ngForOf:[0,"ngForOf"]},null),(e()(),r.Ib(-1,null,[" -"]))],(function(e,t){e(t,3,0,t.component.cards)}),null)}var Wi=n("D0XW"),Qi=n("pxpQ"),Yi=n("jmUF"),Ji=n("mrSG"),Xi=n("zIRd"),Zi=n("q/0M"),$i=n("qOnz"),eo=function(e,t){return(eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function to(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var no,ro="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},io=io||{},oo=ro||self;function ao(){}function so(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function uo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var lo="closure_uid_"+(1e9*Math.random()>>>0),co=0;function ho(e,t,n){return e.call.apply(e.bind,arguments)}function fo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function po(e,t,n){return(po=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ho:fo).apply(null,arguments)}function vo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yo(){return Date.now()}function mo(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function go(){this.j=this.j,this.i=this.i}go.prototype.j=!1,go.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,lo)&&e[lo]||(e[lo]=++co)}(this)},go.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var bo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_o=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function wo(e){return Array.prototype.concat.apply([],arguments)}function ko(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Co(e){return/^[\s\xa0]*$/.test(e)}var Eo,So=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Oo(e,t){return-1!=e.indexOf(t)}function To(e,t){return e<t?-1:e>t?1:0}e:{var Io=oo.navigator;if(Io){var xo=Io.userAgent;if(xo){Eo=xo;break e}}Eo=""}function Ao(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function No(e){var t={};for(var n in e)t[n]=e[n];return t}var Do="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Do.length;o++)n=Do[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Po(e){return Po[" "](e),e}Po[" "]=ao;var Ro,Mo,Vo=Oo(Eo,"Opera"),Lo=Oo(Eo,"Trident")||Oo(Eo,"MSIE"),Fo=Oo(Eo,"Edge"),Uo=Fo||Lo,qo=Oo(Eo,"Gecko")&&!(Oo(Eo.toLowerCase(),"webkit")&&!Oo(Eo,"Edge"))&&!(Oo(Eo,"Trident")||Oo(Eo,"MSIE"))&&!Oo(Eo,"Edge"),zo=Oo(Eo.toLowerCase(),"webkit")&&!Oo(Eo,"Edge");function Bo(){var e=oo.document;return e?e.documentMode:void 0}e:{var Ho="",Go=(Mo=Eo,qo?/rv:([^\);]+)(\)|;)/.exec(Mo):Fo?/Edge\/([\d\.]+)/.exec(Mo):Lo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Mo):zo?/WebKit\/(\S+)/.exec(Mo):Vo?/(?:Version)[ \/]?(\S+)/.exec(Mo):void 0);if(Go&&(Ho=Go?Go[1]:""),Lo){var Ko=Bo();if(null!=Ko&&Ko>parseFloat(Ho)){Ro=String(Ko);break e}}Ro=Ho}var Wo={};function Qo(e){return function(e,t){var n=Wo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=So(String(Ro)).split("."),r=So(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=To(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||To(0==a[2].length,0==s[2].length)||To(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var Yo=oo.document&&Lo&&(Bo()||parseInt(Ro,10))||void 0,Jo=!Lo||9<=Number(Yo),Xo=Lo&&!Qo("9"),Zo=function(){if(!oo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{oo.addEventListener("test",ao,t),oo.removeEventListener("test",ao,t)}catch(n){}return e}();function $o(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ea(e,t){if($o.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(qo){e:{try{Po(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ta[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}$o.prototype.b=function(){this.defaultPrevented=!0},mo(ea,$o);var ta={2:"touch",3:"pen",4:"mouse"};ea.prototype.b=function(){ea.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xo)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var na="closure_listenable_"+(1e6*Math.random()|0),ra=0;function ia(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ra,this.Y=this.Z=!1}function oa(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function aa(e){this.src=e,this.a={},this.b=0}function sa(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=bo(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(oa(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function ua(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}aa.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ua(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ia(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var la="closure_lm_"+(1e6*Math.random()|0),ca={};function ha(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=ba(r),t&&t[na]?t.wa(n,r,uo(i)?!!i.capture:!!i,o):fa(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ha(e,t[o],n,r,i);return null}return n=ba(n),e&&e[na]?e.va(t,n,uo(r)?!!r.capture:!!r,i):fa(e,t,n,!1,r,i)}function fa(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=uo(i)?!!i.capture:!!i;if(a&&!Jo)return null;var s=ma(e);if(s||(e[la]=s=new aa(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ya,t=Jo?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zo||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function da(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[na])sa(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ma(t))?(sa(n,e),0==n.b&&(n.src=null,t[la]=null)):oa(e)}}}function pa(e){return e in ca?ca[e]:ca[e]="on"+e}function va(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&da(e),n.call(r,t)}function ya(e,t){if(e.Y)return!0;if(!Jo){if(!t)e:{t=["window","event"];for(var n=oo,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return va(e,t=new ea(t,this))}return va(e,new ea(t,this))}function ma(e){return(e=e[la])instanceof aa?e:null}var ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(e){return"function"==typeof e?e:(e[ga]||(e[ga]=function(t){return e.handleEvent(t)}),e[ga])}function _a(){go.call(this),this.c=new aa(this),this.J=this,this.C=null}function wa(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new $o(t,e);else if(t instanceof $o)t.target=t.target||e;else{var i=t;jo(t=new $o(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=ka(a,r,!0,t)&&i}if(i=ka(a=t.a=e,r,!0,t)&&i,i=ka(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ka(a=t.a=n[o],r,!1,t)&&i}function ka(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&sa(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}mo(_a,go),_a.prototype[na]=!0,(no=_a.prototype).addEventListener=function(e,t,n,r){ha(this,e,t,n,r)},no.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=uo(i)?!!i.capture:!!i,r=ba(r),t&&t[na]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=ua(a=t.a[n],r,i,o))&&(oa(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=ma(t))&&(n=t.a[n.toString()],t=-1,n&&(t=ua(n,r,i,o)),(r=-1<t?n[t]:null)&&da(r))}(this,e,t,n,r)},no.G=function(){if(_a.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)oa(n[r]);delete t.a[e],t.b--}}this.C=null},no.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},no.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ca=oo.JSON.stringify;function Ea(){this.b=this.a=null}var Sa,Oa=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Ia}),(function(e){e.reset()}));function Ta(){var e=Da,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ia(){this.next=this.b=this.a=null}function xa(e){oo.setTimeout((function(){throw e}),0)}function Aa(e,t){Sa||function(){var e=oo.Promise.resolve(void 0);Sa=function(){e.then(ja)}}(),Na||(Sa(),Na=!0),Da.add(e,t)}Ea.prototype.add=function(e,t){var n=Oa.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ia.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ia.prototype.reset=function(){this.next=this.b=this.a=null};var Na=!1,Da=new Ea;function ja(){for(var e;e=Ta();){try{e.a.call(e.b)}catch(n){xa(n)}var t=Oa;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Na=!1}function Pa(e,t){_a.call(this),this.b=e||1,this.a=t||oo,this.f=po(this.Za,this),this.g=yo()}function Ra(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Ma(e,t,n){if("function"==typeof e)n&&(e=po(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=po(e.handleEvent,e)}return 2147483647<Number(t)?-1:oo.setTimeout(e,t||0)}function Va(e){e.a=Ma((function(){e.a=null,e.c&&(e.c=!1,Va(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}mo(Pa,_a),(no=Pa.prototype).aa=!1,no.M=null,no.Za=function(){if(this.aa){var e=yo()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),wa(this,"tick"),this.aa&&(Ra(this),this.start()))}},no.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yo())},no.G=function(){Pa.X.G.call(this),Ra(this),delete this.a};var La=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}eo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Va(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(oo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(go);function Fa(e){go.call(this),this.b=e,this.a={}}mo(Fa,go);var Ua=[];function qa(e,t,n,r){Array.isArray(n)||(n&&(Ua[0]=n.toString()),n=Ua);for(var i=0;i<n.length;i++){var o=ha(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function za(e){Ao(e.a,(function(e,t){this.a.hasOwnProperty(t)&&da(e)}),e),e.a={}}function Ba(){this.a=!0}function Ha(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ca(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Fa.prototype.G=function(){Fa.X.G.call(this),za(this)},Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ba.prototype.info=function(){};var Ga={},Ka=null;function Wa(){return Ka=Ka||new _a}function Qa(e){$o.call(this,Ga.Fa,e)}function Ya(e){var t=Wa();wa(t,new Qa(t,e))}function Ja(e,t){$o.call(this,Ga.STAT_EVENT,e),this.stat=t}function Xa(e){var t=Wa();wa(t,new Ja(t,e))}function Za(e){$o.call(this,Ga.Ga,e)}function $a(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return oo.setTimeout((function(){e()}),t)}Ga.Fa="serverreachability",mo(Qa,$o),Ga.STAT_EVENT="statevent",mo(Ja,$o),Ga.Ga="timingevent",mo(Za,$o);var es={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ts={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ns(){}function rs(){}ns.prototype.a=null;var is,os={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function as(){$o.call(this,"d")}function ss(){$o.call(this,"c")}function us(){}function ls(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Fa(this),this.P=cs,this.R=new Pa(e=Uo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}mo(as,$o),mo(ss,$o),mo(us,ns),is=new us;var cs=45e3,hs={},fs={};function ds(e,t,n){e.H=1,e.i=Rs(xs(t)),e.j=n,e.I=!0,ps(e,null)}function ps(e,t){e.u=yo(),ms(e),e.l=xs(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Qs(n.b,"t",r),e.D=0,e.a=zu(e.g,e.g.C?t:null),0<e.O&&(e.F=new La(po(e.Ca,e,e.a),e.O)),qa(e.J,e.a,"readystatechange",e.Xa),t=e.B?No(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Ya(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function vs(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=ys(e,n);if(i==fs){4==t&&(e.h=4,Xa(14),r=!1),Ha(e.c,e.f,null,"[Incomplete Response]");break}if(i==hs){e.h=4,Xa(15),Ha(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ha(e.c,e.f,i,null),ks(e,i)}4==t&&0==n.length&&(e.h=1,Xa(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pu(t),t.F=!0,Xa(11))):(Ha(e.c,e.f,n,"[Invalid Chunked Response]"),ws(e),_s(e))}function ys(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?fs:(n=Number(t.substring(n,r)),isNaN(n)?hs:(r+=1)+n>t.length?fs:(t=t.substr(r,n),e.D=r+n,t))}function ms(e){e.T=yo()+e.P,gs(e,e.P)}function gs(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=$a(po(e.Va,e),t)}function bs(e){e.o&&(oo.clearTimeout(e.o),e.o=null)}function _s(e){0==e.g.v||e.A||Vu(e.g,e)}function ws(e){bs(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ra(e.R),za(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function ks(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||tu(n.b,e)))if(n.I=e.N,!e.C&&tu(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Ig){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Mu(n),Su(n)}ju(n),Xa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=$a(po(n.Sa,n),6e3));if(1>=eu(n.b)&&n.ea){try{n.ea()}catch(Ig){}n.ea=void 0}}else Fu(n,11)}else if((e.C||n.a==e)&&Mu(n),!Co(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(Oo(c,"spdy")||Oo(c,"quic")||Oo(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(nu(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ps(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=yo()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=qu(u,u.C?u.ga:null,u.fa),d.C){ru(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(bs(p),ms(p)),u.a=d}else Du(u);0<n.g.length&&Iu(n)}else"stop"!=i[0]&&"close"!=i[0]||Fu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fu(n,7):Eu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ya(4)}catch(Ig){}}function Cs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(so(e)||"string"==typeof e)_o(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(so(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(so(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Es(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Es)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ss(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Os(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Os(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Os(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(no=ls.prototype).setTimeout=function(e){this.P=e},no.Xa=function(e){e=e.target;var t=this.F;t&&3==_u(e)?t.f():this.Ca(e)},no.Ca=function(e){try{if(e==this.a)e:{var t=_u(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Uo&&!this.a.$())){this.A||4!=t||7==n||Ya(8==n||0>=r?3:2),bs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Co(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,Xa(12),ws(this),_s(this);break e}Ha(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ks(this,u)}this.I?(vs(this,t,o),Uo&&this.b&&3==t&&(qa(this.J,this.R,"tick",this.Wa),this.R.start())):(Ha(this.c,this.f,o,null),ks(this,o)),4==t&&ws(this),this.b&&!this.A&&(4==t?Vu(this.g,this):(this.b=!1,ms(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Xa(12)):(this.h=0,Xa(13)),ws(this),_s(this)}}}catch(l){}},no.Wa=function(){if(this.a){var e=_u(this.a),t=this.a.$();this.D<t.length&&(bs(this),vs(this,e,t),this.b&&4!=e&&ms(this))}},no.cancel=function(){this.A=!0,ws(this)},no.Va=function(){this.o=null;var e=yo();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Ya(3),Xa(17)),ws(this),this.h=2,_s(this)):gs(this,this.T-e)},(no=Es.prototype).K=function(){Ss(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},no.L=function(){return Ss(this),this.a.concat()},no.get=function(e,t){return Os(this.b,e)?this.b[e]:t},no.set=function(e,t){Os(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},no.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ts=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Is(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Is){this.a=void 0!==t?t:e.a,As(this,e.f),this.j=e.j,Ns(this,e.c),Ds(this,e.h),this.g=e.g,t=e.b;var n=new Hs;n.c=t.c,t.a&&(n.a=new Es(t.a),n.b=t.b),js(this,n),this.i=e.i}else e&&(n=String(e).match(Ts))?(this.a=!!t,As(this,n[1]||"",!0),this.j=Ms(n[2]||""),Ns(this,n[3]||"",!0),Ds(this,n[4]),this.g=Ms(n[5]||"",!0),js(this,n[6]||"",!0),this.i=Ms(n[7]||"")):(this.a=!!t,this.b=new Hs(null,this.a))}function xs(e){return new Is(e)}function As(e,t,n){e.f=n?Ms(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ns(e,t,n){e.c=n?Ms(t,!0):t}function Ds(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function js(e,t,n){t instanceof Hs?(e.b=t,function(e,t){t&&!e.f&&(Gs(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ks(this,t),Qs(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Vs(t,zs)),e.b=new Hs(t,e.a))}function Ps(e,t,n){e.b.set(t,n)}function Rs(e){return Ps(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yo()).toString(36)),e}function Ms(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vs(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ls),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ls(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Is.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vs(t,Fs,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Vs(t,Fs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vs(n,"/"==n.charAt(0)?qs:Us,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Vs(n,Bs)),e.join("")};var Fs=/[#\/\?@]/g,Us=/[#\?:]/g,qs=/[#\?]/g,zs=/[#\?@]/g,Bs=/#/g;function Hs(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Gs(e){e.a||(e.a=new Es,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ks(e,t){Gs(e),t=Ys(e,t),Os(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Os((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ss(e)))}function Ws(e,t){return Gs(e),t=Ys(e,t),Os(e.a.b,t)}function Qs(e,t,n){Ks(e,t),0<n.length&&(e.c=null,e.a.set(Ys(e,t),ko(n)),e.b+=n.length)}function Ys(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(no=Hs.prototype).add=function(e,t){Gs(this),this.c=null,e=Ys(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},no.forEach=function(e,t){Gs(this),this.a.forEach((function(n,r){_o(n,(function(n){e.call(t,n,r,this)}),this)}),this)},no.L=function(){Gs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},no.K=function(e){Gs(this);var t=[];if("string"==typeof e)Ws(this,e)&&(t=wo(t,this.a.get(Ys(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=wo(t,e[n])}return t},no.set=function(e,t){return Gs(this),this.c=null,Ws(this,e=Ys(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},no.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},no.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Js=function(e,t){this.b=e,this.a=t};function Xs(e){this.g=e||Zs,e=oo.PerformanceNavigationTiming?0<(e=oo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(oo.ia&&oo.ia.ya&&oo.ia.ya()&&oo.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Zs=10;function $s(e){return!!e.b||!!e.a&&e.a.size>=e.f}function eu(e){return e.b?1:e.a?e.a.size:0}function tu(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function nu(e,t){e.a?e.a.add(t):e.b=t}function ru(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function iu(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=to(e.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return ko(e.c)}function ou(){}function au(){this.a=new ou}function su(e,t,n){var r=n||"";try{Cs(e,(function(e,n){var i=e;uo(e)&&(i=Ca(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function uu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Xs.prototype.cancel=function(){var e,t;if(this.c=iu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=to(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},ou.prototype.stringify=function(e){return oo.JSON.stringify(e,void 0)},ou.prototype.parse=function(e){return oo.JSON.parse(e,void 0)};var lu=oo.JSON.parse;function cu(e){_a.call(this),this.headers=new Es,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=hu,this.D=this.F=!1}mo(cu,_a);var hu="",fu=/^https?$/i,du=["POST","PUT"];function pu(e){return"content-type"==e.toLowerCase()}function vu(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,yu(e),gu(e)}function yu(e){e.u||(e.u=!0,wa(e,"complete"),wa(e,"error"))}function mu(e){if(e.b&&void 0!==io&&(!e.s[1]||4!=_u(e)||2!=e.W()))if(e.l&&4==_u(e))Ma(e.za,0,e);else if(wa(e,"readystatechange"),4==_u(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Ts)[1]||null;if(!o&&oo.self&&oo.self.location){var a=oo.self.location.protocol;o=a.substr(0,a.length-1)}i=!fu.test(o?o.toLowerCase():"")}t=i}if(t)wa(e,"complete"),wa(e,"success");else{e.h=6;try{var s=2<_u(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",yu(e)}}finally{gu(e)}}}function gu(e,t){if(e.a){bu(e);var n=e.a,r=e.s[0]?ao:null;e.a=null,e.s=null,t||wa(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function bu(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(oo.clearTimeout(e.m),e.m=null)}function _u(e){return e.a?e.a.readyState:0}function wu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ao(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ps(e,t,n))}function ku(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cu(e){this.pa=0,this.g=[],this.c=new Ba,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ku("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ku("baseRetryDelayMs",5e3,e),this.Ra=ku("retryDelaySeedMs",1e4,e),this.Ma=ku("forwardChannelMaxRetries",2,e),this.ma=ku("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Xs(e&&e.concurrentRequestLimit),this.ka=new au,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Eu(e){if(Ou(e),3==e.v){var t=e.R++,n=xs(e.B);Ps(n,"SID",e.J),Ps(n,"RID",t),Ps(n,"TYPE","terminate"),Au(e,n),(t=new ls(e,e.c,t,void 0)).H=2,t.i=Rs(xs(n)),n=!1,oo.navigator&&oo.navigator.sendBeacon&&(n=oo.navigator.sendBeacon(t.i.toString(),"")),!n&&oo.Image&&((new Image).src=t.i,n=!0),n||(t.a=zu(t.g,null),t.a.ba(t.i)),t.u=yo(),ms(t)}Uu(e)}function Su(e){e.a&&(Pu(e),e.a.cancel(),e.a=null)}function Ou(e){Su(e),e.j&&(oo.clearTimeout(e.j),e.j=null),Mu(e),e.b.cancel(),e.h&&("number"==typeof e.h&&oo.clearTimeout(e.h),e.h=null)}function Tu(e,t){e.g.push(new Js(e.Oa++,t)),3==e.v&&Iu(e)}function Iu(e){$s(e.b)||e.h||(e.h=!0,Aa(e.Ba,e),e.u=0)}function xu(e,t){var n;n=t?t.f:e.R++;var r=xs(e.B);Ps(r,"SID",e.J),Ps(r,"RID",n),Ps(r,"AID",e.P),Au(e,r),e.i&&e.l&&wu(r,e.i,e.l),n=new ls(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Nu(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),nu(e.b,n),ds(n,r,t)}function Au(e,t){e.f&&Cs({},(function(e,n){Ps(t,n,e)}))}function Nu(e,t,n){n=Math.min(e.g.length,n);var r=e.f?po(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{su(c,a,"req"+l+"_")}catch(wl){r&&r(c)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Du(e){e.a||e.j||(e.T=1,Aa(e.Aa,e),e.o=0)}function ju(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=$a(po(e.Aa,e),Lu(e,e.o)),e.o++,0))}function Pu(e){null!=e.s&&(oo.clearTimeout(e.s),e.s=null)}function Ru(e){e.a=new ls(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=xs(e.la);Ps(t,"RID","rpc"),Ps(t,"SID",e.J),Ps(t,"CI",e.H?"0":"1"),Ps(t,"AID",e.P),Au(e,t),Ps(t,"TYPE","xmlhttp"),e.i&&e.l&&wu(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Rs(xs(t)),n.j=null,n.I=!0,ps(n,e)}function Mu(e){null!=e.m&&(oo.clearTimeout(e.m),e.m=null)}function Vu(e,t){var n=null;if(e.a==t){Mu(e),Pu(e),e.a=null;var r=2}else{if(!tu(e.b,t))return;n=t.s,ru(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=yo()-t.u;var i=e.u;wa(r=Wa(),new Za(r,n,t,i)),Iu(e)}else Du(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(eu(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=$a(po(e.Ba,e,t),Lu(e,e.u)),e.u++,0)))}(e,t)||2==r&&ju(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Fu(e,5);break;case 4:Fu(e,10);break;case 3:Fu(e,6);break;default:Fu(e,2)}}function Lu(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Fu(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=po(e.Ya,e);n||(n=new Is("//www.google.com/images/cleardot.gif"),oo.location&&"http"==oo.location.protocol||As(n,"https"),Rs(n)),function(e,t){var n=new Ba;if(oo.Image){var r=new Image;r.onload=vo(uu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vo(uu,n,r,"TestLoadImage: error",!1,t),r.onabort=vo(uu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vo(uu,n,r,"TestLoadImage: timeout",!1,t),oo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xa(2);e.v=0,e.f&&e.f.ra(t),Uu(e),Ou(e)}function Uu(e){e.v=0,e.I=-1,e.f&&(0==iu(e.b).length&&0==e.g.length||(e.b.c.length=0,ko(e.g),e.g.length=0),e.f.qa())}function qu(e,t,n){var r=function(e){return e instanceof Is?xs(e):new Is(e,void 0)}(n);if(""!=r.c)t&&Ns(r,t+"."+r.c),Ds(r,r.h);else{var i=oo.location;r=function(e,t,n,r){var i=new Is(null,void 0);return e&&As(i,e),t&&Ns(i,t),n&&Ds(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Ao(e.V,(function(e,t){Ps(r,t,e)})),n=e.na,(t=e.A)&&n&&Ps(r,t,n),Ps(r,"VER",e.ha),Au(e,r),r}function zu(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new cu(e.Na)).F=e.C,t}function Bu(){}function Hu(){if(Lo&&!(10<=Number(Yo)))throw Error("Environmental error: no available transport.")}function Gu(e,t){_a.call(this),this.a=new Cu(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Co(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Co(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Qu(this)}function Ku(e){as.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Wu(){ss.call(this),this.status=1}function Qu(e){this.a=e}(no=cu.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:is),this.a.onreadystatechange=po(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void vu(this,o)}e=n||"";var i=new Es(this.headers);r&&Cs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pu,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=oo.FormData&&e instanceof oo.FormData,!(0<=bo(du,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bu(this),0<this.o&&((this.D=function(e){return Lo&&Qo(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=po(this.xa,this)):this.m=Ma(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){vu(this,o)}},no.xa=function(){void 0!==io&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,wa(this,"timeout"),this.abort(8))},no.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,wa(this,"complete"),wa(this,"abort"),gu(this))},no.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),gu(this,!0)),cu.X.G.call(this)},no.za=function(){this.j||(this.A||this.l||this.g?mu(this):this.Ua())},no.Ua=function(){mu(this)},no.W=function(){try{return 2<_u(this)?this.a.status:-1}catch(Mo){return-1}},no.$=function(){try{return this.a?this.a.responseText:""}catch(Mo){return""}},no.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lu(t)}},no.ua=function(){return this.h},no.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(no=Cu.prototype).ha=8,no.v=1,no.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new ls(this,this.c,e,void 0),r=this.l;if(this.O&&(r?jo(r=No(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Nu(this,n,t),Ps(i=xs(this.B),"RID",e),Ps(i,"CVER",22),this.A&&Ps(i,"X-HTTP-Session-Id",this.A),Au(this,i),this.i&&r&&wu(i,this.i,r),nu(this.b,n),this.Ia&&Ps(i,"TYPE","init"),this.da?(Ps(i,"$req",t),Ps(i,"SID","null"),n.U=!0,ds(n,i,null)):ds(n,i,t),this.v=2}}else 3==this.v&&(e?xu(this,e):0==this.g.length||$s(this.b)||xu(this))},no.Aa=function(){if(this.j=null,Ru(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=$a(po(this.Ta,this),e)}},no.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Xa(10),Su(this),Ru(this))},no.Sa=function(){null!=this.m&&(this.m=null,Su(this),ju(this),Xa(19))},no.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Xa(2)):(this.c.info("Failed to ping google.com"),Xa(1))},(no=Bu.prototype).ta=function(){},no.sa=function(){},no.ra=function(){},no.qa=function(){},no.Ja=function(){},Hu.prototype.a=function(e,t){return new Gu(e,t)},mo(Gu,_a),Gu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Xa(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=qu(e,null,e.fa),Iu(e)},Gu.prototype.close=function(){Eu(this.a)},Gu.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,Tu(this.a,t)}else this.l?((t={}).__data__=Ca(e),Tu(this.a,t)):Tu(this.a,e)},Gu.prototype.G=function(){this.a.f=null,delete this.f,Eu(this.a),delete this.a,Gu.X.G.call(this)},mo(Ku,as),mo(Wu,ss),mo(Qu,Bu),Qu.prototype.ta=function(){wa(this.a,"a")},Qu.prototype.sa=function(e){wa(this.a,new Ku(e))},Qu.prototype.ra=function(e){wa(this.a,new Wu(e))},Qu.prototype.qa=function(){wa(this.a,"b")},Hu.prototype.createWebChannel=Hu.prototype.a,Gu.prototype.send=Gu.prototype.h,Gu.prototype.open=Gu.prototype.g,Gu.prototype.close=Gu.prototype.close,es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,ts.COMPLETE="complete",rs.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",_a.prototype.listen=_a.prototype.va,cu.prototype.listenOnce=cu.prototype.wa,cu.prototype.getLastError=cu.prototype.Qa,cu.prototype.getLastErrorCode=cu.prototype.ua,cu.prototype.getStatus=cu.prototype.W,cu.prototype.getResponseJson=cu.prototype.Pa,cu.prototype.getResponseText=cu.prototype.$,cu.prototype.send=cu.prototype.ba;var Yu=es,Ju=ts,Xu=Ga,Zu=rs,$u=cu,el=n("/6Yf"),tl=function(e,t,n,r,i,o){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},nl=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),rl=function(){function e(e){this.uid=e}return e.prototype.u=function(){return null!=this.uid},e.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();rl.UNAUTHENTICATED=new rl(null),rl.l=new rl("google-credentials-uid"),rl._=new rl("first-party-uid");var il=new Zi.b("@firebase/firestore");function ol(){return il.logLevel}function al(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(il.logLevel<=Zi.a.DEBUG){var r=t.map(ll);il.debug.apply(il,Object(Ji.g)(["Firestore (8.1.1): "+e],r))}}function sl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(il.logLevel<=Zi.a.ERROR){var r=t.map(ll);il.error.apply(il,Object(Ji.g)(["Firestore (8.1.1): "+e],r))}}function ul(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(il.logLevel<=Zi.a.WARN){var r=t.map(ll);il.warn.apply(il,Object(Ji.g)(["Firestore (8.1.1): "+e],r))}}function ll(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function cl(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+e;throw sl(t),new Error(t)}function hl(e,t){e||cl()}function fl(e,t){return e}var dl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pl=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ji.c)(t,e),t}(Error),vl=function(e,t){this.user=t,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+e},yl=function(){function e(){this.I=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.m=function(){},e.prototype.A=function(e){this.I=e,e(rl.UNAUTHENTICATED)},e.prototype.R=function(){this.I=null},e}(),ml=function(){function e(e){var t=this;this.P=null,this.currentUser=rl.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){t.V++,t.currentUser=t.p(),t.g=!0,t.I&&t.I(t.currentUser)},this.V=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),e.get().then((function(e){t.auth=e,t.P&&t.auth.addAuthTokenListener(t.P)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.V!==t?(al("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hl("string"==typeof n.accessToken),new vl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.m=function(){this.forceRefresh=!0},e.prototype.A=function(e){this.I=e,this.g&&e(this.currentUser)},e.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},e.prototype.p=function(){var e=this.auth&&this.auth.getUid();return hl(null===e||"string"==typeof e),new rl(e)},e}(),gl=function(){function e(e,t){this.v=e,this.S=t,this.type="FirstParty",this.user=rl._}return Object.defineProperty(e.prototype,"T",{get:function(){var e={"X-Goog-AuthUser":this.S},t=this.v.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),bl=function(){function e(e,t){this.v=e,this.S=t}return e.prototype.getToken=function(){return Promise.resolve(new gl(this.v,this.S))},e.prototype.A=function(e){e(rl._)},e.prototype.R=function(){},e.prototype.m=function(){},e}();function _l(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var wl=function(){function e(){}return e.D=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_l(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function kl(e,t){return e<t?-1:e>t?1:0}function Cl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function El(e){return e+"\0"}var Sl=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pl(dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pl(dl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pl(dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pl(dl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.C=function(e){return this.seconds===e.seconds?kl(this.nanoseconds,e.nanoseconds):kl(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ol=function(){function e(e){this.timestamp=e}return e.N=function(t){return new e(t)},e.min=function(){return new e(new Sl(0,0))},e.prototype.F=function(e){return this.timestamp.C(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.M=function(){return this.timestamp},e}(),Tl=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&cl(),void 0===n?n=e.length-t:n>e.length-t&&cl(),this.segments=e,this.offset=t,this.k=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.$(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.L(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.B=function(e){return this.L(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},e.prototype.U=function(){return this.segments[this.offset]},e.prototype.K=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.W=function(){return 0===this.length},e.prototype.j=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.G=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},e.$=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.L=function(e,n,r){return new t(e,n,r)},t.prototype.J=function(){return this.H().join("/")},t.prototype.toString=function(){return this.J()},t.Y=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new pl(dl.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.X=function(){return new t([])},t}(Tl),xl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Al=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.L=function(e,n,r){return new t(e,n,r)},t.Z=function(e){return xl.test(e)},t.prototype.J=function(){return this.H().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.Z(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.J()},t.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},t.et=function(){return new t(["__name__"])},t.nt=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new pl(dl.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new pl(dl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pl(dl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pl(dl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.X=function(){return new t([])},t}(Tl),Nl=function(){function e(e){this.path=e}return e.st=function(t){return new e(Il.Y(t))},e.it=function(t){return new e(Il.Y(t).B(5))},e.prototype.rt=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Il.$(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.$=function(e,t){return Il.$(e.path,t.path)},e.ot=function(e){return e.length%2==0},e.ct=function(t){return new e(new Il(t.slice()))},e}();function Dl(e){return null==e}function jl(e){return 0===e&&1/e==-1/0}function Pl(e){return"number"==typeof e&&Number.isInteger(e)&&!jl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Rl=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null};function Ml(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Rl(e,t,n,r,i,o,a)}function Vl(e){var t=fl(e);if(null===t.ut){var n=t.path.J();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.J()+e.op.toString()+Nc(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.J()+e.dir}(e)})).join(","),Dl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Df(t.startAt)),t.endAt&&(n+="|ub:",n+=Df(t.endAt)),t.ut=n}return t.ut}function Ll(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Vf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!Tc(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pf(e.startAt,t.startAt)&&Pf(e.endAt,t.endAt)}function Fl(e){return Nl.ot(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ul=function(){function e(e){this.at=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.at)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.at)},e.prototype.ht=function(){return 2*this.at.length},e.prototype.F=function(e){return kl(this.at,e.at)},e.prototype.isEqual=function(e){return this.at===e.at},e}();Ul.lt=new Ul("");var ql,zl,Bl=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ol.min()),void 0===o&&(o=Ol.min()),void 0===a&&(a=Ul.lt),this.target=e,this.targetId=t,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.dt=function(t){return new e(this.target,this.targetId,this._t,t,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.wt=function(t,n){return new e(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Et=function(t){return new e(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,t,this.resumeToken)},e}(),Hl=function(e){this.count=e};function Gl(e){switch(e){case dl.OK:return cl();case dl.CANCELLED:case dl.UNKNOWN:case dl.DEADLINE_EXCEEDED:case dl.RESOURCE_EXHAUSTED:case dl.INTERNAL:case dl.UNAVAILABLE:case dl.UNAUTHENTICATED:return!1;case dl.INVALID_ARGUMENT:case dl.NOT_FOUND:case dl.ALREADY_EXISTS:case dl.PERMISSION_DENIED:case dl.FAILED_PRECONDITION:case dl.ABORTED:case dl.OUT_OF_RANGE:case dl.UNIMPLEMENTED:case dl.DATA_LOSS:return!0;default:return cl()}}function Kl(e){if(void 0===e)return sl("GRPC error has no .code"),dl.UNKNOWN;switch(e){case ql.OK:return dl.OK;case ql.CANCELLED:return dl.CANCELLED;case ql.UNKNOWN:return dl.UNKNOWN;case ql.DEADLINE_EXCEEDED:return dl.DEADLINE_EXCEEDED;case ql.RESOURCE_EXHAUSTED:return dl.RESOURCE_EXHAUSTED;case ql.INTERNAL:return dl.INTERNAL;case ql.UNAVAILABLE:return dl.UNAVAILABLE;case ql.UNAUTHENTICATED:return dl.UNAUTHENTICATED;case ql.INVALID_ARGUMENT:return dl.INVALID_ARGUMENT;case ql.NOT_FOUND:return dl.NOT_FOUND;case ql.ALREADY_EXISTS:return dl.ALREADY_EXISTS;case ql.PERMISSION_DENIED:return dl.PERMISSION_DENIED;case ql.FAILED_PRECONDITION:return dl.FAILED_PRECONDITION;case ql.ABORTED:return dl.ABORTED;case ql.OUT_OF_RANGE:return dl.OUT_OF_RANGE;case ql.UNIMPLEMENTED:return dl.UNIMPLEMENTED;case ql.DATA_LOSS:return dl.DATA_LOSS;default:return cl()}}(zl=ql||(ql={}))[zl.OK=0]="OK",zl[zl.CANCELLED=1]="CANCELLED",zl[zl.UNKNOWN=2]="UNKNOWN",zl[zl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zl[zl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zl[zl.NOT_FOUND=5]="NOT_FOUND",zl[zl.ALREADY_EXISTS=6]="ALREADY_EXISTS",zl[zl.PERMISSION_DENIED=7]="PERMISSION_DENIED",zl[zl.UNAUTHENTICATED=16]="UNAUTHENTICATED",zl[zl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zl[zl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zl[zl.ABORTED=10]="ABORTED",zl[zl.OUT_OF_RANGE=11]="OUT_OF_RANGE",zl[zl.UNIMPLEMENTED=12]="UNIMPLEMENTED",zl[zl.INTERNAL=13]="INTERNAL",zl[zl.UNAVAILABLE=14]="UNAVAILABLE",zl[zl.DATA_LOSS=15]="DATA_LOSS";var Wl=function(){function e(e,t){this.$=e,this.root=t||Yl.EMPTY}return e.prototype.Tt=function(t,n){return new e(this.$,this.root.Tt(t,n,this.$).copy(null,null,Yl.It,null,null))},e.prototype.remove=function(t){return new e(this.$,this.root.remove(t,this.$).copy(null,null,Yl.It,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.W();){var n=this.$(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.W();){var r=this.$(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.W=function(){return this.root.W()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.At=function(){return this.root.At()},e.prototype.Rt=function(){return this.root.Rt()},e.prototype.Pt=function(e){return this.root.Pt(e)},e.prototype.forEach=function(e){this.Pt((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.Pt((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.gt=function(e){return this.root.gt(e)},e.prototype.yt=function(){return new Ql(this.root,null,this.$,!1)},e.prototype.Vt=function(e){return new Ql(this.root,e,this.$,!1)},e.prototype.vt=function(){return new Ql(this.root,null,this.$,!0)},e.prototype.bt=function(e){return new Ql(this.root,e,this.$,!0)},e}(),Ql=function(){function e(e,t,n,r){this.St=r,this.Dt=[];for(var i=1;!e.W();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.St?e.left:e.right;else{if(0===i){this.Dt.push(e);break}this.Dt.push(e),e=this.St?e.right:e.left}}return e.prototype.Ct=function(){var e=this.Dt.pop(),t={key:e.key,value:e.value};if(this.St)for(e=e.left;!e.W();)this.Dt.push(e),e=e.right;else for(e=e.right;!e.W();)this.Dt.push(e),e=e.left;return t},e.prototype.Nt=function(){return this.Dt.length>0},e.prototype.xt=function(){if(0===this.Dt.length)return null;var e=this.Dt[this.Dt.length-1];return{key:e.key,value:e.value}},e}(),Yl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.W=function(){return!1},e.prototype.Pt=function(e){return this.left.Pt(e)||e(this.key,this.value)||this.right.Pt(e)},e.prototype.gt=function(e){return this.right.gt(e)||e(this.key,this.value)||this.left.gt(e)},e.prototype.min=function(){return this.left.W()?this:this.left.min()},e.prototype.At=function(){return this.min().key},e.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},e.prototype.Tt=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.Tt(e,t,n))).Ft()},e.prototype.Ot=function(){if(this.left.W())return e.EMPTY;var t=this;return t.left.Mt()||t.left.left.Mt()||(t=t.kt()),(t=t.copy(null,null,null,t.left.Ot(),null)).Ft()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(t,i.key)){if(i.right.W())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.Ft()},e.prototype.Mt=function(){return this.color},e.prototype.Ft=function(){var e=this;return e.right.Mt()&&!e.left.Mt()&&(e=e.Bt()),e.left.Mt()&&e.left.left.Mt()&&(e=e.$t()),e.left.Mt()&&e.right.Mt()&&(e=e.qt()),e},e.prototype.kt=function(){var e=this.qt();return e.right.left.Mt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.$t())).Bt()).qt()),e},e.prototype.Lt=function(){var e=this.qt();return e.left.left.Mt()&&(e=(e=e.$t()).qt()),e},e.prototype.Bt=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.$t=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.qt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Ut=function(){var e=this.Qt();return Math.pow(2,e)<=this.size+1},e.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw cl();if(this.right.Mt())throw cl();var e=this.left.Qt();if(e!==this.right.Qt())throw cl();return e+(this.Mt()?0:1)},e}();Yl.EMPTY=null,Yl.RED=!0,Yl.It=!1,Yl.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw cl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw cl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw cl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw cl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw cl()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.Tt=function(e,t,n){return new Yl(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.W=function(){return!0},e.prototype.Pt=function(e){return!1},e.prototype.gt=function(e){return!1},e.prototype.At=function(){return null},e.prototype.Rt=function(){return null},e.prototype.Mt=function(){return!1},e.prototype.Ut=function(){return!0},e.prototype.Qt=function(){return 0},e}());var Jl=function(){function e(e){this.$=e,this.data=new Wl(this.$)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.At()},e.prototype.last=function(){return this.data.Rt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.Pt((function(t,n){return e(t),!1}))},e.prototype.Kt=function(e,t){for(var n=this.data.Vt(e[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,e[1])>=0)return;t(r.key)}},e.prototype.Wt=function(e,t){var n;for(n=void 0!==t?this.data.Vt(t):this.data.yt();n.Nt();)if(!e(n.Ct().key))return},e.prototype.jt=function(e){var t=this.data.Vt(e);return t.Nt()?t.Ct().key:null},e.prototype.yt=function(){return new Xl(this.data.yt())},e.prototype.Vt=function(e){return new Xl(this.data.Vt(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).Tt(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.W=function(){return this.data.W()},e.prototype.Gt=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.yt(),r=t.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},e.prototype.H=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.$);return n.data=t,n},e}(),Xl=function(){function e(e){this.zt=e}return e.prototype.Ct=function(){return this.zt.Ct().key},e.prototype.Nt=function(){return this.zt.Nt()},e}(),Zl=new Wl(Nl.$);function $l(){return Zl}function ec(){return $l()}var tc=new Wl(Nl.$);function nc(){return tc}var rc=new Wl(Nl.$),ic=new Jl(Nl.$);function oc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ic,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ac=new Jl(kl);function sc(){return ac}var uc=function(){function e(e){this.$=e?function(t,n){return e(t,n)||Nl.$(t.key,n.key)}:function(e,t){return Nl.$(e.key,t.key)},this.Ht=nc(),this.Jt=new Wl(this.$)}return e.Yt=function(t){return new e(t.$)},e.prototype.has=function(e){return null!=this.Ht.get(e)},e.prototype.get=function(e){return this.Ht.get(e)},e.prototype.first=function(){return this.Jt.At()},e.prototype.last=function(){return this.Jt.Rt()},e.prototype.W=function(){return this.Jt.W()},e.prototype.indexOf=function(e){var t=this.Ht.get(e);return t?this.Jt.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Jt.Pt((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.Ht.Tt(e.key,e),t.Jt.Tt(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.Ht.remove(e),this.Jt.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Jt.yt(),r=t.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.$=this.$,r.Ht=t,r.Jt=n,r},e}(),lc=function(){function e(){this.Xt=new Wl(Nl.$)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Xt.get(t);n?0!==e.type&&3===n.type?this.Xt=this.Xt.Tt(t,e):3===e.type&&1!==n.type?this.Xt=this.Xt.Tt(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Xt=this.Xt.Tt(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Xt=this.Xt.Tt(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Xt=this.Xt.remove(t):1===e.type&&2===n.type?this.Xt=this.Xt.Tt(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Xt=this.Xt.Tt(t,{type:2,doc:e.doc}):cl():this.Xt=this.Xt.Tt(t,e)},e.prototype.Zt=function(){var e=[];return this.Xt.Pt((function(t,n){e.push(n)})),e},e}(),cc=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=a,this.se=s}return e.ie=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,uc.Yt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.ne===e.ne&&this.ee.isEqual(e.ee)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.te.isEqual(e.te)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),hc=function(){function e(e,t,n,r,i){this.ft=e,this.re=t,this.oe=n,this.ce=r,this.ue=i}return e.ae=function(t,n){var r=new Map;return r.set(t,fc.he(t,n)),new e(Ol.min(),r,sc(),$l(),oc())},e}(),fc=function(){function e(e,t,n,r,i){this.resumeToken=e,this.le=t,this._e=n,this.fe=r,this.de=i}return e.he=function(t,n){return new e(Ul.lt,n,oc(),oc(),oc())},e}(),dc=function(e,t,n,r){this.we=e,this.removedTargetIds=t,this.key=n,this.Ee=r},pc=function(e,t){this.targetId=e,this.Te=t},vc=function(e,t,n,r){void 0===n&&(n=Ul.lt),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},yc=function(){function e(){this.Ie=0,this.me=bc(),this.Ae=Ul.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(e.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),e.prototype.Ve=function(e){e.ht()>0&&(this.Pe=!0,this.Ae=e)},e.prototype.pe=function(){var e=oc(),t=oc(),n=oc();return this.me.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cl()}})),new fc(this.Ae,this.Re,e,t,n)},e.prototype.ve=function(){this.Pe=!1,this.me=bc()},e.prototype.be=function(e,t){this.Pe=!0,this.me=this.me.Tt(e,t)},e.prototype.Se=function(e){this.Pe=!0,this.me=this.me.remove(e)},e.prototype.De=function(){this.Ie+=1},e.prototype.Ce=function(){this.Ie-=1},e.prototype.Ne=function(){this.Pe=!0,this.Re=!0},e}(),mc=function(){function e(e){this.xe=e,this.Fe=new Map,this.Oe=$l(),this.Me=gc(),this.ke=new Jl(kl)}return e.prototype.$e=function(e){for(var t=0,n=e.we;t<n.length;t++){var r=n[t];e.Ee instanceof nf?this.Le(r,e.Ee):e.Ee instanceof rf&&this.Be(r,e.key,e.Ee)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.Be(o[i],e.key,e.Ee)},e.prototype.qe=function(e){var t=this;this.Ue(e,(function(n){var r=t.Qe(n);switch(e.state){case 0:t.Ke(n)&&r.Ve(e.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(e.resumeToken);break;case 2:r.Ce(),r.ge||t.removeTarget(n);break;case 3:t.Ke(n)&&(r.Ne(),r.Ve(e.resumeToken));break;case 4:t.Ke(n)&&(t.We(n),r.Ve(e.resumeToken));break;default:cl()}}))},e.prototype.Ue=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Fe.forEach((function(e,r){n.Ke(r)&&t(r)}))},e.prototype.je=function(e){var t=e.targetId,n=e.Te.count,r=this.Ge(t);if(r){var i=r.target;if(Fl(i))if(0===n){var o=new Nl(i.path);this.Be(t,o,new rf(o,Ol.min()))}else hl(1===n);else this.ze(t)!==n&&(this.We(t),this.ke=this.ke.add(t))}},e.prototype.He=function(e){var t=this,n=new Map;this.Fe.forEach((function(r,i){var o=t.Ge(i);if(o){if(r.le&&Fl(o.target)){var a=new Nl(o.target.path);null!==t.Oe.get(a)||t.Je(i,a)||t.Be(i,a,new rf(a,e))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=oc();this.Me.forEach((function(e,n){var i=!0;n.Wt((function(e){var n=t.Ge(e);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new hc(e,n,this.ke,this.Oe,r);return this.Oe=$l(),this.Me=gc(),this.ke=new Jl(kl),i},e.prototype.Le=function(e,t){if(this.Ke(e)){var n=this.Je(e,t.key)?2:0;this.Qe(e).be(t.key,n),this.Oe=this.Oe.Tt(t.key,t),this.Me=this.Me.Tt(t.key,this.Ye(t.key).add(e))}},e.prototype.Be=function(e,t,n){if(this.Ke(e)){var r=this.Qe(e);this.Je(e,t)?r.be(t,1):r.Se(t),this.Me=this.Me.Tt(t,this.Ye(t).delete(e)),n&&(this.Oe=this.Oe.Tt(t,n))}},e.prototype.removeTarget=function(e){this.Fe.delete(e)},e.prototype.ze=function(e){var t=this.Qe(e).pe();return this.xe.Xe(e).size+t._e.size-t.de.size},e.prototype.De=function(e){this.Qe(e).De()},e.prototype.Qe=function(e){var t=this.Fe.get(e);return t||(t=new yc,this.Fe.set(e,t)),t},e.prototype.Ye=function(e){var t=this.Me.get(e);return t||(t=new Jl(kl),this.Me=this.Me.Tt(e,t)),t},e.prototype.Ke=function(e){var t=null!==this.Ge(e);return t||al("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Ge=function(e){var t=this.Fe.get(e);return t&&t.ge?null:this.xe.Ze(e)},e.prototype.We=function(e){var t=this;this.Fe.set(e,new yc),this.xe.Xe(e).forEach((function(n){t.Be(e,n,null)}))},e.prototype.Je=function(e,t){return this.xe.Xe(e).has(t)},e}();function gc(){return new Wl(Nl.$)}function bc(){return new Wl(Nl.$)}function _c(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Cc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ec(e){var t=Dc(e.mapValue.fields.__local_write_time__.timestampValue);return new Sl(t.seconds,t.nanos)}var Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cc(e)?4:10:cl()}function Tc(e,t){var n=Oc(e);if(n!==Oc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ec(e).isEqual(Ec(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Dc(e.timestampValue),r=Dc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pc(e.bytesValue).isEqual(Pc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jc(e.geoPointValue.latitude)===jc(t.geoPointValue.latitude)&&jc(e.geoPointValue.longitude)===jc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jc(e.integerValue)===jc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jc(e.doubleValue),r=jc(t.doubleValue);return n===r?jl(n)===jl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Cl(e.arrayValue.values||[],t.arrayValue.values||[],Tc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_c(n)!==_c(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tc(n[i],r[i])))return!1;return!0}(e,t);default:return cl()}}function Ic(e,t){return void 0!==(e.values||[]).find((function(e){return Tc(e,t)}))}function xc(e,t){var n=Oc(e),r=Oc(t);if(n!==r)return kl(n,r);switch(n){case 0:return 0;case 1:return kl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jc(e.integerValue||e.doubleValue),r=jc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ac(e.timestampValue,t.timestampValue);case 4:return Ac(Ec(e),Ec(t));case 5:return kl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pc(e),r=Pc(t);return n.F(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=kl(n[i],r[i]);if(0!==o)return o}return kl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kl(jc(e.latitude),jc(t.latitude));return 0!==n?n:kl(jc(e.longitude),jc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=xc(n[i],r[i]);if(o)return o}return kl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=kl(r[a],o[a]);if(0!==s)return s;var u=xc(n[r[a]],i[o[a]]);if(0!==u)return u}return kl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw cl()}}function Ac(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kl(e,t);var n=Dc(e),r=Dc(t),i=kl(n.seconds,r.seconds);return 0!==i?i:kl(n.nanos,r.nanos)}function Nc(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=Dc(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pc(t.bytesValue).toBase64():"referenceValue"in t?Nl.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):cl();var n}(e)}function Dc(e){if(hl(!!e),"string"==typeof e){var t=0,n=Sc.exec(e);if(hl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jc(e.seconds),nanos:jc(e.nanos)}}function jc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pc(e){return"string"==typeof e?Ul.fromBase64String(e):Ul.fromUint8Array(e)}function Rc(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.J()}}function Mc(e){return!!e&&"integerValue"in e}function Vc(e){return!!e&&"arrayValue"in e}function Lc(e){return!!e&&"nullValue"in e}function Fc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uc(e){return!!e&&"mapValue"in e}var qc={asc:"ASCENDING",desc:"DESCENDING"},zc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bc=function(e,t){this.t=e,this.tn=t};function Hc(e){return{integerValue:""+e}}function Gc(e,t){if(e.tn){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(t)?"-0":t}}function Kc(e,t){return Pl(t)?Hc(t):Gc(e,t)}function Wc(e,t){return e.tn?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qc(e,t){return e.tn?t.toBase64():t.toUint8Array()}function Yc(e,t){return Wc(e,t.M())}function Jc(e){return hl(!!e),Ol.N(function(e){var t=Dc(e);return new Sl(t.seconds,t.nanos)}(e))}function Xc(e,t){return function(e){return new Il(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).J()}function Zc(e){var t=Il.Y(e);return hl(_h(t)),t}function $c(e,t){return Xc(e.t,t.path)}function eh(e,t){var n=Zc(t);if(n.get(1)!==e.t.projectId)throw new pl(dl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new pl(dl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new Nl(ih(n))}function th(e,t){return Xc(e.t,t)}function nh(e){var t=Zc(e);return 4===t.length?Il.X():ih(t)}function rh(e){return new Il(["projects",e.t.projectId,"databases",e.t.database]).J()}function ih(e){return hl(e.length>4&&"documents"===e.get(4)),e.B(5)}function oh(e,t,n){return{name:$c(e,t),fields:n.proto.mapValue.fields}}function ah(e,t){var n;if(t instanceof Hh)n={update:oh(e,t.key,t.value)};else if(t instanceof Jh)n={delete:$c(e,t.key)};else if(t instanceof Gh)n={update:oh(e,t.key,t.data),updateMask:bh(t.en)};else if(t instanceof Wh)n={transform:{document:$c(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Sh)return{fieldPath:t.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oh)return{fieldPath:t.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Ih)return{fieldPath:t.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Ah)return{fieldPath:t.field.J(),increment:n.nn};throw cl()}(0,e)}))}};else{if(!(t instanceof Xh))return cl();n={verify:$c(e,t.key)}}return t.rn.sn||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cl()}(e,t.rn)),n}function sh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mh.updateTime(Jc(e.updateTime)):void 0!==e.exists?Mh.exists(e.exists):Mh.on()}(t.currentDocument):Mh.on();if(t.update){var r=eh(e,t.update.name),i=new Zh({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){return new jh((e.fieldPaths||[]).map((function(e){return Al.nt(e)})))}(t.updateMask);return new Gh(r,i,o,n)}return new Hh(r,i,n)}if(t.delete){var a=eh(e,t.delete);return new Jh(a,n)}if(t.transform){var s=eh(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(hl("REQUEST_TIME"===t.setToServerValue),n=new Sh):"appendMissingElements"in t?n=new Oh(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Ih(t.removeAllFromArray.values||[]):"increment"in t?n=new Ah(e,t.increment):cl();var r=Al.nt(t.fieldPath);return new Ph(r,n)}(e,t)}));return hl(!0===n.exists),new Wh(s,u)}if(t.verify){var l=eh(e,t.verify);return new Xh(l,n)}return cl()}function uh(e,t){return{documents:[th(e,t.path)]}}function lh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=th(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=th(e,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Fc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NAN"}};if(Lc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NAN"}};if(Lc(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(e.field),op:ph(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:vh(e.field),direction:dh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.tn||Dl(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=hh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=hh(t.endAt)),n}function ch(e){var t=nh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[gh(t)]:void 0!==t.fieldFilter?[mh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):cl():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Rf(yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Dl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=fh(n.startAt));var c=null;return n.endAt&&(c=fh(n.endAt)),sf(t,i,s,a,u,"F",l,c)}function hh(e){return{before:e.before,values:e.position}}function fh(e){return new Nf(e.values||[],!!e.before)}function dh(e){return qc[e]}function ph(e){return zc[e]}function vh(e){return{fieldPath:e.J()}}function yh(e){return Al.nt(e.fieldPath)}function mh(e){return kf.create(yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return cl()}}(e.fieldFilter.op),e.fieldFilter.value)}function gh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yh(e.unaryFilter.field);return kf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yh(e.unaryFilter.field);return kf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yh(e.unaryFilter.field);return kf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yh(e.unaryFilter.field);return kf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return cl()}}function bh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.J())})),{fieldPaths:t}}function _h(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var wh=function(){this.cn=void 0};function kh(e,t,n){return e instanceof Sh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Oh?Th(e,t):e instanceof Ih?xh(e,t):function(e,t){var n=Eh(e,t),r=Nh(n)+Nh(e.nn);return Mc(n)&&Mc(e.nn)?Hc(r):Gc(e.serializer,r)}(e,t)}function Ch(e,t,n){return e instanceof Oh?Th(e,t):e instanceof Ih?xh(e,t):n}function Eh(e,t){return e instanceof Ah?Mc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Sh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t}(wh),Oh=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(Ji.c)(t,e),t}(wh);function Th(e,t){for(var n=Dh(t),r=function(e){n.some((function(t){return Tc(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ih=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(Ji.c)(t,e),t}(wh);function xh(e,t){for(var n=Dh(t),r=function(e){n=n.filter((function(t){return!Tc(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ah=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.nn=n,r}return Object(Ji.c)(t,e),t}(wh);function Nh(e){return jc(e.integerValue||e.doubleValue)}function Dh(e){return Vc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jh=function(){function e(e){this.fields=e,e.sort(Al.$)}return e.prototype.un=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].j(e))return!0;return!1},e.prototype.isEqual=function(e){return Cl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ph=function(e,t){this.field=e,this.transform=t},Rh=function(e,t){this.version=e,this.transformResults=t},Mh=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.on=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Vh(e,t){return void 0!==e.updateTime?t instanceof nf&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof nf}var Lh=function(){};function Fh(e,t,n){return e instanceof Hh?function(e,t,n){return new nf(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof Gh?function(e,t,n){if(!Vh(e.rn,t))return new of(e.key,n.version);var r=Kh(e,t);return new nf(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof Wh?function(e,t,n){if(hl(null!=n.transformResults),!Vh(e.rn,t))return new of(e.key,n.version);var r=Qh(0,t),i=function(e,t,n){var r=[];hl(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof nf&&(s=t.field(o.field)),r.push(Ch(a,s,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,a=Yh(e,r.data(),i);return new nf(e.key,o,a,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new rf(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function Uh(e,t,n,r){return e instanceof Hh?function(e,t){if(!Vh(e.rn,t))return t;var n=Bh(t);return new nf(e.key,n,e.value,{an:!0})}(e,t):e instanceof Gh?function(e,t){if(!Vh(e.rn,t))return t;var n=Bh(t),r=Kh(e,t);return new nf(e.key,n,r,{an:!0})}(e,t):e instanceof Wh?function(e,t,n,r){if(!Vh(e.rn,t))return t;var i=Qh(0,t),o=function(e,t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,l=null;n instanceof nf&&(l=n.field(s.field)),null===l&&r instanceof nf&&(l=r.field(s.field)),i.push(kh(u,l,t))}return i}(e.fieldTransforms,n,t,r),a=Yh(e,i.data(),o);return new nf(e.key,i.version,a,{an:!0})}(e,t,r,n):function(e,t){return Vh(e.rn,t)?new rf(e.key,Ol.min()):t}(e,t)}function qh(e,t){return e instanceof Wh?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof nf?t.field(o.field):void 0,s=Eh(o.transform,a||null);null!=s&&(n=null==n?(new $h).set(o.field,s):n.set(o.field,s))}return n?n.hn():null}(e,t):null}function zh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.rn.isEqual(t.rn)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.en.isEqual(t.en):2!==e.type||Cl(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Oh&&t instanceof Oh||e instanceof Ih&&t instanceof Ih?Cl(e.elements,t.elements,Tc):e instanceof Ah&&t instanceof Ah?Tc(e.nn,t.nn):e instanceof Sh&&t instanceof Sh}(e.transform,t.transform)}(e,t)})))}function Bh(e){return e instanceof nf?e.version:Ol.min()}var Hh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.rn=r,i.type=0,i}return Object(Ji.c)(t,e),t}(Lh),Gh=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Ji.c)(t,e),t}(Lh);function Kh(e,t){return function(e,t){var n=new $h(t);return e.en.fields.forEach((function(t){if(!t.W()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.hn()}(e,t instanceof nf?t.data():Zh.empty())}var Wh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.rn=Mh.exists(!0),r}return Object(Ji.c)(t,e),t}(Lh);function Qh(e,t){return t}function Yh(e,t,n){for(var r=new $h(t),i=0;i<e.fieldTransforms.length;i++)r.set(e.fieldTransforms[i].field,n[i]);return r.hn()}var Jh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.rn=n,r.type=3,r}return Object(Ji.c)(t,e),t}(Lh),Xh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.rn=n,r.type=4,r}return Object(Ji.c)(t,e),t}(Lh),Zh=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.W())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!Uc(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.K()])||null},e.prototype.isEqual=function(e){return Tc(this.proto,e.proto)},e}(),$h=function(){function e(e){void 0===e&&(e=Zh.empty()),this.ln=e,this._n=new Map}return e.prototype.set=function(e,t){return this.fn(e,t),this},e.prototype.delete=function(e){return this.fn(e,null),this},e.prototype.fn=function(e,t){for(var n=this._n,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.K(),t)},e.prototype.hn=function(){var e=this.dn(Al.X(),this._n);return null!=e?new Zh(e):this.ln},e.prototype.dn=function(e,t){var n=this,r=!1,i=this.ln.field(e),o=Uc(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.dn(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function ef(e){var t=[];return wc(e.fields||{},(function(e,n){var r=new Al([e]);if(Uc(n)){var i=ef(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new jh(t)}var tf=function(e,t){this.key=e,this.version=t},nf=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ji.c)(t,e),t.prototype.field=function(e){return this.wn.field(e)},t.prototype.data=function(){return this.wn},t.prototype.En=function(){return this.wn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.an===e.an&&this.hasCommittedMutations===e.hasCommittedMutations&&this.wn.isEqual(e.wn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(tf),rf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ji.c)(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(tf),of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(tf),af=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.In=null,this.mn=null};function sf(e,t,n,r,i,o,a,s){return new af(e,t,n,r,i,o,a,s)}function uf(e){return new af(e)}function lf(e){return!Dl(e.limit)&&"F"===e.limitType}function cf(e){return!Dl(e.limit)&&"L"===e.limitType}function hf(e){return e.Tn.length>0?e.Tn[0].field:null}function ff(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.An())return r.field}return null}function df(e){return null!==e.collectionGroup}function pf(e){var t=fl(e);if(null===t.In){t.In=[];var n=ff(t),r=hf(t);if(null!==n&&null===r)n.tt()||t.In.push(new Rf(n)),t.In.push(new Rf(Al.et(),"asc"));else{for(var i=!1,o=0,a=t.Tn;o<a.length;o++){var s=a[o];t.In.push(s),s.field.tt()&&(i=!0)}if(!i){var u=t.Tn.length>0?t.Tn[t.Tn.length-1].dir:"asc";t.In.push(new Rf(Al.et(),u))}}}return t.In}function vf(e){var t=fl(e);if(!t.mn)if("F"===t.limitType)t.mn=Ml(t.path,t.collectionGroup,pf(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=pf(t);r<i.length;r++){var o=i[r];n.push(new Rf(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new Nf(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Nf(t.startAt.position,!t.startAt.before):null;t.mn=Ml(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.mn}function yf(e,t,n){return new af(e.path,e.collectionGroup,e.Tn.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mf(e,t){return Ll(vf(e),vf(t))&&e.limitType===t.limitType}function gf(e){return Vl(vf(e))+"|lt:"+e.limitType}function bf(e){return"Query(target="+function(e){var t=e.path.J();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.J()+" "+t.op+" "+Nc(t.value);var t})).join(", ")+"]"),Dl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.J()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Df(e.startAt)),e.endAt&&(t+=", endAt: "+Df(e.endAt)),"Target("+t+")"}(vf(e))+"; limitType="+e.limitType+")"}function _f(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.rt(e.collectionGroup)&&e.path.j(n):Nl.ot(e.path)?e.path.isEqual(n):e.path.G(n)}(e,t)&&function(e,t){for(var n=0,r=e.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!jf(e.startAt,pf(e),t)||e.endAt&&jf(e.endAt,pf(e),t))}(e,t)}function wf(e){return function(t,n){for(var r=!1,i=0,o=pf(e);i<o.length;i++){var a=o[i],s=Mf(a,t,n);if(0!==s)return s;r=r||a.field.tt()}return 0}}var kf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(Ji.c)(t,e),t.create=function(e,n,r){return e.tt()?"in"===n||"not-in"===n?this.Rn(e,n,r):new Cf(e,n,r):"array-contains"===n?new Tf(e,r):"in"===n?new If(e,r):"not-in"===n?new xf(e,r):"array-contains-any"===n?new Af(e,r):new t(e,n,r)},t.Rn=function(e,t,n){return"in"===t?new Ef(e,n):new Sf(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.Pn(xc(t,this.value)):null!==t&&Oc(this.value)===Oc(t)&&this.Pn(xc(t,this.value))},t.prototype.Pn=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cl()}},t.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Cf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Nl.it(r.referenceValue),i}return Object(Ji.c)(t,e),t.prototype.matches=function(e){var t=Nl.$(e.key,this.key);return this.Pn(t)},t}(kf),Ef=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Of(0,n),r}return Object(Ji.c)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(kf),Sf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Of(0,n),r}return Object(Ji.c)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(kf);function Of(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Nl.it(e.referenceValue)}))}var Tf=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(Ji.c)(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return Vc(t)&&Ic(t.arrayValue,this.value)},t}(kf),If=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(Ji.c)(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Ic(this.value.arrayValue,t)},t}(kf),xf=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(Ji.c)(t,e),t.prototype.matches=function(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Ic(this.value.arrayValue,t)},t}(kf),Af=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(Ji.c)(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!Vc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ic(t.value.arrayValue,e)}))},t}(kf),Nf=function(e,t){this.position=e,this.before=t};function Df(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Nc(e)})).join(",")}function jf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.tt()?Nl.$(Nl.it(a.referenceValue),n.key):xc(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Pf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Tc(e.position[n],t.position[n]))return!1;return!0}var Rf=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Mf(e,t,n){var r=e.field.tt()?Nl.$(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?xc(r,i):cl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cl()}}function Vf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Lf=function(){function e(e,t,n,r){this.batchId=e,this.gn=t,this.baseMutations=n,this.mutations=r}return e.prototype.yn=function(e,t,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=Fh(o,t,r[i]))}return t},e.prototype.pn=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=Uh(i,t,t,this.gn))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(e)&&(t=Uh(u,t,o,this.gn))}return t},e.prototype.vn=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.pn(r.key,e.get(r.key));i&&(n=n.Tt(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),oc())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,(function(e,t){return zh(e,t)}))&&Cl(this.baseMutations,e.baseMutations,(function(e,t){return zh(e,t)}))},e}(),Ff=function(){function e(e,t,n,r){this.batch=e,this.bn=t,this.Vn=n,this.Sn=r}return e.from=function(t,n,r){hl(t.mutations.length===r.length);for(var i=rc,o=t.mutations,a=0;a<o.length;a++)i=i.Tt(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Uf=function(){function e(e,t){this.Dn=e,this.Cn=t,this.Nn={}}return e.prototype.get=function(e){var t=this.Dn(e),n=this.Nn[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.Cn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.Dn(e),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.Nn[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.Dn(e),n=this.Nn[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],e))return 1===n.length?delete this.Nn[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){wc(this.Nn,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.W=function(){return kc(this.Nn)},e}(),qf=function(){function e(e){var t=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,e((function(e){t.On=!0,t.result=e,t.xn&&t.xn(e)}),(function(e){t.On=!0,t.error=e,t.Fn&&t.Fn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Mn&&cl(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(t,this.result):new e((function(e,i){r.xn=function(n){r.$n(t,n).next(e,i)},r.Fn=function(t){r.kn(n,t).next(e,i)}}))},e.prototype.Ln=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.Bn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.$n=function(t,n){return t?this.Bn((function(){return t(n)})):e.resolve(n)},e.prototype.kn=function(t,n){return t?this.Bn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.qn=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.Un=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.qn(r)},e}(),zf=function(){function e(){this.Qn=new Uf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.Kn=!1}return e.prototype.Wn=function(e){var t=this.Qn.get(e);return t?t.readTime:Ol.min()},e.prototype.jn=function(e,t){this.Gn(),this.Qn.set(e.key,{zn:e,readTime:t})},e.prototype.Hn=function(e,t){void 0===t&&(t=null),this.Gn(),this.Qn.set(e,{zn:null,readTime:t})},e.prototype.Jn=function(e,t){this.Gn();var n=this.Qn.get(t);return void 0!==n?qf.resolve(n.zn):this.Yn(e,t)},e.prototype.getEntries=function(e,t){return this.Xn(e,t)},e.prototype.apply=function(e){return this.Gn(),this.Kn=!0,this.Zn(e)},e.prototype.Gn=function(){},e}(),Bf=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function Hf(e){return new Bc(e,!0)}function Gf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Kf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wf=function(){function e(){this.ts=[]}return e.prototype.es=function(e){this.ts.push(e)},e.prototype.ns=function(){this.ts.forEach((function(e){return e()}))},e}(),Qf=function(){function e(e,t,n){this.ss=e,this.rs=t,this.os=n}return e.prototype.cs=function(e,t){var n=this;return this.rs.us(e,t).next((function(r){return n.hs(e,t,r)}))},e.prototype.hs=function(e,t,n){return this.ss.Jn(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].pn(t,e);return e}))},e.prototype.ls=function(e,t,n){var r=ec();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].pn(e,t);r=r.Tt(e,t)})),r},e.prototype._s=function(e,t){var n=this;return this.ss.getEntries(e,t).next((function(t){return n.fs(e,t)}))},e.prototype.fs=function(e,t){var n=this;return this.rs.ds(e,t).next((function(r){var i=n.ls(e,t,r),o=$l();return i.forEach((function(e,t){t||(t=new rf(e,Ol.min())),o=o.Tt(e,t)})),o}))},e.prototype.ws=function(e,t,n){return function(e){return Nl.ot(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Es(e,t.path):df(t)?this.Ts(e,t,n):this.Is(e,t,n)},e.prototype.Es=function(e,t){return this.cs(e,new Nl(t)).next((function(e){var t=nc();return e instanceof nf&&(t=t.Tt(e.key,e)),t}))},e.prototype.Ts=function(e,t,n){var r=this,i=t.collectionGroup,o=nc();return this.os.As(e,i).next((function(a){return qf.forEach(a,(function(a){var s=function(e,t){return new af(t,null,e.Tn.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.Is(e,s,n).next((function(e){e.forEach((function(e,t){o=o.Tt(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Is=function(e,t,n){var r,i,o=this;return this.ss.ws(e,t,n).next((function(n){return r=n,o.rs.Rs(e,t)})).next((function(t){return o.Ps(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l),h=Uh(u,c,c,o.gn);r=h instanceof nf?r.Tt(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(e,n){_f(t,n)||(r=r.remove(e))})),r}))},e.prototype.Ps=function(e,t,n){for(var r=oc(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Gh&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.ss.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof nf&&(l=l.Tt(e,t))})),l}))},e}(),Yf=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.gs=n,this.ys=r}return e.Vs=function(t,n){for(var r=oc(),i=oc(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Jf=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.ps=function(e){return n.vs(e)},this.bs=function(e){return t.Ss(e)})}return e.prototype.vs=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.bs&&this.bs(e),e},e}();Jf.Ds=-1;var Xf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=e,this.Ns=t,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return e.prototype.reset=function(){this.Ms=0},e.prototype.Ls=function(){this.Ms=this.Os},e.prototype.Bs=function(e){var t=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&al("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return t.$s=Date.now(),e()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},e.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},e.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},e.prototype.qs=function(){return(Math.random()-.5)*this.Ms},e}(),Zf=function(){function e(t,n,r){this.name=t,this.version=n,this.Ws=r,12.2===e.js(Object($i.g)())&&sl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return al("SimpleDb","Removing database:",e),id(window.indexedDB.deleteDatabase(e)).Ln()},e.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(e.zs())return!0;var t=Object($i.g)(),n=e.js(t),r=0<n&&n<10,i=e.Hs(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.zs=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Js)},e.Ys=function(e,t){return e.store(t)},e.js=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Hs=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Xs=function(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n=this;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(al("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new ed(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new pl(dl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ed(e,n))},i.onupgradeneeded=function(e){al("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.Ws.createOrUpgrade(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){al("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(e){return n.Zs(e)}),this.db)]}}))}))},e.prototype.ti=function(e){this.Zs=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Object(Ji.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(Ji.d)(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,l,c;return Object(Ji.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Xs(e)];case 2:return s.db=h.sent(),t=nd.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),qf.reject(e)})).Ln(),u={},a.catch((function(){})),[4,t.ei];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return al("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",c="FirebaseError"!==l.name&&o<3),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),$f=function(){function e(e){this.ni=e,this.si=!1,this.ii=null}return Object.defineProperty(e.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.ni=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.si=!0},e.prototype.oi=function(e){this.ii=e},e.prototype.delete=function(){return id(this.ni.delete())},e}(),ed=function(e){function t(t,n){var r=this;return(r=e.call(this,dl.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ji.c)(t,e),t}(pl);function td(e){return"IndexedDbTransactionError"===e.name}var nd=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ci=new Bf,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){t.error?n.ci.reject(new ed(e,t.error)):n.ci.resolve()},this.transaction.onerror=function(t){var r=ad(t.target.error);n.ci.reject(new ed(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ed(n,t)}},Object.defineProperty(e.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ci.reject(e),this.aborted||(al("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new rd(t)},e}(),rd=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(al("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(al("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),id(n)},e.prototype.add=function(e){return al("SimpleDb","ADD",this.store.name,e,e),id(this.store.add(e))},e.prototype.get=function(e){var t=this;return id(this.store.get(e)).next((function(n){return void 0===n&&(n=null),al("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return al("SimpleDb","DELETE",this.store.name,e),id(this.store.delete(e))},e.prototype.count=function(){return al("SimpleDb","COUNT",this.store.name),id(this.store.count())},e.prototype.ui=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.ai(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.hi=function(e,t){al("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(e,t,n){return n.delete()}))},e.prototype._i=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.ai(r,t)},e.prototype.fi=function(e){var t=this.cursor({});return new qf((function(n,r){t.onerror=function(e){var t=ad(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.ai=function(e,t){var n=[];return new qf((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new $f(i),a=t(i.primaryKey,i.value,o);if(a instanceof qf){var s=a.catch((function(e){return o.done(),qf.reject(e)}));n.push(s)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return qf.qn(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.li?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function id(e){return new qf((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=ad(e.target.error);n(t)}}))}var od=!1;function ad(e){var t=Zf.js(Object($i.g)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return od||(od=!0,setTimeout((function(){throw r}),0)),r}}return e}function sd(){return"undefined"!=typeof window?window:null}function ud(){return"undefined"!=typeof document?document:null}var ld=function(){function e(e,t,n,r,i){this.di=e,this.Ns=t,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Bf,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(e){}))}return e.Ii=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.mi=setTimeout((function(){return t.Ai()}),e)},e.prototype.Ks=function(){return this.Ai()},e.prototype.cancel=function(e){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new pl(dl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.Ai=function(){var e=this;this.di.Ri((function(){return null!==e.mi?(e.clearTimeout(),e.op().then((function(t){return e.Ti.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},e}(),cd=function(){function e(){var e=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Xf(this,"async_queue_retry"),this.Di=function(){var t=ud();t&&al("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Si.Qs()};var t=ud();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(e.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),e.prototype.Ri=function(e){this.enqueue(e)},e.prototype.Ni=function(e){this.xi(),this.Fi(e)},e.prototype.Oi=function(){if(!this.yi){this.yi=!0;var e=ud();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Di)}},e.prototype.enqueue=function(e){return this.xi(),this.yi?new Promise((function(e){})):this.Fi(e)},e.prototype.Mi=function(e){var t=this;this.Ri((function(){return t.gi.push(e),t.ki()}))},e.prototype.ki=function(){return Object(Ji.b)(this,void 0,void 0,(function(){var e,t=this;return Object(Ji.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!td(e=n.sent()))throw e;return al("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return t.ki()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Fi=function(e){var t=this,n=this.Pi.then((function(){return t.vi=!0,e().catch((function(e){throw t.pi=e,t.vi=!1,sl("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.vi=!1,e}))}));return this.Pi=n,n},e.prototype.Us=function(e,t,n){var r=this;this.xi(),this.bi.indexOf(e)>-1&&(t=0);var i=ld.Ii(this,e,t,n,(function(e){return r.$i(e)}));return this.Vi.push(i),i},e.prototype.xi=function(){this.pi&&cl()},e.prototype.Li=function(){},e.prototype.Bi=function(){return Object(Ji.b)(this,void 0,void 0,(function(){var e;return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,e=this.Pi];case 1:t.sent(),t.label=2;case 2:if(e!==this.Pi)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.qi=function(e){for(var t=0,n=this.Vi;t<n.length;t++)if(n[t].Ns===e)return!0;return!1},e.prototype.Ui=function(e){var t=this;return this.Bi().then((function(){t.Vi.sort((function(e,t){return e.wi-t.wi}));for(var n=0,r=t.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==e&&i.Ns===e)break}return t.Bi()}))},e.prototype.Qi=function(e){this.bi.push(e)},e.prototype.$i=function(e){var t=this.Vi.indexOf(e);this.Vi.splice(t,1)},e}();function hd(e,t){if(sl("AsyncQueue",t+": "+e),td(e))return new pl(dl.UNAVAILABLE,t+": "+e);throw e}function fd(e,t){var n=e[1],r=t[1],i=kl(e[0],t[0]);return 0===i?kl(n,r):i}var dd=function(){function e(e){this.Ki=e,this.buffer=new Jl(fd),this.Wi=0}return e.prototype.ji=function(){return++this.Wi},e.prototype.Gi=function(e){var t=[e,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();fd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),pd={zi:!1,Hi:0,Ji:0,Yi:0},vd=function(){function e(e,t,n){this.Xi=e,this.Zi=t,this.tr=n}return e.er=function(t){return new e(t,e.nr,e.sr)},e}();vd.nr=10,vd.sr=1e3,vd.ir=new vd(41943040,vd.nr,vd.sr),vd.rr=new vd(-1,0,0);var yd=function(){function e(e,t){this.cr=e,this.di=t,this.ur=!1,this.ar=null}return e.prototype.start=function(e){-1!==this.cr.params.Xi&&this.hr(e)},e.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(e.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),e.prototype.hr=function(e){var t=this,n=this.ur?3e5:6e4;al("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(Ji.b)(t,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return td(t=n.sent())?(al("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Bp(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),md=function(){function e(e,t){this.dr=e,this.params=t}return e.prototype.wr=function(e,t){return this.dr.Er(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Tr=function(e,t){var n=this;if(0===t)return qf.resolve(Jf.Ds);var r=new dd(t);return this.dr.Ue(e,(function(e){return r.Gi(e.sequenceNumber)})).next((function(){return n.dr.Ir(e,(function(e){return r.Gi(e)}))})).next((function(){return r.maxValue}))},e.prototype.mr=function(e,t,n){return this.dr.mr(e,t,n)},e.prototype.Ar=function(e,t){return this.dr.Ar(e,t)},e.prototype.Rr=function(e,t){var n=this;return-1===this.params.Xi?(al("LruGarbageCollector","Garbage collection skipped; disabled"),qf.resolve(pd)):this.Pr(e).next((function(r){return r<n.params.Xi?(al("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),pd):n.gr(e,t)}))},e.prototype.Pr=function(e){return this.dr.Pr(e)},e.prototype.gr=function(e,t){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.wr(e,this.params.Zi).next((function(t){return t>l.params.tr?(al("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.tr+" from "+t),r=l.params.tr):r=t,o=Date.now(),l.Tr(e,r)})).next((function(r){return n=r,a=Date.now(),l.mr(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.Ar(e,n)})).next((function(e){return u=Date.now(),ol()<=Zi.a.DEBUG&&al("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),qf.resolve({zi:!0,Hi:r,Ji:i,Yi:e})}))},e}();function gd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_d(t)),t=bd(e.get(n),t);return _d(t)}function bd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _d(e){return e+"\x01\x01"}function wd(e){var t=e.length;if(hl(t>=2),2===t)return hl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Il.X();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&cl(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:cl()}o=a+2}return new Il(r)}var kd=function(e){this.yr=e};function Cd(e,t){if(t.document)return function(e,t,n){var r=eh(e,t.name),i=Jc(t.updateTime),o=new Zh({mapValue:{fields:t.fields}});return new nf(r,i,o,{hasCommittedMutations:!!n})}(e.yr,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Nl.ct(t.noDocument.path),r=Id(t.noDocument.readTime);return new rf(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=Nl.ct(t.unknownDocument.path),o=Id(t.unknownDocument.version);return new of(i,o)}return cl()}function Ed(e,t,n){var r=Sd(n),i=t.key.path.q().H();if(t instanceof nf){var o=function(e,t){return{name:$c(e,t.key),fields:t.En().mapValue.fields,updateTime:Wc(e,t.version.M())}}(e.yr,t);return new tp(null,null,o,t.hasCommittedMutations,r,i)}if(t instanceof rf){var a=t.key.path.H(),s=Td(t.version),u=t.hasCommittedMutations;return new tp(null,new $d(a,s),null,u,r,i)}if(t instanceof of){var l=t.key.path.H(),c=Td(t.version);return new tp(new ep(l,c),null,null,!0,r,i)}return cl()}function Sd(e){var t=e.M();return[t.seconds,t.nanoseconds]}function Od(e){var t=new Sl(e[0],e[1]);return Ol.N(t)}function Td(e){var t=e.M();return new Qd(t.seconds,t.nanoseconds)}function Id(e){var t=new Sl(e.seconds,e.nanoseconds);return Ol.N(t)}function xd(e,t){var n=(t.baseMutations||[]).map((function(t){return sh(e.yr,t)})),r=t.mutations.map((function(t){return sh(e.yr,t)})),i=Sl.fromMillis(t.localWriteTimeMs);return new Lf(t.batchId,i,n,r)}function Ad(e){var t,n,r=Id(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Id(e.lastLimboFreeSnapshotVersion):Ol.min();return void 0!==e.query.documents?(hl(1===(n=e.query).documents.length),t=vf(uf(nh(n.documents[0])))):t=function(e){return vf(ch(e))}(e.query),new Bl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ul.fromBase64String(e.resumeToken))}function Nd(e,t){var n,r=Td(t.ft),i=Td(t.lastLimboFreeSnapshotVersion);n=Fl(t.target)?uh(e.yr,t.target):lh(e.yr,t.target);var o=t.resumeToken.toBase64();return new rp(t.targetId,Vl(t.target),r,o,t.sequenceNumber,i,n)}function Dd(e){var t=ch({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yf(t,t.limit,"L"):t}var jd=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.os=n,this.Vr=r,this.pr={}}return e.vr=function(t,n,r,i){return hl(""!==t.uid),new e(t.u()?t.uid:"",n,r,i)},e.prototype.br=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Md(e)._i({index:Xd.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.Sr=function(e,t,n,r){var i=this,o=Vd(e),a=Md(e);return a.add({}).next((function(s){hl("number"==typeof s);for(var u=new Lf(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ah(e.yr,t)})),i=n.mutations.map((function(t){return ah(e.yr,t)}));return new Xd(t,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new Jl((function(e,t){return kl(e.J(),t.J())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Zd.key(i.userId,p.key.path,s);h=h.add(p.key.path.q()),c.push(a.put(l)),c.push(o.put(v,Zd.PLACEHOLDER))}return h.forEach((function(t){c.push(i.os.Dr(e,t))})),e.es((function(){i.pr[s]=u.keys()})),qf.qn(c).next((function(){return u}))}))},e.prototype.Cr=function(e,t){var n=this;return Md(e).get(t).next((function(e){return e?(hl(e.userId===n.userId),xd(n.serializer,e)):null}))},e.prototype.Nr=function(e,t){var n=this;return this.pr[t]?qf.resolve(this.pr[t]):this.Cr(e,t).next((function(e){if(e){var r=e.keys();return n.pr[t]=r,r}return null}))},e.prototype.Fr=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Md(e)._i({index:Xd.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(hl(t.batchId>=r),o=xd(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.Or=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Md(e)._i({index:Xd.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Mr=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Md(e).ui(Xd.userMutationsIndex,n).next((function(e){return e.map((function(e){return xd(t.serializer,e)}))}))},e.prototype.us=function(e,t){var n=this,r=Zd.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Vd(e)._i({range:i},(function(r,i,a){var s=r[0],u=r[2],l=wd(r[1]);if(s===n.userId&&t.path.isEqual(l))return Md(e).get(u).next((function(e){if(!e)throw cl();hl(e.userId===n.userId),o.push(xd(n.serializer,e))}));a.done()})).next((function(){return o}))},e.prototype.ds=function(e,t){var n=this,r=new Jl(kl),i=[];return t.forEach((function(t){var o=Zd.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Vd(e)._i({range:a},(function(e,i,o){var a=e[0],s=e[2],u=wd(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),qf.qn(i).next((function(){return n.kr(e,r)}))},e.prototype.Rs=function(e,t){var n=this,r=t.path,i=r.length+1,o=Zd.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Jl(kl);return Vd(e)._i({range:a},(function(e,t,o){var a=e[0],u=e[2],l=wd(e[1]);a===n.userId&&r.j(l)?l.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.kr(e,s)}))},e.prototype.kr=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Md(e).get(t).next((function(e){if(null===e)throw cl();hl(e.userId===n.userId),r.push(xd(n.serializer,e))})))})),qf.qn(i).next((function(){return r}))},e.prototype.$r=function(e,t){var n=this;return Rd(e.Lr,this.userId,t).next((function(r){return e.es((function(){n.Br(t.batchId)})),qf.forEach(r,(function(t){return n.Vr.qr(e,t)}))}))},e.prototype.Br=function(e){delete this.pr[e]},e.prototype.Ur=function(e){var t=this;return this.br(e).next((function(n){if(!n)return qf.resolve();var r=IDBKeyRange.lowerBound(Zd.prefixForUser(t.userId)),i=[];return Vd(e)._i({range:r},(function(e,n,r){if(e[0]===t.userId){var o=wd(e[1]);i.push(o)}else r.done()})).next((function(){hl(0===i.length)}))}))},e.prototype.Qr=function(e,t){return Pd(e,this.userId,t)},e.prototype.Kr=function(e){var t=this;return Ld(e).get(this.userId).next((function(e){return e||new Jd(t.userId,-1,"")}))},e}();function Pd(e,t,n){var r=Zd.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Vd(e)._i({range:o,li:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Rd(e,t,n){var r=e.store(Xd.store),i=e.store(Zd.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r._i({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){hl(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=Zd.key(t,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return qf.qn(o).next((function(){return l}))}function Md(e){return Ep.Ys(e,Xd.store)}function Vd(e){return Ep.Ys(e,Zd.store)}function Ld(e){return Ep.Ys(e,Jd.store)}var Fd=function(){function e(e,t){this.serializer=e,this.os=t}return e.prototype.jn=function(e,t,n){return zd(e).put(Bd(t),n)},e.prototype.Hn=function(e,t){var n=zd(e),r=Bd(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Wr(e,r)}))},e.prototype.Jn=function(e,t){var n=this;return zd(e).get(Bd(t)).next((function(e){return n.jr(e)}))},e.prototype.Gr=function(e,t){var n=this;return zd(e).get(Bd(t)).next((function(e){var t=n.jr(e);return t?{zn:t,size:Hd(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=ec();return this.zr(e,t,(function(e,t){var i=n.jr(t);r=r.Tt(e,i)})).next((function(){return r}))},e.prototype.Hr=function(e,t){var n=this,r=ec(),i=new Wl(Nl.$);return this.zr(e,t,(function(e,t){var o=n.jr(t);o?(r=r.Tt(e,o),i=i.Tt(e,Hd(t))):(r=r.Tt(e,null),i=i.Tt(e,0))})).next((function(){return{Jr:r,Yr:i}}))},e.prototype.zr=function(e,t,n){if(t.W())return qf.resolve();var r=IDBKeyRange.bound(t.first().path.H(),t.last().path.H()),i=t.yt(),o=i.Ct();return zd(e)._i({range:r},(function(e,t,r){for(var a=Nl.ct(e);o&&Nl.$(o,a)<0;)n(o,null),o=i.Ct();o&&o.isEqual(a)&&(n(o,t),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},e.prototype.ws=function(e,t,n){var r=this,i=nc(),o=t.path.length+1,a={};if(n.isEqual(Ol.min())){var s=t.path.H();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.H(),l=Sd(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=tp.collectionReadTimeIndex}return zd(e)._i(a,(function(e,n,a){if(e.length===o){var s=Cd(r.serializer,n);t.path.j(s.key.path)?s instanceof nf&&_f(t,s)&&(i=i.Tt(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.Xr=function(e){return new Ud(this,!!e&&e.Zr)},e.prototype.eo=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return qd(e).get(np.key).next((function(e){return hl(!!e),e}))},e.prototype.Wr=function(e,t){return qd(e).put(np.key,t)},e.prototype.jr=function(e){if(e){var t=Cd(this.serializer,e);return t instanceof rf&&t.version.isEqual(Ol.min())?null:t}return null},e}(),Ud=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).no=t,r.Zr=n,r.so=new Uf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(Ji.c)(t,e),t.prototype.Zn=function(e){var t=this,n=[],r=0,i=new Jl((function(e,t){return kl(e.J(),t.J())}));return this.Qn.forEach((function(o,a){var s=t.so.get(o);if(a.zn){var u=Ed(t.no.serializer,a.zn,t.Wn(o));i=i.add(o.path.q());var l=Hd(u);r+=l-s,n.push(t.no.jn(e,o,u))}else if(r-=s,t.Zr){var c=Ed(t.no.serializer,new rf(o,Ol.min()),t.Wn(o));n.push(t.no.jn(e,o,c))}else n.push(t.no.Hn(e,o))})),i.forEach((function(r){n.push(t.no.os.Dr(e,r))})),n.push(this.no.updateMetadata(e,r)),qf.qn(n)},t.prototype.Yn=function(e,t){var n=this;return this.no.Gr(e,t).next((function(e){return null===e?(n.so.set(t,0),null):(n.so.set(t,e.size),e.zn)}))},t.prototype.Xn=function(e,t){var n=this;return this.no.Hr(e,t).next((function(e){var t=e.Jr;return e.Yr.forEach((function(e,t){n.so.set(e,t)})),t}))},t}(zf);function qd(e){return Ep.Ys(e,np.store)}function zd(e){return Ep.Ys(e,tp.store)}function Bd(e){return e.path.H()}function Hd(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cl();t=e.noDocument}return JSON.stringify(t).length}var Gd=function(){function e(){this.io=new Kd}return e.prototype.Dr=function(e,t){return this.io.add(t),qf.resolve()},e.prototype.As=function(e,t){return qf.resolve(this.io.getEntries(t))},e}(),Kd=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.K(),n=e.q(),r=this.index[t]||new Jl(Il.$),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.K(),n=e.q(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Jl(Il.$)).H()},e}(),Wd=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;hl(n<r&&n>=0&&r<=11);var o=new nd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Yd.store)}(e),function(e){e.createObjectStore(Jd.store,{keyPath:Jd.keyPath}),e.createObjectStore(Xd.store,{keyPath:Xd.keyPath,autoIncrement:!0}).createIndex(Xd.userMutationsIndex,Xd.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Zd.store)}(e),sp(e),function(e){e.createObjectStore(tp.store)}(e));var a=qf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ip.store),e.deleteObjectStore(rp.store),e.deleteObjectStore(op.store)}(e),sp(e)),a=a.next((function(){return function(e){var t=e.store(op.store),n=new op(0,0,Ol.min().M(),0);return t.put(op.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Xd.store).ui().next((function(n){e.deleteObjectStore(Xd.store),e.createObjectStore(Xd.store,{keyPath:Xd.keyPath,autoIncrement:!0}).createIndex(Xd.userMutationsIndex,Xd.userMutationsKeyPath,{unique:!0});var r=t.store(Xd.store),i=n.map((function(e){return r.put(e)}));return qf.qn(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(up.store,{keyPath:up.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(np.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(tp.store);t.createIndex(tp.readTimeIndex,tp.readTimeIndexPath,{unique:!1}),t.createIndex(tp.collectionReadTimeIndex,tp.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(lp.store,{keyPath:lp.keyPath})}(e),function(e){e.createObjectStore(cp.store,{keyPath:cp.keyPath})}(e)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(tp.store)._i((function(e,n){t+=Hd(n)})).next((function(){var n=new np(t);return e.store(np.store).put(np.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Jd.store),r=e.store(Xd.store);return n.ui().next((function(n){return qf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Xd.userMutationsIndex,i).next((function(r){return qf.forEach(r,(function(r){hl(r.userId===n.userId);var i=xd(t.serializer,r);return Rd(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(ip.store),n=e.store(tp.store);return e.store(op.store).get(op.key).next((function(e){var r=[];return n._i((function(n,i){var o=new Il(n),a=function(e){return[0,gd(e)]}(o);r.push(t.get(a).next((function(n){return n?qf.resolve():function(n){return t.put(new ip(0,gd(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return qf.qn(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(ap.store,{keyPath:ap.keyPath});var n=t.store(ap.store),r=new Kd,i=function(e){if(r.add(e)){var t=e.K(),i=e.q();return n.put({collectionId:t,parent:gd(i)})}};return t.store(tp.store)._i({li:!0},(function(e,t){var n=new Il(e);return i(n.q())})).next((function(){return t.store(Zd.store)._i({li:!0},(function(e,t){var n=wd(e[1]);return i(n.q())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(rp.store);return n._i((function(e,r){var i=Ad(r),o=Nd(t.serializer,i);return n.put(o)}))},e}(),Qd=function(e,t){this.seconds=e,this.nanoseconds=t},Yd=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Yd.store="owner",Yd.key="owner";var Jd=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Jd.store="mutationQueues",Jd.keyPath="userId";var Xd=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xd.store="mutations",Xd.keyPath="batchId",Xd.userMutationsIndex="userMutationsIndex",Xd.userMutationsKeyPath=["userId","batchId"];var Zd=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,gd(t)]},e.key=function(e,t,n){return[e,gd(t),n]},e}();Zd.store="documentMutations",Zd.PLACEHOLDER=new Zd;var $d=function(e,t){this.path=e,this.readTime=t},ep=function(e,t){this.path=e,this.version=t},tp=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};tp.store="remoteDocuments",tp.readTimeIndex="readTimeIndex",tp.readTimeIndexPath="readTime",tp.collectionReadTimeIndex="collectionReadTimeIndex",tp.collectionReadTimeIndexPath=["parentPath","readTime"];var np=function(e){this.byteSize=e};np.store="remoteDocumentGlobal",np.key="remoteDocumentGlobalKey";var rp=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};rp.store="targets",rp.keyPath="targetId",rp.queryTargetsIndexName="queryTargetsIndex",rp.queryTargetsKeyPath=["canonicalId","targetId"];var ip=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ip.store="targetDocuments",ip.keyPath=["targetId","path"],ip.documentTargetsIndex="documentTargetsIndex",ip.documentTargetsKeyPath=["path","targetId"];var op=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};op.key="targetGlobalKey",op.store="targetGlobal";var ap=function(e,t){this.collectionId=e,this.parent=t};function sp(e){e.createObjectStore(ip.store,{keyPath:ip.keyPath}).createIndex(ip.documentTargetsIndex,ip.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(rp.store,{keyPath:rp.keyPath}).createIndex(rp.queryTargetsIndexName,rp.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(op.store)}ap.store="collectionParents",ap.keyPath=["collectionId","parent"];var up=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};up.store="clientMetadata",up.keyPath="clientId";var lp=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};lp.store="bundles",lp.keyPath="bundleId";var cp=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};cp.store="namedQueries",cp.keyPath="name";var hp=Object(Ji.g)(Object(Ji.g)(Object(Ji.g)(Object(Ji.g)([Jd.store,Xd.store,Zd.store,tp.store,rp.store,Yd.store,op.store,ip.store],[up.store]),[np.store]),[ap.store]),[lp.store,cp.store]),fp=function(){function e(e){this.serializer=e}return e.prototype.ro=function(e,t){return dp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Id(t.createTime),version:t.version};var t}))},e.prototype.oo=function(e,t){return dp(e).put({bundleId:(n=t).id,createTime:Td(Jc(n.createTime)),version:n.version});var n},e.prototype.co=function(e,t){return pp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dd(t.bundledQuery),readTime:Id(t.readTime)};var t}))},e.prototype.uo=function(e,t){return pp(e).put(function(e){return{name:e.name,readTime:Td(Jc(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function dp(e){return Ep.Ys(e,lp.store)}function pp(e){return Ep.Ys(e,cp.store)}var vp=function(){function e(){this.ao=new Kd}return e.prototype.Dr=function(e,t){var n=this;if(!this.ao.has(t)){var r=t.K(),i=t.q();e.es((function(){n.ao.add(t)}));var o={collectionId:r,parent:gd(i)};return yp(e).put(o)}return qf.resolve()},e.prototype.As=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[El(t),""],!1,!0);return yp(e).ui(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(wd(o.parent))}return n}))},e}();function yp(e){return Ep.Ys(e,ap.store)}var mp=function(){function e(e){this.ho=e}return e.prototype.next=function(){return this.ho+=2,this.ho},e.lo=function(){return new e(0)},e._o=function(){return new e(-1)},e}(),gp=function(){function e(e,t){this.Vr=e,this.serializer=t}return e.prototype.fo=function(e){var t=this;return this.wo(e).next((function(n){var r=new mp(n.highestTargetId);return n.highestTargetId=r.next(),t.Eo(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.To=function(e){return this.wo(e).next((function(e){return Ol.N(new Sl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Io=function(e){return this.wo(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.mo=function(e,t,n){var r=this;return this.wo(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.M()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Eo(e,i)}))},e.prototype.Ao=function(e,t){var n=this;return this.Ro(e,t).next((function(){return n.wo(e).next((function(r){return r.targetCount+=1,n.Po(t,r),n.Eo(e,r)}))}))},e.prototype.yo=function(e,t){return this.Ro(e,t)},e.prototype.Vo=function(e,t){var n=this;return this.po(e,t.targetId).next((function(){return bp(e).delete(t.targetId)})).next((function(){return n.wo(e)})).next((function(t){return hl(t.targetCount>0),t.targetCount-=1,n.Eo(e,t)}))},e.prototype.mr=function(e,t,n){var r=this,i=0,o=[];return bp(e)._i((function(a,s){var u=Ad(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.Vo(e,u)))})).next((function(){return qf.qn(o)})).next((function(){return i}))},e.prototype.Ue=function(e,t){return bp(e)._i((function(e,n){var r=Ad(n);t(r)}))},e.prototype.wo=function(e){return _p(e).get(op.key).next((function(e){return hl(null!==e),e}))},e.prototype.Eo=function(e,t){return _p(e).put(op.key,t)},e.prototype.Ro=function(e,t){return bp(e).put(Nd(this.serializer,t))},e.prototype.Po=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.vo=function(e){return this.wo(e).next((function(e){return e.targetCount}))},e.prototype.bo=function(e,t){var n=Vl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bp(e)._i({range:r,index:rp.queryTargetsIndexName},(function(e,n,r){var o=Ad(n);Ll(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.So=function(e,t,n){var r=this,i=[],o=wp(e);return t.forEach((function(t){var a=gd(t.path);i.push(o.put(new ip(n,a))),i.push(r.Vr.Do(e,n,t))})),qf.qn(i)},e.prototype.Co=function(e,t,n){var r=this,i=wp(e);return qf.forEach(t,(function(t){var o=gd(t.path);return qf.qn([i.delete([n,o]),r.Vr.No(e,n,t)])}))},e.prototype.po=function(e,t){var n=wp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.xo=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wp(e),i=oc();return r._i({range:n,li:!0},(function(e,t,n){var r=wd(e[1]),o=new Nl(r);i=i.add(o)})).next((function(){return i}))},e.prototype.Qr=function(e,t){var n=gd(t.path),r=IDBKeyRange.bound([n],[El(n)],!1,!0),i=0;return wp(e)._i({index:ip.documentTargetsIndex,li:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Ze=function(e,t){return bp(e).get(t).next((function(e){return e?Ad(e):null}))},e}();function bp(e){return Ep.Ys(e,rp.store)}function _p(e){return Ep.Ys(e,op.store)}function wp(e){return Ep.Ys(e,ip.store)}var kp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Lr=t,r.Fo=n,r}return Object(Ji.c)(t,e),t}(Wf),Ep=function(){function e(t,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=a,this.document=s,this.Oo=l,this.Mo=c,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(e){return Promise.resolve()},!e.Gs())throw new pl(dl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new Tp(this,i),this.Ko=n+"main",this.serializer=new kd(u),this.Wo=new Zf(this.Ko,11,new Wd(this.serializer)),this.jo=new gp(this.Vr,this.serializer),this.os=new vp,this.ss=function(e,t){return new Fd(e,t)}(this.serializer,this.os),this.Go=new fp(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===c&&sl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Ys=function(e,t){if(e instanceof Cp)return Zf.Ys(e.Lr,t);throw cl()},e.prototype.start=function(){var e=this;return this.Ho().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pl(dl.FAILED_PRECONDITION,kp);return e.Jo(),e.Yo(),e.Xo(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.jo.Io(t)}))})).then((function(t){e.ko=new Jf(t,e.Oo)})).then((function(){e.$o=!0})).catch((function(t){return e.Wo&&e.Wo.close(),Promise.reject(t)}))},e.prototype.Zo=function(e){var t=this;return this.Qo=function(n){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){return this.lr?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.tc=function(e){var t=this;this.Wo.ti((function(n){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.ec=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Cs.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){switch(e.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ho=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Op(t).put(new up(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nc(t).next((function(t){t||(e.isPrimary=!1,e.Cs.Mi((function(){return e.Qo(!1)})))}))})).next((function(){return e.sc(t)})).next((function(n){return e.isPrimary&&!n?e.ic(t).next((function(){return!1})):!!n&&e.rc(t).next((function(){return!0}))}))})).catch((function(t){if(td(t))return al("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return al("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Cs.Mi((function(){return e.Qo(t)})),e.isPrimary=t}))},e.prototype.nc=function(e){var t=this;return Sp(e).get(Yd.key).next((function(e){return qf.resolve(t.oc(e))}))},e.prototype.cc=function(e){return Op(e).delete(this.clientId)},e.prototype.uc=function(){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n,r,i=this;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Ys(t,up.store);return n.ui().next((function(e){var t=i.hc(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return qf.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.zo)for(n=0,r=t;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.Xo=function(){var e=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return e.Ho().then((function(){return e.uc()})).then((function(){return e.Xo()}))}))},e.prototype.oc=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sc=function(e){var t=this;return this.Mo?qf.resolve(!0):Sp(e).get(Yd.key).next((function(n){if(null!==n&&t.ac(n.leaseTimestampMs,5e3)&&!t._c(n.ownerId)){if(t.oc(n)&&t.networkEnabled)return!0;if(!t.oc(n)){if(!n.allowTabSynchronization)throw new pl(dl.FAILED_PRECONDITION,kp);return!1}}return!(!t.networkEnabled||!t.inForeground)||Op(e).ui().next((function(e){return void 0===t.hc(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&al("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.fc=function(){return Object(Ji.b)(this,void 0,void 0,(function(){var e=this;return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[Yd.store,up.store],(function(t){var n=new Cp(t,Jf.Ds);return e.ic(n).next((function(){return e.cc(n)}))}))];case 1:return t.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},e.prototype.hc=function(e,t){var n=this;return e.filter((function(e){return n.ac(e.updateTimeMs,t)&&!n._c(e.clientId)}))},e.prototype.Ic=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Op(t).ui().next((function(t){return e.hc(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),e.prototype.mc=function(e){return jd.vr(e,this.serializer,this.os,this.Vr)},e.prototype.Ac=function(){return this.jo},e.prototype.Rc=function(){return this.ss},e.prototype.Pc=function(){return this.os},e.prototype.gc=function(){return this.Go},e.prototype.runTransaction=function(e,t,n){var r,i=this;return al("IndexedDbPersistence","Starting transaction:",e),this.Wo.runTransaction(e,"readonly"===t?"readonly":"readwrite",hp,(function(o){return r=new Cp(o,i.ko?i.ko.next():Jf.Ds),"readwrite-primary"===t?i.nc(r).next((function(e){return!!e||i.sc(r)})).next((function(t){if(!t)throw sl("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.Qo(!1)})),new pl(dl.FAILED_PRECONDITION,Kf);return n(r)})).next((function(e){return i.rc(r).next((function(){return e}))})):i.yc(r).next((function(){return n(r)}))})).then((function(e){return r.ns(),e}))},e.prototype.yc=function(e){var t=this;return Sp(e).get(Yd.key).next((function(e){if(null!==e&&t.ac(e.leaseTimestampMs,5e3)&&!t._c(e.ownerId)&&!t.oc(e)&&!(t.Mo||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pl(dl.FAILED_PRECONDITION,kp)}))},e.prototype.rc=function(e){var t=new Yd(this.clientId,this.allowTabSynchronization,Date.now());return Sp(e).put(Yd.key,t)},e.Gs=function(){return Zf.Gs()},e.prototype.ic=function(e){var t=this,n=Sp(e);return n.get(Yd.key).next((function(e){return t.oc(e)?(al("IndexedDbPersistence","Releasing primary lease."),n.delete(Yd.key)):qf.resolve()}))},e.prototype.ac=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(sl("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Jo=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){e.Cs.Ri((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},e.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},e.prototype.Yo=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Lo=function(){t.dc(),t.Cs.Ri((function(){return t.fc()}))},this.window.addEventListener("unload",this.Lo))},e.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},e.prototype._c=function(e){var t;try{var n=null!==(null===(t=this.zo)||void 0===t?void 0:t.getItem(this.lc(e)));return al("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return sl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(e){sl("Failed to set zombie client id.",e)}},e.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(e){}},e.prototype.lc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Sp(e){return Ep.Ys(e,Yd.store)}function Op(e){return Ep.Ys(e,up.store)}var Tp=function(){function e(e,t){this.db=e,this.cr=new md(this,t)}return e.prototype.Er=function(e){var t=this.Vc(e);return this.db.Ac().vo(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.Vc=function(e){var t=0;return this.Ir(e,(function(e){t++})).next((function(){return t}))},e.prototype.Ue=function(e,t){return this.db.Ac().Ue(e,t)},e.prototype.Ir=function(e,t){return this.vc(e,(function(e,n){return t(n)}))},e.prototype.Do=function(e,t,n){return Ip(e,n)},e.prototype.No=function(e,t,n){return Ip(e,n)},e.prototype.mr=function(e,t,n){return this.db.Ac().mr(e,t,n)},e.prototype.qr=function(e,t){return Ip(e,t)},e.prototype.bc=function(e,t){return function(e,t){var n=!1;return Ld(e).fi((function(r){return Pd(e,r,t).next((function(e){return e&&(n=!0),qf.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.Ar=function(e,t){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(e,(function(a,s){if(s<=t){var u=n.bc(e,a).next((function(t){if(!t)return o++,r.Jn(e,a).next((function(){return r.Hn(a),wp(e).delete([0,gd(a.path)])}))}));i.push(u)}})).next((function(){return qf.qn(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.dt(e.Fo);return this.db.Ac().yo(e,n)},e.prototype.Sc=function(e,t){return Ip(e,t)},e.prototype.vc=function(e,t){var n,r=wp(e),i=Jf.Ds;return r._i({index:ip.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==Jf.Ds&&t(new Nl(wd(n)),i),i=a,n=o):i=Jf.Ds})).next((function(){i!==Jf.Ds&&t(new Nl(wd(n)),i)}))},e.prototype.Pr=function(e){return this.db.Rc().eo(e)},e}();function Ip(e,t){return wp(e).put(function(e,t){return new ip(0,gd(e.path),t)}(t,e.Fo))}function xp(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ap=function(){function e(e,t,n,r){this.persistence=e,this.Dc=t,this.serializer=r,this.Cc=new Wl(kl),this.Nc=new Uf((function(e){return Vl(e)}),Ll),this.xc=Ol.min(),this.rs=e.mc(n),this.Fc=e.Rc(),this.jo=e.Ac(),this.Oc=new Qf(this.Fc,this.rs,this.persistence.Pc()),this.Go=e.gc(),this.Dc.Mc(this.Oc)}return e.prototype._r=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.Rr(n,t.Cc)}))},e}();function Np(e,t,n,r){return new Ap(e,t,n,r)}function Dp(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ji.d)(this,(function(a){switch(a.label){case 0:return n=fl(e),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.rs.Mr(e).next((function(a){return o=a,r=n.persistence.mc(t),i=new Qf(n.Fc,r,n.persistence.Pc()),r.Mr(e)})).next((function(t){for(var n=[],r=[],a=oc(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)a=a.add(h[c].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i._s(e,a).next((function(e){return{kc:e,$c:n,Lc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}}))}))}function jp(e,t){var n=fl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=qf.resolve();return o.forEach((function(e){a=a.next((function(){return r.Jn(t,e)})).next((function(t){var o=t,a=n.Sn.get(e);hl(null!==a),(!o||o.version.F(a)<0)&&(o=i.yn(e,o,n))&&r.jn(o,n.bn)}))})),a.next((function(){return e.rs.$r(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.rs.Ur(e)})).next((function(){return n.Oc._s(e,r)}))}))}function Pp(e){var t=fl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.jo.To(e)}))}function Rp(e,t){var n=fl(e),r=t.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var a=[];t.re.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.jo.Co(e,t.de,o).next((function(){return n.jo.So(e,t._e,o)})));var u=t.resumeToken;if(u.ht()>0){var l=s.wt(u,r).dt(e.Fo);i=i.Tt(o,l),function(e,t,n){return hl(t.resumeToken.ht()>0),0===e.resumeToken.ht()||t.ft.O()-e.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(s,l,t)&&a.push(n.jo.yo(e,l))}}}));var s=$l();if(t.ce.forEach((function(r,i){t.ue.has(r)&&a.push(n.persistence.Vr.Sc(e,r))})),a.push(function(e,t,n,r,i){var o=oc();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var i=$l();return n.forEach((function(n,o){var a=e.get(n),s=r;o instanceof rf&&o.version.isEqual(Ol.min())?(t.Hn(n,s),i=i.Tt(n,o)):null==a||o.version.F(a.version)>0||0===o.version.F(a.version)&&a.hasPendingWrites?(t.jn(o,s),i=i.Tt(n,o)):al("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),i}))}(e,o,t.ce,r).next((function(e){s=e}))),!r.isEqual(Ol.min())){var u=n.jo.To(e).next((function(t){return n.jo.mo(e,e.Fo,r)}));a.push(u)}return qf.qn(a).next((function(){return o.apply(e)})).next((function(){return n.Oc.fs(e,s)}))})).then((function(e){return n.Cc=i,e}))}function Mp(e,t){var n=fl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.rs.Fr(e,t)}))}function Vp(e,t){var n=fl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.jo.bo(e,t).next((function(i){return i?qf.resolve(r=i):n.jo.fo(e).next((function(i){return r=new Bl(t,i,0,e.Fo),n.jo.Ao(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Cc.get(e.targetId);return(null===r||e.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(e.targetId,e),n.Nc.set(t,e.targetId)),e}))}function Lp(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:r=fl(e),i=r.Cc.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.Vr.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!td(a=s.sent()))throw a;return al("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Cc=r.Cc.remove(t),r.Nc.delete(i.target),[2]}}))}))}function Fp(e,t,n){var r=fl(e),i=Ol.min(),o=oc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fl(e),i=r.Nc.get(n);return void 0!==i?qf.resolve(r.Cc.get(i)):r.jo.bo(t,n)}(r,e,vf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.jo.xo(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Dc.ws(e,t,n?i:Ol.min(),n?o:oc())})).next((function(e){return{documents:e,Bc:o}}))}))}function Up(e,t){var n=fl(e),r=fl(n.jo),i=n.Cc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Ze(e,t).next((function(e){return e?e.target:null}))}))}function qp(e){var t=fl(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=fl(e),i=$l(),o=Sd(n),a=zd(t),s=IDBKeyRange.lowerBound(o,!0);return a._i({index:tp.readTimeIndex,range:s},(function(e,t){var n=Cd(r.serializer,t);i=i.Tt(n.key,n),o=t.readTime})).next((function(){return{qc:i,readTime:Od(o)}}))}(t.Fc,e,t.xc)})).then((function(e){var n=e.qc;return t.xc=e.readTime,n}))}function zp(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(n){return[2,(t=fl(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=zd(e),n=Ol.min();return t._i({index:tp.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Od(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.xc=e}))]}))}))}function Bp(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){if(e.code!==dl.FAILED_PRECONDITION||e.message!==Kf)throw e;return al("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Hp=function(){function e(e,t,n,r,i,o){this.Cs=e,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Xf(e,t)}return e.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.zc=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.Hc()},e.prototype.stop=function(){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){switch(e.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.Jc=function(){this.state=0,this.Si.reset()},e.prototype.Yc=function(){var e=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return e.Xc()})))},e.prototype.Zc=function(e){this.tu(),this.stream.send(e)},e.prototype.Xc=function(){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){return this.zc()?[2,this.close(0)]:[2]}))}))},e.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},e.prototype.close=function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==e?this.Si.reset():t&&t.code===dl.RESOURCE_EXHAUSTED?(sl(t.toString()),sl("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):t&&t.code===dl.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.nu(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.eu=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(t){e.Wc===n&&e.iu(t)}),(function(n){t((function(){var t=new pl(dl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.ru(t)}))}))},e.prototype.iu=function(e){var t=this,n=this.su(this.Wc);this.stream=this.ou(e),this.stream.cu((function(){n((function(){return t.state=2,t.listener.cu()}))})),this.stream.nu((function(e){n((function(){return t.ru(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.Hc=function(){var e=this;this.state=4,this.Si.Bs((function(){return Object(Ji.b)(e,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.ru=function(e){return al("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.su=function(e){var t=this;return function(n){t.Cs.Ri((function(){return t.Wc===e?n():(al("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Gp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(Ji.c)(t,e),t.prototype.ou=function(e){return this.Qc.uu("Listen",e)},t.prototype.onMessage=function(e){this.Si.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.tn?(hl(void 0===t||"string"==typeof t),Ul.fromBase64String(t||"")):(hl(void 0===t||t instanceof Uint8Array),Ul.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?dl.UNKNOWN:Kl(e.code);return new pl(t,e.message||"")}(a);n=new vc(r,i,o,s||null)}else if("documentChange"in t){var u=t.documentChange,l=eh(e,u.document.name),c=Jc(u.document.updateTime),h=new Zh({mapValue:{fields:u.document.fields}}),f=new nf(l,c,h,{});n=new dc(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){var d=t.documentDelete,p=eh(e,d.document),v=d.readTime?Jc(d.readTime):Ol.min(),y=new rf(p,v);n=new dc([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in t){var m=t.documentRemove,g=eh(e,m.document);n=new dc([],m.removedTargetIds||[],g,null)}else{if(!("filter"in t))return cl();var b=t.filter,_=new Hl(b.count||0);n=new pc(b.targetId,_)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ol.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ol.min():t.readTime?Jc(t.readTime):Ol.min()}(e);return this.listener.au(t,n)},t.prototype.hu=function(e){var t={};t.database=rh(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=Fl(r)?{documents:uh(e,r)}:{query:lh(e,r)}).targetId=t.targetId,t.resumeToken.ht()>0?n.resumeToken=Qc(e,t.resumeToken):t.ft.F(Ol.min())>0&&(n.readTime=Wc(e,t.ft.M())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cl()}}(0,t._t);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Zc(t)},t.prototype.lu=function(e){var t={};t.database=rh(this.serializer),t.removeTarget=e,this.Zc(t)},t}(Hp),Kp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a._u=!1,a}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),t.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.eu=function(){this._u&&this.du([])},t.prototype.ou=function(e){return this.Qc.uu("Write",e)},t.prototype.onMessage=function(e){if(hl(!!e.streamToken),this.lastStreamToken=e.streamToken,this._u){this.Si.reset();var t=function(e,t){return e&&e.length>0?(hl(void 0!==t),e.map((function(e){return function(e,t){var n=Jc(e.updateTime?e.updateTime:t);n.isEqual(Ol.min())&&(n=Jc(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new Rh(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jc(e.commitTime);return this.listener.wu(n,t)}return hl(!e.writeResults||0===e.writeResults.length),this._u=!0,this.listener.Eu()},t.prototype.Tu=function(){var e={};e.database=rh(this.serializer),this.Zc(e)},t.prototype.du=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ah(t.serializer,e)}))};this.Zc(n)},t}(Hp),Wp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Ji.c)(t,e),t.prototype.mu=function(){if(this.Iu)throw new pl(dl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Au=function(e,t,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(e,t,n,i)})).catch((function(e){throw e.code===dl.UNAUTHENTICATED&&r.credentials.m(),e}))},t.prototype.Ru=function(e,t,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(e,t,n,i)})).catch((function(e){throw e.code===dl.UNAUTHENTICATED&&r.credentials.m(),e}))},t.prototype.terminate=function(){this.Iu=!1},t}((function(){})),Qp=function(){function e(e,t){this.di=e,this.Pu=t,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return e.prototype.pu=function(){var e=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return e.yu=null,e.bu("Backend didn't respond within 10 seconds."),e.vu("Offline"),Promise.resolve()})))},e.prototype.Su=function(e){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+e.toString()),this.vu("Offline")))},e.prototype.set=function(e){this.Du(),this.gu=0,"Online"===e&&(this.Vu=!1),this.vu(e)},e.prototype.vu=function(e){e!==this.state&&(this.state=e,this.Pu(e))},e.prototype.bu=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(sl(t),this.Vu=!1):al("OnlineStateTracker",t)},e.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},e}(),Yp=function(e,t,n,r,i){var o=this;this.Cu=e,this.Nu=t,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(e){n.Ri((function(){return Object(Ji.b)(o,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){switch(e.label){case 0:return iv(this)?(al("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(n){switch(n.label){case 0:return(t=fl(e)).Mu.add(4),[4,Xp(t)];case 1:return n.sent(),t.Bu.set("Unknown"),t.Mu.delete(4),[4,Jp(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Bu=new Qp(n,r)};function Jp(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:if(!iv(e))return[3,4];t=0,n=e.ku,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Xp(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:t=0,n=e.ku,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Zp(e,t){var n=fl(e);n.Ou.has(t.targetId)||(n.Ou.set(t.targetId,t),rv(n)?nv(n):bv(n).zc()&&ev(n,t))}function $p(e,t){var n=fl(e),r=bv(n);n.Ou.delete(t),r.zc()&&tv(n,t),0===n.Ou.size&&(r.zc()?r.Yc():iv(n)&&n.Bu.set("Unknown"))}function ev(e,t){e.qu.De(t.targetId),bv(e).hu(t)}function tv(e,t){e.qu.De(t),bv(e).lu(t)}function nv(e){e.qu=new mc({Xe:function(t){return e.xu.Xe(t)},Ze:function(t){return e.Ou.get(t)||null}}),bv(e).start(),e.Bu.pu()}function rv(e){return iv(e)&&!bv(e).Gc()&&e.Ou.size>0}function iv(e){return 0===fl(e).Mu.size}function ov(e){e.qu=void 0}function av(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){return e.Ou.forEach((function(t,n){ev(e,t)})),[2]}))}))}function sv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(n){return ov(e),rv(e)?(e.Bu.Su(t),nv(e)):e.Bu.set("Unknown"),[2]}))}))}function uv(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Ji.d)(this,(function(a){switch(a.label){case 0:if(e.Bu.set("Online"),!(t instanceof vc&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ji.d)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.Ou.has(o=i[r])?[4,e.xu.Uu(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.Ou.delete(o),e.qu.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),al("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,lv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof dc?e.qu.$e(t):t instanceof pc?e.qu.je(t):e.qu.qe(t),n.isEqual(Ol.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Pp(e.Cu)];case 8:return i=a.sent(),n.F(i)>=0?[4,function(e,t){var n=e.qu.He(t);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=e.Ou.get(r);i&&e.Ou.set(r,i.wt(n.resumeToken,t))}})),n.oe.forEach((function(t){var n=e.Ou.get(t);if(n){e.Ou.set(t,n.wt(Ul.lt,n.ft)),tv(e,t);var r=new Bl(n.target,t,1,n.sequenceNumber);ev(e,r)}})),e.xu.Qu(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return al("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,lv(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function lv(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r=this;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:if(!td(t))throw t;return e.Mu.add(1),[4,Xp(e)];case 1:return i.sent(),e.Bu.set("Offline"),n||(n=function(){return Pp(e.Cu)}),e.di.Mi((function(){return Object(Ji.b)(r,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return al("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Mu.delete(1),[4,Jp(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function cv(e,t){return t().catch((function(n){return lv(e,n,t)}))}function hv(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n,r,i,o;return Object(Ji.d)(this,(function(a){switch(a.label){case 0:t=fl(e),n=_v(t),r=t.Fu.length>0?t.Fu[t.Fu.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return iv(e)&&e.Fu.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Mp(t.Cu,r)];case 3:return null===(i=a.sent())?(0===t.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(e,t){e.Fu.push(t);var n=_v(e);n.zc()&&n.fu&&n.du(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,lv(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return fv(t)&&dv(t),[2]}}))}))}function fv(e){return iv(e)&&!_v(e).Gc()&&e.Fu.length>0}function dv(e){_v(e).start()}function pv(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){return _v(e).Tu(),[2]}))}))}function vv(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n,r;return Object(Ji.d)(this,(function(i){for(t=_v(e),n=0,r=e.Fu;n<r.length;n++)t.du(r[n].mutations);return[2]}))}))}function yv(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:return r=e.Fu.shift(),i=Ff.from(r,t,n),[4,cv(e,(function(){return e.xu.Ku(i)}))];case 1:return o.sent(),[4,hv(e)];case 2:return o.sent(),[2]}}))}))}function mv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(n){switch(n.label){case 0:return t&&_v(e).fu?[4,function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return Gl(r=t.code)&&r!==dl.ABORTED?(n=e.Fu.shift(),_v(e).Jc(),[4,cv(e,(function(){return e.xu.Wu(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,hv(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return fv(e)&&dv(e),[2]}}))}))}function gv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return n=fl(e),t?(n.Mu.delete(2),[4,Jp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Mu.add(2),[4,Xp(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function bv(e){var t=this;return e.ju||(e.ju=function(e,t,n){var r=fl(e);return r.mu(),new Gp(t,r.Qc,r.credentials,r.serializer,n)}(e.Nu,e.di,{cu:av.bind(null,e),nu:sv.bind(null,e),au:uv.bind(null,e)}),e.ku.push((function(n){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return n?(e.ju.Jc(),rv(e)?nv(e):e.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.ju.stop()];case 2:t.sent(),ov(e),t.label=3;case 3:return[2]}}))}))}))),e.ju}function _v(e){var t=this;return e.Gu||(e.Gu=function(e,t,n){var r=fl(e);return r.mu(),new Kp(t,r.Qc,r.credentials,r.serializer,n)}(e.Nu,e.di,{cu:pv.bind(null,e),nu:mv.bind(null,e),Eu:vv.bind(null,e),wu:yv.bind(null,e)}),e.ku.push((function(n){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return n?(e.Gu.Jc(),[4,hv(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Gu.stop()];case 3:t.sent(),e.Fu.length>0&&(al("RemoteStore","Stopping write stream with "+e.Fu.length+" pending writes"),e.Fu=[]),t.label=4;case 4:return[2]}}))}))}))),e.Gu}var wv=function(){this.zu=void 0,this.listeners=[]},kv=function(){this.queries=new Uf((function(e){return gf(e)}),mf),this.onlineState="Unknown",this.Hu=new Set};function Cv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(Ji.d)(this,(function(l){switch(l.label){case 0:if(n=fl(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new wv),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.Ju(r)];case 2:return a.zu=l.sent(),[3,4];case 3:return s=l.sent(),u=hd(s,"Initialization of query '"+bf(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.Yu(n.onlineState),o.zu&&t.Xu(o.zu)&&Tv(n),[2]}}))}))}function Ev(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Ji.d)(this,(function(s){return n=fl(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function Sv(e,t){for(var n=fl(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,l=s.listeners;u<l.length;u++)l[u].Xu(a)&&(r=!0);s.zu=a}}r&&Tv(n)}function Ov(e,t,n){var r=fl(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Tv(e){e.Hu.forEach((function(e){e.next()}))}var Iv=function(){function e(e,t,n){this.query=e,this.ta=t,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Xu=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new cc(e.query,e.docs,e.te,t,e.ee,e.fromCache,e.ne,!0)}var o=!1;return this.ea?this.sa(e)&&(this.ta.next(e),o=!0):this.ia(e,this.onlineState)&&(this.ra(e),o=!0),this.na=e,o},e.prototype.onError=function(e){this.ta.error(e)},e.prototype.Yu=function(e){this.onlineState=e;var t=!1;return this.na&&!this.ea&&this.ia(this.na,e)&&(this.ra(this.na),t=!0),t},e.prototype.ia=function(e,t){return!e.fromCache||!(this.options.oa&&"Offline"!==t||e.docs.W()&&"Offline"!==t)},e.prototype.sa=function(e){return e.docChanges.length>0||!!(e.ne||this.na&&this.na.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.ra=function(e){e=cc.ie(e.query,e.docs,e.ee,e.fromCache),this.ea=!0,this.ta.next(e)},e}(),xv=function(){function e(){this.ca=new Jl(Av.ua),this.aa=new Jl(Av.ha)}return e.prototype.W=function(){return this.ca.W()},e.prototype.Do=function(e,t){var n=new Av(e,t);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},e.prototype.la=function(e,t){var n=this;e.forEach((function(e){return n.Do(e,t)}))},e.prototype.No=function(e,t){this._a(new Av(e,t))},e.prototype.fa=function(e,t){var n=this;e.forEach((function(e){return n.No(e,t)}))},e.prototype.da=function(e){var t=this,n=new Nl(new Il([])),r=new Av(n,e),i=new Av(n,e+1),o=[];return this.aa.Kt([r,i],(function(e){t._a(e),o.push(e.key)})),o},e.prototype.wa=function(){var e=this;this.ca.forEach((function(t){return e._a(t)}))},e.prototype._a=function(e){this.ca=this.ca.delete(e),this.aa=this.aa.delete(e)},e.prototype.Ea=function(e){var t=new Nl(new Il([])),n=new Av(t,e),r=new Av(t,e+1),i=oc();return this.aa.Kt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.Qr=function(e){var t=new Av(e,0),n=this.ca.jt(t);return null!==n&&e.isEqual(n.key)},e}(),Av=function(){function e(e,t){this.key=e,this.Ta=t}return e.ua=function(e,t){return Nl.$(e.key,t.key)||kl(e.Ta,t.Ta)},e.ha=function(e,t){return kl(e.Ta,t.Ta)||Nl.$(e.key,t.key)},e}();function Nv(e,t){return"firestore_clients_"+e+"_"+t}function Dv(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.u()&&(r+="_"+t.uid),r}function jv(e,t){return"firestore_targets_"+e+"_"+t}var Pv=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Ia=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new pl(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(sl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ma=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Rv=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Ia=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new pl(r.error.code,r.error.message)),i?new e(t,r.state,o):(sl("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ma=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Mv=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Ia=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=sc(),a=0;i&&a<r.activeTargetIds.length;++a)i=Pl(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(sl("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Vv=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Ia=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(sl("SharedClientState","Failed to parse online state: "+t),null)},e}(),Lv=function(){function e(){this.activeTargetIds=sc()}return e.prototype.Aa=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Ra=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ma=function(){var e={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Fv=function(){function e(e,t,n,r,i){this.window=e,this.Cs=t,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new Wl(kl),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Nv(this.persistenceKey,this.Pa),this.Sa=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new Lv),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Fa=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return e.Gs=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(Ji.b)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,c=this;return Object(Ji.d)(this,(function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Pa&&(i=this.getItem(Nv(this.persistenceKey,r)))&&(o=Mv.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(a=this.storage.getItem(this.xa))&&(s=this.Ma(a))&&this.ka(s),u=0,l=this.va;u<l.length;u++)this.Va(l[u]);return this.va=[],this.window.addEventListener("unload",(function(){return c.fc()})),this.lr=!0,[2]}}))}))},e.prototype.Ss=function(e){this.setItem(this.Sa,JSON.stringify(e))},e.prototype.$a=function(){return this.La(this.pa)},e.prototype.Ba=function(e){var t=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.qa=function(e){this.Ua(e,"pending")},e.prototype.Qa=function(e,t,n){this.Ua(e,t,n),this.Ka(e)},e.prototype.Wa=function(e){var t="not-current";if(this.Ba(e)){var n=this.storage.getItem(jv(this.persistenceKey,e));if(n){var r=Rv.Ia(e,n);r&&(t=r.state)}}return this.ja.Aa(e),this.Oa(),t},e.prototype.Ga=function(e){this.ja.Ra(e),this.Oa()},e.prototype.za=function(e){return this.ja.activeTargetIds.has(e)},e.prototype.Ha=function(e){this.removeItem(jv(this.persistenceKey,e))},e.prototype.Ja=function(e,t,n){this.Ya(e,t,n)},e.prototype.Xa=function(e,t,n){var r=this;t.forEach((function(e){r.Ka(e)})),this.currentUser=e,n.forEach((function(e){r.qa(e)}))},e.prototype.Za=function(e){this.th(e)},e.prototype.eh=function(){this.nh()},e.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return al("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){al("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){al("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Va=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(al("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void sl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(Ji.b)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Object(Ji.d)(this,(function(s){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return e=this.sh(n.key),[2,this.ih(e,null)];if(t=this.rh(n.key,n.newValue))return[2,this.ih(t.clientId,t)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(o=this.Ma(n.newValue)))return[2,this.ka(o)]}else if(n.key===this.Sa)(a=function(e){var t=Jf.Ds;if(null!=e)try{var n=JSON.parse(e);hl("number"==typeof n),t=n}catch(e){sl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Jf.Ds&&this.ps(a);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),e.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},e.prototype.Ua=function(e,t,n){var r=new Pv(this.currentUser,e,t,n),i=Dv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ma())},e.prototype.Ka=function(e){var t=Dv(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.th=function(e){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:e}))},e.prototype.Ya=function(e,t,n){var r=jv(this.persistenceKey,e),i=new Rv(e,t,n);this.setItem(r,i.ma())},e.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},e.prototype.sh=function(e){var t=this.Da.exec(e);return t?t[1]:null},e.prototype.rh=function(e,t){var n=this.sh(e);return Mv.Ia(n,t)},e.prototype.oh=function(e,t){var n=this.Ca.exec(e),r=Number(n[1]);return Pv.Ia(new rl(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ah=function(e,t){var n=this.Na.exec(e),r=Number(n[1]);return Rv.Ia(r,t)},e.prototype.Ma=function(e){return Vv.Ia(e)},e.prototype.uh=function(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.ga._h(e.batchId,e.state,e.error)]:(al("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.hh=function(e){return this.ga.fh(e.targetId,e.state,e.error)},e.prototype.ih=function(e,t){var n=this,r=t?this.pa.Tt(e,t):this.pa.remove(e),i=this.La(this.pa),o=this.La(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.ga.dh(a,s).then((function(){n.pa=r}))},e.prototype.ka=function(e){this.pa.get(e.clientId)&&this.Pu(e.onlineState)},e.prototype.La=function(e){var t=sc();return e.forEach((function(e,n){t=t.Gt(n.activeTargetIds)})),t},e}(),Uv=function(){function e(){this.wh=new Lv,this.Eh={},this.Pu=null,this.ps=null}return e.prototype.qa=function(e){},e.prototype.Qa=function(e,t,n){},e.prototype.Wa=function(e){return this.wh.Aa(e),this.Eh[e]||"not-current"},e.prototype.Ja=function(e,t,n){this.Eh[e]=t},e.prototype.Ga=function(e){this.wh.Ra(e)},e.prototype.za=function(e){return this.wh.activeTargetIds.has(e)},e.prototype.Ha=function(e){delete this.Eh[e]},e.prototype.$a=function(){return this.wh.activeTargetIds},e.prototype.Ba=function(e){return this.wh.activeTargetIds.has(e)},e.prototype.start=function(){return this.wh=new Lv,Promise.resolve()},e.prototype.Xa=function(e,t,n){},e.prototype.Za=function(e){},e.prototype.fc=function(){},e.prototype.Ss=function(e){},e.prototype.eh=function(){},e}(),qv=function(e){this.key=e},zv=function(e){this.key=e},Bv=function(){function e(e,t){this.query=e,this.Th=t,this.Ih=null,this.le=!1,this.mh=oc(),this.ee=oc(),this.Ah=wf(e),this.Rh=new uc(this.Ah)}return Object.defineProperty(e.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),e.prototype.gh=function(e,t){var n=this,r=t?t.yh:new lc,i=t?t.Rh:this.Rh,o=t?t.ee:this.ee,a=i,s=!1,u=lf(this.query)&&i.size===this.query.limit?i.last():null,l=cf(this.query)&&i.size===this.query.limit?i.first():null;if(e.Pt((function(e,t){var c=i.get(e),h=t instanceof nf?t:null;h&&(h=_f(n.query,h)?h:null);var f=!!c&&n.ee.has(c.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||l&&n.Ah(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),lf(this.query)||cf(this.query))for(;a.size>this.query.limit;){var c=lf(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Rh:a,yh:r,ph:s,ee:o}},e.prototype.Vh=function(e,t){return e.an&&t.hasCommittedMutations&&!t.an},e.prototype.Zn=function(e,t,n){var r=this,i=this.Rh;this.Rh=e.Rh,this.ee=e.ee;var o=e.yh.Zt();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cl()}};return n(e)-n(t)}(e.type,t.type)||r.Ah(e.doc,t.doc)})),this.bh(n);var a=t?this.Sh():[],s=0===this.mh.size&&this.le?1:0,u=s!==this.Ih;return this.Ih=s,0!==o.length||u?{snapshot:new cc(this.query,e.Rh,i,o,e.ee,0===s,u,!1),Dh:a}:{Dh:a}},e.prototype.Yu=function(e){return this.le&&"Offline"===e?(this.le=!1,this.Zn({Rh:this.Rh,yh:new lc,ee:this.ee,ph:!1},!1)):{Dh:[]}},e.prototype.Ch=function(e){return!this.Th.has(e)&&!!this.Rh.has(e)&&!this.Rh.get(e).an},e.prototype.bh=function(e){var t=this;e&&(e._e.forEach((function(e){return t.Th=t.Th.add(e)})),e.fe.forEach((function(e){})),e.de.forEach((function(e){return t.Th=t.Th.delete(e)})),this.le=e.le)},e.prototype.Sh=function(){var e=this;if(!this.le)return[];var t=this.mh;this.mh=oc(),this.Rh.forEach((function(t){e.Ch(t.key)&&(e.mh=e.mh.add(t.key))}));var n=[];return t.forEach((function(t){e.mh.has(t)||n.push(new zv(t))})),this.mh.forEach((function(e){t.has(e)||n.push(new qv(e))})),n},e.prototype.Nh=function(e){this.Th=e.Bc,this.mh=oc();var t=this.gh(e.documents);return this.Zn(t,!0)},e.prototype.xh=function(){return cc.ie(this.query,this.Rh,this.ee,0===this.Ih)},e}(),Hv=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Gv=function(e){this.key=e,this.Fh=!1},Kv=function(){function e(e,t,n,r,i,o){this.Cu=e,this.Oh=t,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new Uf((function(e){return gf(e)}),mf),this.qh=new Map,this.Uh=[],this.Qh=new Wl(Nl.$),this.Kh=new Map,this.Wh=new xv,this.jh={},this.Gh=new Map,this.zh=mp._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(e.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),e}();function Wv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:return n=ky(e),(i=n.Bh.get(t))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,Vp(n.Cu,vf(t))];case 2:return o=s.sent(),a=n.kh.Wa(o.targetId),[4,Qv(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.Jh&&Zp(n.Oh,o),s.label=4;case 4:return[2,r]}}))}))}function Qv(e,t,n,r){return Object(Ji.b)(this,void 0,void 0,(function(){var i,o,a,s,u,l;return Object(Ji.d)(this,(function(c){switch(c.label){case 0:return e.Yh=function(t,n,r){return function(e,t,n,r){return Object(Ji.b)(this,void 0,void 0,(function(){var i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:return(i=t.view.gh(n)).ph?[4,Fp(e.Cu,t.query,!1).then((function(e){return t.view.gh(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.re.get(t.targetId),a=t.view.Zn(i,e.Jh,o),[2,(sy(e,t.targetId,a.Dh),a.snapshot)]}}))}))}(e,t,n,r)},[4,Fp(e.Cu,t,!0)];case 1:return i=c.sent(),o=new Bv(t,i.Bc),a=o.gh(i.documents),s=fc.he(n,r&&"Offline"!==e.onlineState),u=o.Zn(a,e.Jh,s),sy(e,n,u.Dh),l=new Hv(t,n,o),[2,(e.Bh.set(t,l),e.qh.has(n)?e.qh.get(n).push(t):e.qh.set(n,[t]),u.snapshot)]}}))}))}function Yv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:return n=fl(e),r=n.Bh.get(t),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(e){return!mf(e,t)}))),void n.Bh.delete(t))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,Lp(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),$p(n.Oh,r.targetId),oy(n,r.targetId)})).catch(Bp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return oy(n,r.targetId),[4,Lp(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Jv(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:r=Cy(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=fl(e),i=Sl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),oc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Oc._s(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var l=u[s],c=qh(l,n.get(l.key));null!=c&&a.push(new Gh(l.key,c,ef(c.proto.mapValue),Mh.exists(!0)))}return r.rs.Sr(e,i,a,t)}))})).then((function(e){var t=e.vn(n);return{batchId:e.batchId,Qn:t}}))}(r.Cu,t)];case 2:return i=s.sent(),r.kh.qa(i.batchId),function(e,t,n){var r=e.jh[e.currentUser.h()];r||(r=new Wl(kl)),r=r.Tt(t,n),e.jh[e.currentUser.h()]=r}(r,i.batchId,n),[4,cy(r,i.Qn)];case 3:return s.sent(),[4,hv(r.Oh)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=hd(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Xv(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:n=fl(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Rp(n.Cu,t)];case 2:return r=i.sent(),t.re.forEach((function(e,t){var r=n.Kh.get(t);r&&(hl(e._e.size+e.fe.size+e.de.size<=1),e._e.size>0?r.Fh=!0:e.fe.size>0?hl(r.Fh):e.de.size>0&&(hl(r.Fh),r.Fh=!1))})),[4,cy(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Bp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Zv(e,t,n){var r=fl(e);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(e,n){var r=n.view.Yu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(t)&&(r=!0)})),r&&Tv(n)}(r.Mh,t),i.length&&r.Lh.au(i),r.onlineState=t,r.Jh&&r.kh.Za(t)}}function $v(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(Ji.d)(this,(function(l){switch(l.label){case 0:return(r=fl(e)).kh.Ja(t,"rejected",n),i=r.Kh.get(t),(o=i&&i.key)?(a=(a=new Wl(Nl.$)).Tt(o,new rf(o,Ol.min())),s=oc().add(o),u=new hc(Ol.min(),new Map,new Jl(kl),a,s),[4,Xv(r,u)]):[3,2];case 1:return l.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(t),ly(r),[3,4];case 2:return[4,Lp(r.Cu,t,!1).then((function(){return oy(r,t,n)})).catch(Bp)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function ey(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:n=fl(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jp(n.Cu,t)];case 2:return i=o.sent(),iy(n,r,null),ry(n,r),n.kh.Qa(r,"acknowledged"),[4,cy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ty(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:r=fl(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=fl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.rs.Cr(e,t).next((function(t){return hl(null!==t),r=t.keys(),n.rs.$r(e,t)})).next((function(){return n.rs.Ur(e)})).next((function(){return n.Oc._s(e,r)}))}))}(r.Cu,t)];case 2:return i=o.sent(),iy(r,t,n),ry(r,t),r.kh.Qa(t,"rejected",n),[4,cy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ny(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:iv((n=fl(e)).Oh)||al("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=fl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.rs.Or(e)}))}(n.Cu)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Gh.get(r)||[]).push(t),n.Gh.set(r,i),[3,4]);case 3:return o=s.sent(),a=hd(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function ry(e,t){(e.Gh.get(t)||[]).forEach((function(e){e.resolve()})),e.Gh.delete(t)}function iy(e,t,n){var r=fl(e),i=r.jh[r.currentUser.h()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.jh[r.currentUser.h()]=i}}function oy(e,t,n){void 0===n&&(n=null),e.kh.Ga(t);for(var r=0,i=e.qh.get(t);r<i.length;r++){var o=i[r];e.Bh.delete(o),n&&e.Lh.Xh(o,n)}e.qh.delete(t),e.Jh&&e.Wh.da(t).forEach((function(t){e.Wh.Qr(t)||ay(e,t)}))}function ay(e,t){var n=e.Qh.get(t);null!==n&&($p(e.Oh,n),e.Qh=e.Qh.remove(t),e.Kh.delete(n),ly(e))}function sy(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof qv?(e.Wh.Do(o.key,t),uy(e,o)):o instanceof zv?(al("SyncEngine","Document no longer in limbo: "+o.key),e.Wh.No(o.key,t),e.Wh.Qr(o.key)||ay(e,o.key)):cl()}}function uy(e,t){var n=t.key;e.Qh.get(n)||(al("SyncEngine","New document in limbo: "+n),e.Uh.push(n),ly(e))}function ly(e){for(;e.Uh.length>0&&e.Qh.size<e.$h;){var t=e.Uh.shift(),n=e.zh.next();e.Kh.set(n,new Gv(t)),e.Qh=e.Qh.Tt(t,n),Zp(e.Oh,new Bl(vf(uf(t.path)),n,2,Jf.Ds))}}function cy(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:return r=fl(e),i=[],o=[],a=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(e,s){a.push(r.Yh(s,t,n).then((function(e){if(e){r.Jh&&r.kh.Ja(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Yf.Vs(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Lh.au(i),[4,function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return Object(Ji.d)(this,(function(c){switch(c.label){case 0:n=fl(e),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return qf.forEach(t,(function(t){return qf.forEach(t.gs,(function(r){return n.persistence.Vr.Do(e,t.targetId,r)})).next((function(){return qf.forEach(t.ys,(function(r){return n.persistence.Vr.No(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!td(r=c.sent()))throw r;return al("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Cc.get(s),l=u.Et(u.ft),n.Cc=n.Cc.Tt(s,l));return[2]}}))}))}(r.Cu,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function hy(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return(n=fl(e)).currentUser.isEqual(t)?[3,3]:(al("SyncEngine","User change. New user:",t.h()),[4,Dp(n.Cu,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Gh.forEach((function(e){e.forEach((function(e){e.reject(new pl(dl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Gh.clear()}(n),n.kh.Xa(t,r.$c,r.Lc),[4,cy(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function fy(e,t){var n=fl(e),r=n.Kh.get(t);if(r&&r.Fh)return oc().add(r.key);var i=oc(),o=n.qh.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Bh.get(s[a]);i=i.Gt(u.view.Ph)}return i}function dy(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:return[4,Fp((n=fl(e)).Cu,t.query,!0)];case 1:return r=o.sent(),i=t.view.Nh(r),[2,(n.Jh&&sy(n,t.targetId,i.Dh),i)]}}))}))}function py(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(n){return[2,qp((t=fl(e)).Cu).then((function(e){return cy(t,e)}))]}))}))}function vy(e,t,n,r){return Object(Ji.b)(this,void 0,void 0,(function(){var i,o;return Object(Ji.d)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=fl(e),r=fl(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Nr(e,t).next((function(t){return t?n.Oc._s(e,t):qf.resolve(null)}))}))}((i=fl(e)).Cu,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,hv(i.Oh)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(iy(i,t,r||null),ry(i,t),function(e,t){fl(fl(e).rs).Br(t)}(i.Cu,t)):cl(),a.label=4;case 4:return[4,cy(i,o)];case 5:return a.sent(),[3,7];case 6:al("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function yy(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(Ji.d)(this,(function(l){switch(l.label){case 0:return ky(n=fl(e)),Cy(n),!0!==t||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,my(n,r.H())]);case 1:return i=l.sent(),n.Hh=!0,[4,gv(n.Oh,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)Zp(n.Oh,a[o]);return[3,7];case 3:return!1!==t||!1===n.Hh?[3,7]:(s=[],u=Promise.resolve(),n.qh.forEach((function(e,t){n.kh.za(t)?s.push(t):u=u.then((function(){return oy(n,t),Lp(n.Cu,t,!0)})),$p(n.Oh,t)})),[4,u]);case 4:return l.sent(),[4,my(n,s)];case 5:return l.sent(),function(e){var t=fl(e);t.Kh.forEach((function(e,n){$p(t.Oh,n)})),t.Wh.wa(),t.Kh=new Map,t.Qh=new Wl(Nl.$)}(n),n.Hh=!1,[4,gv(n.Oh,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function my(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,f,d,p;return Object(Ji.d)(this,(function(v){switch(v.label){case 0:n=fl(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=void 0,(l=n.qh.get(s=a[o]))&&0!==l.length?[4,Vp(n.Cu,vf(l[0]))]:[3,7]):[3,13];case 2:u=v.sent(),c=0,h=l,v.label=3;case 3:return c<h.length?(f=n.Bh.get(h[c]),[4,dy(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Up(n.Cu,s)];case 8:return p=v.sent(),[4,Vp(n.Cu,p)];case 9:return u=v.sent(),[4,Qv(n,gy(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function gy(e){return sf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function by(e){var t=fl(e);return fl(fl(t.Cu).persistence).Ic()}function _y(e,t,n,r){return Object(Ji.b)(this,void 0,void 0,(function(){var i,o,a;return Object(Ji.d)(this,(function(s){switch(s.label){case 0:return(i=fl(e)).Hh?(al("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qp(i.Cu)];case 3:return o=s.sent(),a=hc.ae(t,"current"===n),[4,cy(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Lp(i.Cu,t,!0)];case 6:return s.sent(),oy(i,t,r),[3,8];case 7:cl(),s.label=8;case 8:return[2]}}))}))}function wy(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h;return Object(Ji.d)(this,(function(f){switch(f.label){case 0:if(!(r=ky(e)).Hh)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?r.qh.has(a=o[i])?(al("SyncEngine","Adding an already active target "+a),[3,5]):[4,Up(r.Cu,a)]:[3,6];case 2:return s=f.sent(),[4,Vp(r.Cu,s)];case 3:return u=f.sent(),[4,Qv(r,gy(s),u.targetId,!1)];case 4:f.sent(),Zp(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:l=function(e){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return r.qh.has(e)?[4,Lp(r.Cu,e,!1).then((function(){$p(r.Oh,e),oy(r,e)})).catch(Bp)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,h=n,f.label=7;case 7:return c<h.length?[5,l(h[c])]:[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function ky(e){var t=fl(e);return t.Oh.xu.Qu=Xv.bind(null,t),t.Oh.xu.Xe=fy.bind(null,t),t.Oh.xu.Uu=$v.bind(null,t),t.Lh.au=Sv.bind(null,t.Mh),t.Lh.Xh=Ov.bind(null,t.Mh),t}function Cy(e){var t=fl(e);return t.Oh.xu.Ku=ey.bind(null,t),t.Oh.xu.Wu=ty.bind(null,t),t}var Ey=function(){function e(){}return e.prototype.Mc=function(e){this.Zh=e},e.prototype.ws=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.Tn.length||1===e.Tn.length&&e.Tn[0].field.tt())}(t)||n.isEqual(Ol.min())?this.tl(e,t):this.Zh._s(e,r).next((function(o){var a=i.el(t,o);return(lf(t)||cf(t))&&i.ph(t.limitType,a,r,n)?i.tl(e,t):(ol()<=Zi.a.DEBUG&&al("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bf(t)),i.Zh.ws(e,t,n).next((function(e){return a.forEach((function(t){e=e.Tt(t.key,t)})),e})))}))},e.prototype.el=function(e,t){var n=new Jl(wf(e));return t.forEach((function(t,r){r instanceof nf&&_f(e,r)&&(n=n.add(r))})),n},e.prototype.ph=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},e.prototype.tl=function(e,t){return ol()<=Zi.a.DEBUG&&al("IndexFreeQueryEngine","Using full collection scan to execute query:",bf(t)),this.Zh.ws(e,t,Ol.min())},e}(),Sy=function(){function e(e,t){this.os=e,this.Vr=t,this.rs=[],this.nl=1,this.sl=new Jl(Av.ua)}return e.prototype.br=function(e){return qf.resolve(0===this.rs.length)},e.prototype.Sr=function(e,t,n,r){var i=this.nl;this.nl++;var o=new Lf(i,t,n,r);this.rs.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.sl=this.sl.add(new Av(u.key,i)),this.os.Dr(e,u.key.path.q())}return qf.resolve(o)},e.prototype.Cr=function(e,t){return qf.resolve(this.il(t))},e.prototype.Fr=function(e,t){var n=this.rl(t+1),r=n<0?0:n;return qf.resolve(this.rs.length>r?this.rs[r]:null)},e.prototype.Or=function(){return qf.resolve(0===this.rs.length?-1:this.nl-1)},e.prototype.Mr=function(e){return qf.resolve(this.rs.slice())},e.prototype.us=function(e,t){var n=this,r=new Av(t,0),i=new Av(t,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(e){var t=n.il(e.Ta);o.push(t)})),qf.resolve(o)},e.prototype.ds=function(e,t){var n=this,r=new Jl(kl);return t.forEach((function(e){var t=new Av(e,0),i=new Av(e,Number.POSITIVE_INFINITY);n.sl.Kt([t,i],(function(e){r=r.add(e.Ta)}))})),qf.resolve(this.ol(r))},e.prototype.Rs=function(e,t){var n=t.path,r=n.length+1,i=n;Nl.ot(i)||(i=i.child(""));var o=new Av(new Nl(i),0),a=new Jl(kl);return this.sl.Wt((function(e){var t=e.key.path;return!!n.j(t)&&(t.length===r&&(a=a.add(e.Ta)),!0)}),o),qf.resolve(this.ol(a))},e.prototype.ol=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.il(e);null!==r&&n.push(r)})),n},e.prototype.$r=function(e,t){var n=this;hl(0===this.cl(t.batchId,"removed")),this.rs.shift();var r=this.sl;return qf.forEach(t.mutations,(function(i){var o=new Av(i.key,t.batchId);return r=r.delete(o),n.Vr.qr(e,i.key)})).next((function(){n.sl=r}))},e.prototype.Br=function(e){},e.prototype.Qr=function(e,t){var n=new Av(t,0),r=this.sl.jt(n);return qf.resolve(t.isEqual(r&&r.key))},e.prototype.Ur=function(e){return qf.resolve()},e.prototype.cl=function(e,t){return this.rl(e)},e.prototype.rl=function(e){return 0===this.rs.length?0:e-this.rs[0].batchId},e.prototype.il=function(e){var t=this.rl(e);return t<0||t>=this.rs.length?null:this.rs[t]},e}(),Oy=function(){function e(e,t){this.os=e,this.ul=t,this.docs=new Wl(Nl.$),this.size=0}return e.prototype.jn=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ul(t);return this.docs=this.docs.Tt(r,{zn:t,size:a,readTime:n}),this.size+=a-o,this.os.Dr(e,r.path.q())},e.prototype.Hn=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Jn=function(e,t){var n=this.docs.get(t);return qf.resolve(n?n.zn:null)},e.prototype.getEntries=function(e,t){var n=this,r=ec();return t.forEach((function(e){var t=n.docs.get(e);r=r.Tt(e,t?t.zn:null)})),qf.resolve(r)},e.prototype.ws=function(e,t,n){for(var r=nc(),i=new Nl(t.path.child("")),o=this.docs.Vt(i);o.Nt();){var a=o.Ct(),s=a.value,u=s.zn,l=s.readTime;if(!t.path.j(a.key.path))break;l.F(n)<=0||u instanceof nf&&_f(t,u)&&(r=r.Tt(u.key,u))}return qf.resolve(r)},e.prototype.al=function(e,t){return qf.forEach(this.docs,(function(e){return t(e)}))},e.prototype.Xr=function(e){return new Ty(this)},e.prototype.eo=function(e){return qf.resolve(this.size)},e}(),Ty=function(e){function t(t){var n=this;return(n=e.call(this)||this).no=t,n}return Object(Ji.c)(t,e),t.prototype.Zn=function(e){var t=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(t.no.jn(e,i.zn,t.Wn(r))):t.no.Hn(r)})),qf.qn(n)},t.prototype.Yn=function(e,t){return this.no.Jn(e,t)},t.prototype.Xn=function(e,t){return this.no.getEntries(e,t)},t}(zf),Iy=function(){function e(e){this.persistence=e,this.hl=new Uf((function(e){return Vl(e)}),Ll),this.lastRemoteSnapshotVersion=Ol.min(),this.highestTargetId=0,this.ll=0,this._l=new xv,this.targetCount=0,this.fl=mp.lo()}return e.prototype.Ue=function(e,t){return this.hl.forEach((function(e,n){return t(n)})),qf.resolve()},e.prototype.To=function(e){return qf.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Io=function(e){return qf.resolve(this.ll)},e.prototype.fo=function(e){return this.highestTargetId=this.fl.next(),qf.resolve(this.highestTargetId)},e.prototype.mo=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ll&&(this.ll=t),qf.resolve()},e.prototype.Ro=function(e){this.hl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.fl=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.ll&&(this.ll=e.sequenceNumber)},e.prototype.Ao=function(e,t){return this.Ro(t),this.targetCount+=1,qf.resolve()},e.prototype.yo=function(e,t){return this.Ro(t),qf.resolve()},e.prototype.Vo=function(e,t){return this.hl.delete(t.target),this._l.da(t.targetId),this.targetCount-=1,qf.resolve()},e.prototype.mr=function(e,t,n){var r=this,i=0,o=[];return this.hl.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.po(e,s.targetId)),i++)})),qf.qn(o).next((function(){return i}))},e.prototype.vo=function(e){return qf.resolve(this.targetCount)},e.prototype.bo=function(e,t){var n=this.hl.get(t)||null;return qf.resolve(n)},e.prototype.So=function(e,t,n){return this._l.la(t,n),qf.resolve()},e.prototype.Co=function(e,t,n){this._l.fa(t,n);var r=this.persistence.Vr,i=[];return r&&t.forEach((function(t){i.push(r.qr(e,t))})),qf.qn(i)},e.prototype.po=function(e,t){return this._l.da(t),qf.resolve()},e.prototype.xo=function(e,t){var n=this._l.Ea(t);return qf.resolve(n)},e.prototype.Qr=function(e,t){return qf.resolve(this._l.Qr(t))},e}(),xy=function(){function e(e){this.serializer=e,this.dl=new Map,this.wl=new Map}return e.prototype.ro=function(e,t){return qf.resolve(this.dl.get(t))},e.prototype.oo=function(e,t){var n;return this.dl.set(t.id,{id:(n=t).id,version:n.version,createTime:Jc(n.createTime)}),qf.resolve()},e.prototype.co=function(e,t){return qf.resolve(this.wl.get(t))},e.prototype.uo=function(e,t){var n;return this.wl.set(t.name,{name:(n=t).name,query:Dd(n.bundledQuery),readTime:Jc(n.readTime)}),qf.resolve()},e}(),Ay=function(){function e(e,t){var n=this;this.El={},this.ko=new Jf(0),this.$o=!1,this.$o=!0,this.Vr=e(this),this.jo=new Iy(this),this.os=new Gd,this.ss=function(e,t){return new Oy(e,(function(e){return n.Vr.Tl(e)}))}(this.os),this.serializer=new kd(t),this.Go=new xy(this.serializer)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(e.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),e.prototype.tc=function(){},e.prototype.ec=function(){},e.prototype.Pc=function(){return this.os},e.prototype.mc=function(e){var t=this.El[e.h()];return t||(t=new Sy(this.os,this.Vr),this.El[e.h()]=t),t},e.prototype.Ac=function(){return this.jo},e.prototype.Rc=function(){return this.ss},e.prototype.gc=function(){return this.Go},e.prototype.runTransaction=function(e,t,n){var r=this;al("MemoryPersistence","Starting transaction:",e);var i=new Ny(this.ko.next());return this.Vr.Il(),n(i).next((function(e){return r.Vr.ml(i).next((function(){return e}))})).Ln().then((function(e){return i.ns(),e}))},e.prototype.Al=function(e,t){return qf.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(e,t)}})))},e}(),Ny=function(e){function t(t){var n=this;return(n=e.call(this)||this).Fo=t,n}return Object(Ji.c)(t,e),t}(Wf),Dy=function(){function e(e){this.persistence=e,this.Rl=new xv,this.Pl=null}return e.gl=function(t){return new e(t)},Object.defineProperty(e.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw cl()},enumerable:!1,configurable:!0}),e.prototype.Do=function(e,t,n){return this.Rl.Do(n,t),this.yl.delete(n.toString()),qf.resolve()},e.prototype.No=function(e,t,n){return this.Rl.No(n,t),this.yl.add(n.toString()),qf.resolve()},e.prototype.qr=function(e,t){return this.yl.add(t.toString()),qf.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Rl.da(t.targetId).forEach((function(e){return n.yl.add(e.toString())}));var r=this.persistence.Ac();return r.xo(e,t.targetId).next((function(e){e.forEach((function(e){return n.yl.add(e.toString())}))})).next((function(){return r.Vo(e,t)}))},e.prototype.Il=function(){this.Pl=new Set},e.prototype.ml=function(e){var t=this,n=this.persistence.Rc().Xr();return qf.forEach(this.yl,(function(r){var i=Nl.st(r);return t.Vl(e,i).next((function(e){e||n.Hn(i)}))})).next((function(){return t.Pl=null,n.apply(e)}))},e.prototype.Sc=function(e,t){var n=this;return this.Vl(e,t).next((function(e){e?n.yl.delete(t.toString()):n.yl.add(t.toString())}))},e.prototype.Tl=function(e){return 0},e.prototype.Vl=function(e,t){var n=this;return qf.Un([function(){return qf.resolve(n.Rl.Qr(t))},function(){return n.persistence.Ac().Qr(e,t)},function(){return n.persistence.Al(e,t)}])},e}(),jy=function(){function e(e){this.pl=e.pl,this.vl=e.vl}return e.prototype.cu=function(e){this.bl=e},e.prototype.nu=function(e){this.Sl=e},e.prototype.onMessage=function(e){this.Dl=e},e.prototype.close=function(){this.vl()},e.prototype.send=function(e){this.pl(e)},e.prototype.Cl=function(){this.bl()},e.prototype.Nl=function(e){this.Sl(e)},e.prototype.xl=function(e){this.Dl(e)},e}(),Py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ry=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.i=t.i,n}return Object(Ji.c)(t,e),t.prototype.Ll=function(e,t,n,r){return new Promise((function(i,o){var a=new $u;a.listenOnce(Ju.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Yu.NO_ERROR:var t=a.getResponseJson();al("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Yu.TIMEOUT:al("Connection",'RPC "'+e+'" timed out'),o(new pl(dl.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:var n=a.getStatus();if(al("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(dl).indexOf(t)>=0?t:dl.UNKNOWN}(r.status);o(new pl(s,r.message))}else o(new pl(dl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new pl(dl.UNAVAILABLE,"Connection failed."));break;default:cl()}}finally{al("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.uu=function(e,t){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Hu,i=Wa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,t),Object($i.l)()||Object($i.n)()||Object($i.j)()||Object($i.k)()||Object($i.o)()||Object($i.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");al("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,c=new jy({pl:function(e){l?al("Connection","Not sending because WebChannel is closed:",e):(u||(al("Connection","Opening WebChannel transport."),s.open(),u=!0),al("Connection","WebChannel sending:",e),s.send(e))},vl:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Zu.EventType.OPEN,(function(){l||al("Connection","WebChannel transport opened.")})),h(s,Zu.EventType.CLOSE,(function(){l||(l=!0,al("Connection","WebChannel transport closed"),c.Nl())})),h(s,Zu.EventType.ERROR,(function(e){l||(l=!0,ul("Connection","WebChannel transport errored:",e),c.Nl(new pl(dl.UNAVAILABLE,"The operation could not be completed")))})),h(s,Zu.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];hl(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){al("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=ql[e];if(void 0!==t)return Kl(t)}(i),a=r.message;void 0===o&&(o=dl.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,c.Nl(new pl(o,a)),s.close()}else al("Connection","WebChannel received:",n),c.xl(n)}})),h(i,Xu.STAT_EVENT,(function(e){10===e.stat?al("Connection","Detected buffering proxy"):11===e.stat&&al("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Cl()}),0),c},t}(function(){function e(e){this.Fl=e,this.t=e.t,this.Ol=(e.ssl?"https":"http")+"://"+e.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.Au=function(e,t,n,r){var i=this.kl(e,t);al("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(e,i,o,n).then((function(e){return al("RestConnection","Received: ",e),e}),(function(t){throw ul("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ru=function(e,t,n,r){return this.Au(e,t,n,r)},e.prototype.$l=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",e["Content-Type"]="text/plain",t)for(var n in t.T)t.T.hasOwnProperty(n)&&(e[n]=t.T[n])},e.prototype.kl=function(e,t){return this.Ol+"/v1/"+t+":"+Py[e]},e}()),My=function(){function e(){var e=this;this.Bl=function(){return e.ql()},this.Ul=function(){return e.Ql()},this.Kl=[],this.Wl()}return e.prototype.Lu=function(e){this.Kl.push(e)},e.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},e.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},e.prototype.ql=function(){al("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Kl;e<t.length;e++)(0,t[e])(0)},e.prototype.Ql=function(){al("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Kl;e<t.length;e++)(0,t[e])(1)},e.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Vy=function(){function e(){}return e.prototype.Lu=function(e){},e.prototype.fc=function(){},e}(),Ly=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return this.serializer=Hf(e.Fl.t),this.kh=this.jl(e),this.persistence=this.Gl(e),[4,this.persistence.start()];case 1:return t.sent(),this.zl=this.Hl(e),this.Cu=this.Jl(e),[2]}}))}))},e.prototype.Hl=function(e){return null},e.prototype.Jl=function(e){return Np(this.persistence,new Ey,e.Yl,this.serializer)},e.prototype.Gl=function(e){return new Ay(Dy.gl,this.serializer)},e.prototype.jl=function(e){return new Uv},e.prototype.terminate=function(){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){switch(e.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return e.sent(),[4,this.persistence.fc()];case 2:return e.sent(),[2]}}))}))},e}(),Fy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Xl=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ji.c)(t,e),t.prototype.initialize=function(t){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,zp(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,t)];case 3:return n.sent(),[4,Cy(this.Xl.ga)];case 4:return n.sent(),[4,hv(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},t.prototype.Jl=function(e){return Np(this.persistence,new Ey,e.Yl,this.serializer)},t.prototype.Hl=function(e){return new yd(this.persistence.Vr.cr,e.di)},t.prototype.Gl=function(e){var t=xp(e.Fl.t,e.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?vd.er(this.cacheSizeBytes):vd.ir;return new Ep(this.synchronizeTabs,t,e.clientId,n,e.di,sd(),ud(),this.serializer,this.kh,!!this.forceOwnership)},t.prototype.jl=function(e){return new Uv},t}(Ly),Uy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Xl=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ji.c)(t,e),t.prototype.initialize=function(t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof Fv?(this.kh.ga={_h:vy.bind(null,n),fh:_y.bind(null,n),dh:wy.bind(null,n),Ic:by.bind(null,n),lh:py.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(e){return Object(Ji.b)(r,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,yy(this.Xl.ga,e)];case 1:return t.sent(),this.zl&&(e&&!this.zl.lr?this.zl.start(this.Cu):e||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jl=function(e){var t=sd();if(!Fv.Gs(t))throw new pl(dl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xp(e.Fl.t,e.Fl.persistenceKey);return new Fv(t,e.di,n,e.clientId,e.Yl)},t}(Fy),qy=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n=this;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=e.Cu,this.kh=e.kh,this.Nu=this.Zl(t),this.Oh=this.t_(t),this.Mh=this.e_(t),this.ga=this.n_(t,!e.synchronizeTabs),this.kh.Pu=function(e){return Zv(n.ga,e,1)},this.Oh.xu.s_=hy.bind(null,this.ga),[4,gv(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.e_=function(e){return new kv},e.prototype.Zl=function(e){var t=Hf(e.Fl.t),n=new Ry(e.Fl);return function(e,t,n){return new Wp(e,t,n)}(e.credentials,n,t)},e.prototype.t_=function(e){var t,n,r,i,o,a=this;return t=this.Cu,n=this.Nu,r=e.di,i=function(e){return Zv(a.ga,e,0)},o=My.Gs()?new My:new Vy,new Yp(t,n,r,i,o)},e.prototype.n_=function(e,t){return function(e,t,n,r,i,o,a){var s=new Kv(e,t,n,r,i,o);return a&&(s.Hh=!0),s}(this.Cu,this.Oh,this.Mh,this.kh,e.Yl,e.$h,t)},e.prototype.terminate=function(){return function(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(n){switch(n.label){case 0:return t=fl(e),al("RemoteStore","RemoteStore shutting down."),t.Mu.add(5),[4,Xp(t)];case 1:return n.sent(),t.$u.fc(),t.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},e}(),zy=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.i_(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.i_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.r_=function(){this.muted=!0},e.prototype.i_=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),By=function(e){this.o_=e};function Hy(e,t,n){if(!n)throw new pl(dl.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Gy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pl(dl.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ky(e,t,n,r){if(!0===t&&!0===r)throw new pl(dl.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Wy(e){if(!Nl.ot(e))throw new pl(dl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Qy(e){if(Nl.ot(e))throw new pl(dl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Yy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":cl()}function Jy(e,t){if(e instanceof By&&(e=e.o_),!(e instanceof t)){if(t.name===e.constructor.name)throw new pl(dl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Yy(e);throw new pl(dl.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Xy(e,t){if(t<=0)throw new pl(dl.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Zy=function(e){this.c_=e},$y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.u_=function(e){if(2!==e.a_)throw e.h_(1===e.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return e.en.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Zy);function em(e,t,n){return new rg({a_:3,l_:t.settings.l_,methodName:e.c_,__:n},t.t,t.serializer,t.ignoreUndefinedProperties)}var tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.u_=function(e){return new Ph(e.path,new Sh)},t.prototype.isEqual=function(e){return e instanceof t},t}(Zy),nm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).f_=n,r}return Object(Ji.c)(t,e),t.prototype.u_=function(e){var t=em(this,e,!0),n=this.f_.map((function(e){return lg(e,t)})),r=new Oh(n);return new Ph(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Zy),rm=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).f_=n,r}return Object(Ji.c)(t,e),t.prototype.u_=function(e){var t=em(this,e,!0),n=this.f_.map((function(e){return lg(e,t)})),r=new Ih(n);return new Ph(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Zy),im=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).d_=n,r}return Object(Ji.c)(t,e),t.prototype.u_=function(e){var t=new Ah(e.serializer,Kc(e.serializer,this.d_));return new Ph(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Zy),om=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new pl(dl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pl(dl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.w_=e,this.E_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.w_===e.w_&&this.E_===e.E_},e.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},e.prototype.C=function(e){return kl(this.w_,e.w_)||kl(this.E_,e.E_)},e}(),am=function(){function e(e){this.T_=e}return e.fromBase64String=function(t){try{return new e(Ul.fromBase64String(t))}catch(t){throw new pl(dl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Ul.fromUint8Array(t))},e.prototype.toBase64=function(){return this.T_.toBase64()},e.prototype.toUint8Array=function(){return this.T_.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.T_.isEqual(e.T_)},e}(),sm=new Map,um=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pl(dl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pl(dl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Ky("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),lm=function(){function e(e,t){this.I_="(lite)",this.m_=new um({}),this.A_=!1,e instanceof nl?(this.R_=e,this.P_=new yl):(this.g_=e,this.R_=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pl(dl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(e.options.projectId)}(e),this.P_=new ml(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.g_)throw new pl(dl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),e.prototype.v_=function(e){if(this.A_)throw new pl(dl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new um(e),void 0!==e.credentials&&(this.P_=function(e){if(!e)return new yl;switch(e.type){case"gapi":var t=e.client;return hl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bl(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new pl(dl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype.b_=function(){return this.m_},e.prototype.S_=function(){return this.A_=!0,this.m_},e.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},e.prototype.D_=function(){return function(e){var t=sm.get(e);t&&(al("ComponentProvider","Removing Datastore"),sm.delete(e),t.terminate())}(this),Promise.resolve()},e}();function cm(){if("undefined"==typeof Uint8Array)throw new pl(dl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hm(){if("undefined"==typeof atob)throw new pl(dl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.fromBase64String=function(e){return hm(),new t(am.fromBase64String(e))},t.fromUint8Array=function(e){return cm(),new t(am.fromUint8Array(e))},t.prototype.toBase64=function(){return hm(),this.o_.toBase64()},t.prototype.toUint8Array=function(){return cm(),this.o_.toUint8Array()},t.prototype.isEqual=function(e){return this.o_.isEqual(e.o_)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(By),dm=function(){function e(){}return e.prototype.C_=function(e,t){switch(void 0===t&&(t="none"),Oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jc(e.integerValue||e.doubleValue);case 3:return this.N_(e.timestampValue);case 4:return this.x_(e,t);case 5:return e.stringValue;case 6:return this.F_(Pc(e.bytesValue));case 7:return this.O_(e.referenceValue);case 8:return this.M_(e.geoPointValue);case 9:return this.k_(e.arrayValue,t);case 10:return this.L_(e.mapValue,t);default:throw cl()}},e.prototype.L_=function(e,t){var n=this,r={};return wc(e.fields||{},(function(e,i){r[e]=n.C_(i,t)})),r},e.prototype.M_=function(e){return new om(jc(e.latitude),jc(e.longitude))},e.prototype.k_=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.C_(e,t)}))},e.prototype.x_=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Cc(n)?e(n):n}(e);return null==n?null:this.C_(n,t);case"estimate":return this.N_(Ec(e));default:return null}},e.prototype.N_=function(e){var t=Dc(e);return new Sl(t.seconds,t.nanos)},e.prototype.B_=function(e,t){var n=Il.Y(e);hl(_h(n));var r=new nl(n.get(1),n.get(3)),i=new Nl(n.B(5));return r.isEqual(t)||sl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}(),pm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(Ji.c)(t,e),t.prototype.F_=function(e){return new fm(new am(e))},t.prototype.O_=function(e){var t=this.B_(e,this.firestore.R_);return qg.q_(t,this.firestore,null)},t}(dm),vm=function(){function e(e,t,n,r,i){this.U_=e,this.Q_=t,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dm(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this.W_},e.prototype.data=function(){if(this.W_){if(this.j_){var e=new ym(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(e)}return this.Q_.C_(this.W_.En())}},e.prototype.get=function(e){if(this.W_){var t=this.W_.data().field(mm("DocumentSnapshot.get",e));if(null!==t)return this.Q_.C_(t)}},e}(),ym=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(vm);function mm(e,t){return"string"==typeof t?vg(e,t):t instanceof By?t.o_.G_:t.G_}var gm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new pl(dl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Al(e)}return e.prototype.isEqual=function(e){return this.G_.isEqual(e.G_)},e}(),bm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).z_=new cd,r.I_="name"in t?t.name:"[DEFAULT]",r}return Object(Ji.c)(t,e),t.prototype.D_=function(){return this.H_||Lg(this),this.H_.terminate()},t}(lm);function _m(e,t,n){var r=this,i=new Bf;return e.di.enqueue((function(){return Object(Ji.b)(r,void 0,void 0,(function(){var r;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,wg(e,n)];case 1:return o.sent(),[4,kg(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===dl.FAILED_PRECONDITION||e.code===dl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function wm(e){if(e.y_||e.V_)throw new pl(dl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var km=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this).U_=t,s.J_=t,s.metadata=o,s}return Object(Ji.c)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this.W_){if(this.j_){var t=new Cm(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(t,e)}return this.Q_.C_(this.W_.En(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this.W_){var n=this.W_.data().field(mm("DocumentSnapshot.get",e));if(null!==n)return this.Q_.C_(n,t.serverTimestamps)}},t}(vm),Cm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(km),Em=function(){function e(e,t,n,r){this.U_=e,this.Q_=t,this.Y_=r,this.metadata=new Gg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this.Y_.docs.forEach((function(r){e.call(t,new Cm(n.U_,n.Q_,r.key,r,new Gg(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this.Y_.se)throw new pl(dl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===t||(this.X_=function(e,t){if(e.Y_.te.W()){var n=0;return e.Y_.docChanges.map((function(t){return{type:"added",doc:new Cm(e.U_,e.Q_,t.doc.key,t.doc,new Gg(e.Y_.ee.has(t.doc.key),e.Y_.fromCache),e.query.j_),oldIndex:-1,newIndex:n++}}))}var r=e.Y_.te;return e.Y_.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Cm(e.U_,e.Q_,t.doc.key,t.doc,new Gg(e.Y_.ee.has(t.doc.key),e.Y_.fromCache),e.query.j_),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Sm(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this.Z_=t),this.X_},e}();function Sm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cl()}}function Om(e,t){return e instanceof km&&t instanceof km?e.U_===t.U_&&e.K_.isEqual(t.K_)&&(null===e.W_?null===t.W_:e.W_.isEqual(t.W_))&&e.j_===t.j_:e instanceof Em&&t instanceof Em&&e.U_===t.U_&&Xm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e.Y_.isEqual(t.Y_)}var Tm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(Ji.c)(t,e),t.prototype.F_=function(e){return new am(e)},t.prototype.O_=function(e){var t=this.B_(e,this.firestore.R_);return new Dm(this.firestore,null,t)},t}(dm);function Im(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Jy(e.firestore,bm),a=Zm(o);return t instanceof By&&(t=t.o_),Am(o,("string"==typeof t||t instanceof gm?sg(a,"updateDoc",e.K_,t,n,r):ag(a,"updateDoc",e.K_,t)).ef(e.K_,Mh.exists(!0)))}function xm(e){for(var t,n,r,i=this,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Gf(o[u])||(s=o[u],u++);var l,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Gf(o[u])){var d=o[u];o[u]=null===(t=d.next)||void 0===t?void 0:t.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof Dm)c=Jy(e.firestore,bm),h=uf(e.K_.path),l={next:function(t){o[u]&&o[u](Nm(c,e,t))},error:o[u+1],complete:o[u+2]};else{c=Jy(e.firestore,bm),h=e.tf;var p=new Tm(c);l={next:function(t){o[u]&&o[u](new Em(c,p,e,t))},error:o[u+1],complete:o[u+2]},Gm(e.tf)}var v=Vg(c),y=new zy(l),m=new Iv(h,y,f);return c.z_.Ri((function(){return Object(Ji.b)(i,void 0,void 0,(function(){var e;return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return e=Cv,[4,xg(v)];case 1:return[2,e.apply(void 0,[t.sent(),m])]}}))}))})),function(){y.r_(),c.z_.Ri((function(){return Object(Ji.b)(i,void 0,void 0,(function(){var e;return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return e=Ev,[4,xg(v)];case 1:return[2,e.apply(void 0,[t.sent(),m])]}}))}))}))}}function Am(e,t){return function(e,t){var n=this,r=new Bf;return e.di.Ri((function(){return Object(Ji.b)(n,void 0,void 0,(function(){var n;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return n=Jv,[4,Ig(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Vg(e),t)}function Nm(e,t,n){var r=n.docs.get(t.K_),i=new Tm(e);return new km(e,i,t.K_,r,new Gg(n.hasPendingWrites,n.fromCache),t.j_)}var Dm=function(){function e(e,t,n){this.j_=t,this.K_=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Km(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.K_)},e}(),jm=function(){function e(e,t,n){this.j_=t,this.tf=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.tf)},e}(),Pm=function(){};function Rm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o.sf(e)}return e}var Mm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).rf=t,i.cf=n,i.uf=r,i.type="where",i}return Object(Ji.c)(t,e),t.prototype.sf=function(e){var t=Zm(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new pl(dl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Bm(a,o);for(var u=[],l=0,c=a;l<c.length;l++)u.push(zm(r,e,c[l]));s={arrayValue:{values:u}}}else s=zm(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Bm(a,o),s=ug(n,"where",a,"in"===o||"not-in"===o);var h=kf.create(i,o,s);return function(e,t){if(t.An()){var n=ff(e);if(null!==n&&!n.isEqual(t.field))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=hf(e);null!==r&&Hm(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new pl(dl.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e.tf,0,t,e.firestore.R_,this.rf,this.cf,this.uf);return new jm(e.firestore,e.j_,function(e,t){var n=e.filters.concat([t]);return new af(e.path,e.collectionGroup,e.Tn.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e.tf,n))},t}(Pm),Vm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).rf=t,r.af=n,r.type="orderBy",r}return Object(Ji.c)(t,e),t.prototype.sf=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Rf(t,n);return function(e,t){if(null===hf(e)){var n=ff(e);null!==n&&Hm(0,n,t.field)}}(e,r),r}(e.tf,this.rf,this.af);return new jm(e.firestore,e.j_,function(e,t){var n=e.Tn.concat([t]);return new af(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e.tf,t))},t}(Pm),Lm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.hf=n,i.lf=r,i}return Object(Ji.c)(t,e),t.prototype.sf=function(e){return new jm(e.firestore,e.j_,yf(e.tf,this.hf,this.lf))},t}(Pm),Fm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i._f=n,i.ff=r,i}return Object(Ji.c)(t,e),t.prototype.sf=function(e){var t=qm(e,this.type,this._f,this.ff);return new jm(e.firestore,e.j_,function(e,t){return new af(e.path,e.collectionGroup,e.Tn.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e.tf,t))},t}(Pm),Um=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i._f=n,i.ff=r,i}return Object(Ji.c)(t,e),t.prototype.sf=function(e){var t=qm(e,this.type,this._f,this.ff);return new jm(e.firestore,e.j_,function(e,t){return new af(e.path,e.collectionGroup,e.Tn.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e.tf,t))},t}(Pm);function qm(e,t,n,r){if(n[0]instanceof By&&(n[0]=n[0].o_),n[0]instanceof vm)return function(e,t,n,r,i){if(!r)throw new pl(dl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=pf(e);a<s.length;a++){var u=s[a];if(u.field.tt())o.push(Rc(t,r.key));else{var l=r.field(u.field);if(Cc(l))throw new pl(dl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.J();throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Nf(o,i)}(e.tf,e.firestore.R_,t,n[0].W_,r);var i=Zm(e.firestore);return function(e,t,n,r,i,o){var a=e.Tn;if(i.length>a.length)throw new pl(dl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.tt()){if("string"!=typeof l)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!df(e)&&-1!==l.indexOf("/"))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=e.path.child(Il.Y(l));if(!Nl.ot(c))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Nl(c);s.push(Rc(t,h))}else{var f=ug(n,r,l);s.push(f)}}return new Nf(s,o)}(e.tf,e.firestore.R_,i,t,n,r)}function zm(e,t,n){if(n instanceof By&&(n=n.o_),"string"==typeof n){if(""===n)throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!df(t)&&-1!==n.indexOf("/"))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Il.Y(n));if(!Nl.ot(r))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Rc(e,new Nl(r))}if(n instanceof Dm)return Rc(e,n.K_);throw new pl(dl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yy(n)+".")}function Bm(e,t){if(!Array.isArray(e)||0===e.length)throw new pl(dl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new pl(dl.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Hm(e,t,n){if(!n.isEqual(t))throw new pl(dl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Gm(e){if(cf(e)&&0===e.Tn.length)throw new pl(dl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Km=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,uf(r))||this).firestore=t,i.nf=r,i.type="collection",i}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.nf.q();return e.W()?null:new Dm(this.firestore,null,new Nl(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.nf)},t}(jm);function Wm(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Hy("collection","path",t),e instanceof lm){var i=Il.Y.apply(Il,Object(Ji.g)([t],n));return Qy(i),new Km(e,null,i)}if(!(e instanceof Dm||e instanceof Km))throw new pl(dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=Il.Y.apply(Il,Object(Ji.g)([e.path],n)).child(Il.Y(t));return Qy(o),new Km(e.firestore,null,o)}function Qm(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(t=wl.D()),Hy("doc","path",t),e instanceof lm){var i=Il.Y.apply(Il,Object(Ji.g)([t],n));return Wy(i),new Dm(e,null,new Nl(i))}if(!(e instanceof Dm||e instanceof Km))throw new pl(dl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e.nf.child(Il.Y.apply(Il,Object(Ji.g)([t],n)));return Wy(o),new Dm(e.firestore,e instanceof Km?e.j_:null,new Nl(o))}var Ym=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(Ji.c)(t,e),t.prototype.F_=function(e){return new am(e)},t.prototype.O_=function(e){var t=this.B_(e,this.firestore.R_);return new Dm(this.firestore,null,t)},t}(dm);function Jm(e,t){return(e instanceof Dm||e instanceof Km)&&(t instanceof Dm||t instanceof Km)&&e.firestore===t.firestore&&e.path===t.path&&e.j_===t.j_}function Xm(e,t){return e instanceof jm&&t instanceof jm&&e.firestore===t.firestore&&mf(e.tf,t.tf)&&e.j_===t.j_}function Zm(e){var t=e.S_(),n=Hf(e.R_);return new ig(e.R_,!!t.ignoreUndefinedProperties,n)}var $m=/^__.*__$/,eg=function(){function e(e,t,n){this.data=e,this.en=t,this.fieldTransforms=n}return e.prototype.ef=function(e,t){var n=[];return n.push(null!==this.en?new Gh(e,this.data,this.en,t):new Hh(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Wh(e,this.fieldTransforms)),n},e}(),tg=function(){function e(e,t,n){this.data=e,this.en=t,this.fieldTransforms=n}return e.prototype.ef=function(e,t){var n=[new Gh(e,this.data,this.en,t)];return this.fieldTransforms.length>0&&n.push(new Wh(e,this.fieldTransforms)),n},e}();function ng(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cl()}}var rg=function(){function e(e,t,n,r,i,o){this.settings=e,this.t=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),e.prototype.wf=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},e.prototype.Ef=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wf({path:n,__:!1});return r.Tf(e),r},e.prototype.If=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wf({path:n,__:!1});return r.df(),r},e.prototype.mf=function(e){return this.wf({path:void 0,__:!0})},e.prototype.h_=function(e){return yg(e,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},e.prototype.contains=function(e){return void 0!==this.en.find((function(t){return e.j(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.j(t.field)}))},e.prototype.df=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Tf(this.path.get(e))},e.prototype.Tf=function(e){if(0===e.length)throw this.h_("Document fields must not be empty");if(ng(this.a_)&&$m.test(e))throw this.h_('Document fields cannot begin and end with "__"')},e}(),ig=function(){function e(e,t,n){this.t=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hf(e)}return e.prototype.Rf=function(e,t,n,r){return void 0===r&&(r=!1),new rg({a_:e,methodName:t,l_:n,path:Al.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},e}();function og(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Rf(o.merge||o.mergeFields?2:0,t,n,i);fg("Data must be an object, but it was:",a,r);var s,u,l=cg(r,a);if(o.merge)s=new jh(a.en),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=dg(t,f[h],n);if(!a.contains(d))throw new pl(dl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");mg(c,d)||c.push(d)}s=new jh(c),u=a.fieldTransforms.filter((function(e){return s.un(e.field)}))}else s=null,u=a.fieldTransforms;return new eg(new Zh(l),s,u)}function ag(e,t,n,r){var i=e.Rf(1,t,n);fg("Data must be an object, but it was:",i,r);var o=[],a=new $h;wc(r,(function(e,r){var s=vg(t,e,n);r instanceof By&&(r=r.o_);var u=i.If(s);if(r instanceof $y)o.push(s);else{var l=lg(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new jh(o);return new tg(a.hn(),s,i.fieldTransforms)}function sg(e,t,n,r,i,o){var a=e.Rf(1,t,n),s=[dg(t,r,n)],u=[i];if(o.length%2!=0)throw new pl(dl.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(dg(t,o[l])),u.push(o[l+1]);for(var c=[],h=new $h,f=s.length-1;f>=0;--f)if(!mg(c,s[f])){var d=s[f],p=u[f];p instanceof By&&(p=p.o_);var v=a.If(d);if(p instanceof $y)c.push(d);else{var y=lg(p,v);null!=y&&(c.push(d),h.set(d,y))}}var m=new jh(c);return new tg(h.hn(),m,a.fieldTransforms)}function ug(e,t,n,r){return void 0===r&&(r=!1),lg(n,e.Rf(r?4:3,t))}function lg(e,t){if(e instanceof By&&(e=e.o_),hg(e))return fg("Unsupported field value:",t,e),cg(e,t);if(e instanceof Zy)return function(e,t){if(!ng(t.a_))throw t.h_(e.c_+"() can only be used with update() and set()");if(!t.path)throw t.h_(e.c_+"() is not currently supported inside arrays");var n=e.u_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.en.push(t.path),e instanceof Array){if(t.settings.__&&4!==t.a_)throw t.h_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=lg(o[i],t.mf(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof By&&(e=e.o_),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Sl.fromDate(e);return{timestampValue:Wc(t.serializer,n)}}if(e instanceof Sl){var r=new Sl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Wc(t.serializer,r)}}if(e instanceof om)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof am)return{bytesValue:Qc(t.serializer,e.T_)};if(e instanceof Dm){var i=t.t,o=e.firestore.R_;if(!o.isEqual(i))throw t.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Xc(e.firestore.R_||t.t,e.K_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.h_("Unsupported field value: "+Yy(e))}(e,t)}function cg(e,t){var n={};return kc(e)?t.path&&t.path.length>0&&t.en.push(t.path):wc(e,(function(e,r){var i=lg(r,t.Ef(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sl||e instanceof om||e instanceof am||e instanceof Dm||e instanceof Zy)}function fg(e,t,n){if(!hg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Yy(n);throw t.h_("an object"===r?e+" a custom object":e+" "+r)}}function dg(e,t,n){if(t instanceof By&&(t=t.o_),t instanceof gm)return t.G_;if("string"==typeof t)return vg(e,t);throw yg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var pg=new RegExp("[~\\*/\\[\\]]");function vg(e,t,n){if(t.search(pg)>=0)throw yg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(gm.bind.apply(gm,Object(Ji.g)([void 0],t.split("."))))).G_}catch(r){throw yg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function yg(e,t,n,r,i){var o=r&&!r.W(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new pl(dl.INVALID_ARGUMENT,(s+=". ")+e+u)}function mg(e,t){return e.some((function(e){return e.isEqual(t)}))}var gg=function(){function e(e){this.Nu=e,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return e.prototype.pf=function(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n=this;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new pl(dl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(Ji.d)(this,(function(u){switch(u.label){case 0:return n=fl(e),r=rh(n.serializer)+"/documents",i={documents:t.map((function(e){return $c(n.serializer,e)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){hl(!!t.found);var n=eh(e,t.found.name),r=Jc(t.found.updateTime),i=new Zh({mapValue:{fields:t.found.fields}});return new nf(n,r,i,{})}(e,t):"missing"in t?function(e,t){hl(!!t.missing),hl(!!t.readTime);var n=eh(e,t.missing),r=Jc(t.readTime);return new rf(n,r)}(e,t):cl()}(n.serializer,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());hl(!!t),s.push(t)})),s)]}}))}))}(this.Nu,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof rf||e instanceof nf?n.bf(e):cl()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.ef(e,this.rn(e))),this.Vf.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.ef(e,this.Sf(e)))}catch(e){this.yf=e}this.Vf.add(e.toString())},e.prototype.delete=function(e){this.write([new Jh(e,this.rn(e))]),this.Vf.add(e.toString())},e.prototype.commit=function(){return Object(Ji.b)(this,void 0,void 0,(function(){var e,t=this;return Object(Ji.d)(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return e=this.Pf,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Nl.st(n);t.mutations.push(new Xh(r,t.rn(r)))})),[4,function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ji.d)(this,(function(o){switch(o.label){case 0:return n=fl(e),r=rh(n.serializer)+"/documents",i={writes:t.map((function(e){return ah(n.serializer,e)}))},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},e.prototype.bf=function(e){var t;if(e instanceof nf)t=e.version;else{if(!(e instanceof rf))throw cl();t=Ol.min()}var n=this.Pf.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pl(dl.ABORTED,"Document version changed between two reads.")}else this.Pf.set(e.key.toString(),t)},e.prototype.rn=function(e){var t=this.Pf.get(e.toString());return!this.Vf.has(e.toString())&&t?Mh.updateTime(t):Mh.on()},e.prototype.Sf=function(e){var t=this.Pf.get(e.toString());if(!this.Vf.has(e.toString())&&t){if(t.isEqual(Ol.min()))throw new pl(dl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mh.updateTime(t)}return Mh.exists(!0)},e.prototype.write=function(e){this.vf(),this.mutations=this.mutations.concat(e)},e.prototype.vf=function(){},e}(),bg=function(){function e(e,t,n,r){this.di=e,this.Nu=t,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Xf(this.di,"transaction_retry")}return e.prototype.run=function(){this.Cf()},e.prototype.Cf=function(){var e=this;this.Si.Bs((function(){return Object(Ji.b)(e,void 0,void 0,(function(){var e,t,n=this;return Object(Ji.d)(this,(function(r){return e=new gg(this.Nu),(t=this.Nf(e))&&t.then((function(t){n.di.Ri((function(){return e.commit().then((function(){n.Ti.resolve(t)})).catch((function(e){n.xf(e)}))}))})).catch((function(e){n.xf(e)})),[2]}))}))}))},e.prototype.Nf=function(e){try{var t=this.updateFunction(e);return!Dl(t)&&t.catch&&t.then?t:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.Ti.reject(e),null}},e.prototype.xf=function(e){var t=this;this.Df>0&&this.Ff(e)?(this.Df-=1,this.di.Ri((function(){return t.Cf(),Promise.resolve()}))):this.Ti.reject(e)},e.prototype.Ff=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Gl(t)}return!1},e}(),_g=function(){function e(e,t,n){var r=this;this.credentials=e,this.di=t,this.Fl=n,this.user=rl.UNAUTHENTICATED,this.clientId=wl.D(),this.Of=function(){},this.g=new Bf,this.credentials.A((function(e){al("FirestoreClient","Received user=",e.uid),r.user.isEqual(e)||(r.user=e,r.Of(e)),r.g.resolve()}))}return e.prototype.getConfiguration=function(){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){switch(e.label){case 0:return[4,this.g.promise];case 1:return[2,(e.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},e.prototype.Mf=function(e){var t=this;this.Of=e,this.g.promise.then((function(){return t.Of(t.user)}))},e.prototype.kf=function(){if(this.di.Ci)throw new pl(dl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.di.Oi();var t=new Bf;return this.di.Ni((function(){return Object(Ji.b)(e,void 0,void 0,(function(){var e,n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),t.resolve(),[3,6];case 5:return e=r.sent(),n=hd(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function wg(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return e.di.Li(),al("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=i.sent(),[4,t.initialize(n)];case 2:return i.sent(),e.Mf((function(n){return e.di.Mi((function(){return Object(Ji.b)(r,void 0,void 0,(function(){return Object(Ji.d)(this,(function(e){switch(e.label){case 0:return[4,Dp(t.Cu,n)];case 1:return e.sent(),[2]}}))}))}))})),t.persistence.tc((function(){return e.terminate()})),e.Lf=t,[2]}}))}))}function kg(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return e.di.Li(),[4,Cg(e)];case 1:return n=i.sent(),al("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.Mf((function(n){return e.di.Mi((function(){return function(e,t){return Object(Ji.b)(this,void 0,void 0,(function(){var n,r;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return(n=fl(e)).di.Li(),al("RemoteStore","RemoteStore received new credentials"),r=iv(n),n.Mu.add(3),[4,Xp(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(t)];case 2:return i.sent(),n.Mu.delete(3),[4,Jp(n)];case 3:return i.sent(),[2]}}))}))}(t.Oh,n)}))})),e.$f=t,[2]}}))}))}function Cg(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return e.Lf?[3,2]:(al("FirestoreClient","Using default OfflineComponentProvider"),[4,wg(e,new Ly)]);case 1:t.sent(),t.label=2;case 2:return[2,e.Lf]}}))}))}function Eg(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return e.$f?[3,2]:(al("FirestoreClient","Using default OnlineComponentProvider"),[4,kg(e,new qy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.$f]}}))}))}function Sg(e){return Cg(e).then((function(e){return e.persistence}))}function Og(e){return Cg(e).then((function(e){return e.Cu}))}function Tg(e){return Eg(e).then((function(e){return e.Oh}))}function Ig(e){return Eg(e).then((function(e){return e.ga}))}function xg(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t,n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return[4,Eg(e)];case 1:return t=r.sent(),[2,((n=t.Mh).Ju=Wv.bind(null,t.ga),n.Zu=Yv.bind(null,t.ga),n)]}}))}))}function Ag(e,t,n,r,i){var o=new zy({next:function(o){t.Ri((function(){return Ev(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new pl(dl.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new pl(dl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Iv(uf(n.path),o,{includeMetadataChanges:!0,oa:!0});return Cv(e,a)}function Ng(e,t,n,r,i){var o=new zy({next:function(n){t.Ri((function(){return Ev(e,a)})),n.fromCache&&"server"===r.source?i.reject(new pl(dl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Iv(n,o,{includeMetadataChanges:!0,oa:!0});return Cv(e,a)}var Dg=function(){function e(e,t){this.U_=e,this.Bf=t,this.qf=[],this.Uf=!1,this.Qf=Zm(e)}return e.prototype.set=function(e,t,n){this.Kf();var r=jg(e,this.U_),i=$g(r.j_,t,n),o=og(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,Mh.on())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,a=jg(e,this.U_);return t instanceof By&&(t=t.o_),o="string"==typeof t||t instanceof gm?sg(this.Qf,"WriteBatch.update",a.K_,t,n,r):ag(this.Qf,"WriteBatch.update",a.K_,t),this.qf=this.qf.concat(o.ef(a.K_,Mh.exists(!0))),this},e.prototype.delete=function(e){this.Kf();var t=jg(e,this.U_);return this.qf=this.qf.concat(new Jh(t.K_,Mh.on())),this},e.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},e.prototype.Kf=function(){if(this.Uf)throw new pl(dl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function jg(e,t){if(e instanceof By&&(e=e.o_),e.firestore!==t)throw new pl(dl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Pg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).U_=t,r}return Object(Ji.c)(t,e),t.prototype.get=function(t){var n=this,r=jg(t,this.U_),i=new Tm(this.U_);return e.prototype.get.call(this,t).then((function(e){return new km(n.U_,i,r.K_,e.W_,new Gg(!1,!1),r.j_)}))},t}(function(){function e(e,t){this.U_=e,this.Wf=t,this.Qf=Zm(e)}return e.prototype.get=function(e){var t=this,n=jg(e,this.U_),r=new Ym(this.U_);return this.Wf.pf([n.K_]).then((function(e){if(!e||1!==e.length)return cl();var i=e[0];if(i instanceof rf)return new vm(t.U_,r,n.K_,null,n.j_);if(i instanceof nf)return new vm(t.U_,r,i.key,i,n.j_);throw cl()}))},e.prototype.set=function(e,t,n){var r=jg(e,this.U_),i=$g(r.j_,t,n),o=og(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=jg(e,this.U_);return t instanceof By&&(t=t.o_),o="string"==typeof t||t instanceof gm?sg(this.Qf,"Transaction.update",a.K_,t,n,r):ag(this.Qf,"Transaction.update",a.K_,t),this.Wf.update(a.K_,o),this},e.prototype.delete=function(e){var t=jg(e,this.U_);return this.Wf.delete(t.K_),this},e}()),Rg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){wm(e);var n=Vg(e),r=e.S_(),i=new qy;return _m(n,i,new Fy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e.o_,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){wm(e);var t=Vg(e),n=e.S_(),r=new qy;return _m(t,r,new Uy(r,n.cacheSizeBytes))}(e.o_)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e.y_&&!e.V_)throw new pl(dl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Bf;return e.z_.Ni((function(){return Object(Ji.b)(t,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Object(Ji.b)(this,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return Zf.Gs()?[4,Zf.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(xp(e.R_,e.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e.o_)},e}(),Mg=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof nl||(i.Gf=t),i}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this.o_.b_()),e)).merge,this.o_.v_(e)},t.prototype.useEmulator=function(e,t){"firestore.googleapis.com"!==this.o_.b_().host&&ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:e+":"+t,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.di.enqueue((function(){return Object(Ji.b)(t,void 0,void 0,(function(){var t,n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return[4,Sg(e)];case 1:return t=r.sent(),[4,Tg(e)];case 2:return n=r.sent(),[2,(t.ec(!0),function(e){var t=fl(e);return t.Mu.delete(0),Jp(t)}(n))]}}))}))}))}(Vg(this.o_))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.di.enqueue((function(){return Object(Ji.b)(t,void 0,void 0,(function(){var t,n;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return[4,Sg(e)];case 1:return t=r.sent(),[4,Tg(e)];case 2:return n=r.sent(),[2,(t.ec(!1),function(e){return Object(Ji.b)(this,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(n){switch(n.label){case 0:return(t=fl(e)).Mu.add(0),[4,Xp(t)];case 1:return n.sent(),t.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Vg(this.o_))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ky("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Bf;return e.di.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){var t;return Object(Ji.d)(this,(function(r){switch(r.label){case 0:return t=ny,[4,Ig(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Vg(this.o_))},t.prototype.onSnapshotsInSync=function(e){return function(e,t){var n=this,r=Vg(e),i=Gf(t)?t:{next:t},o=new zy(i);return e.z_.Ri((function(){return Object(Ji.b)(n,void 0,void 0,(function(){var e;return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return e=function(e,t){fl(e).Hu.add(t),t.next()},[4,xg(r)];case 1:return e.apply(void 0,[t.sent(),o]),[2]}}))}))})),function(){o.r_(),e.z_.Ri((function(){return Object(Ji.b)(n,void 0,void 0,(function(){var e;return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return e=function(e,t){fl(e).Hu.delete(t)},[4,xg(r)];case 1:return e.apply(void 0,[t.sent(),o]),[2]}}))}))}))}}(this.o_,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Gf)throw new pl(dl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Xg(this,Wm(this.o_,e))}catch(e){throw zg(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new qg(this,Qm(this.o_,e))}catch(e){throw zg(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Qg(this,function(e,t){if(Hy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pl(dl.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jm(e,null,function(e){return new af(Il.X(),e)}(t))}(this.o_,e))}catch(e){throw zg(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Bf;return e.di.Ri((function(){return Object(Ji.b)(n,void 0,void 0,(function(){var n;return Object(Ji.d)(this,(function(i){switch(i.label){case 0:return[4,function(e){return Eg(e).then((function(e){return e.Nu}))}(e)];case 1:return n=i.sent(),new bg(e.di,n,t,r).run(),[2]}}))}))})),r.promise}(Vg(e),(function(n){return t(new Pg(e,n))}))}(this.o_,(function(n){return e(new Fg(t,n))}))},t.prototype.batch=function(){var e=this;return Vg(this.o_),new Ug(new Dg(this.o_,(function(t){return Am(e.o_,t)})))},t}(By);function Vg(e){return e.H_||Lg(e),e.H_.kf(),e.H_}function Lg(e){var t=e.S_(),n=function(e,t,n){return new tl(e,t,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(e.R_,e.I_,t);e.H_=new _g(e.P_,e.z_,n)}var Fg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).U_=t,r}return Object(Ji.c)(t,e),t.prototype.get=function(e){var t=this,n=Zg(e);return this.o_.get(n).then((function(e){return new Kg(t.U_,e)}))},t.prototype.set=function(e,t,n){var r=Zg(e);return n?(Gy("Transaction.set",n),this.o_.set(r,t,n)):this.o_.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Zg(e);return 2===arguments.length?this.o_.update(a,t):(r=this.o_).update.apply(r,Object(Ji.g)([a,t,n],i)),this},t.prototype.delete=function(e){var t=Zg(e);return this.o_.delete(t),this},t}(By),Ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.set=function(e,t,n){var r=Zg(e);return n?(Gy("WriteBatch.set",n),this.o_.set(r,t,n)):this.o_.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Zg(e);return 2===arguments.length?this.o_.update(a,t):(r=this.o_).update.apply(r,Object(Ji.g)([a,t,n],i)),this},t.prototype.delete=function(e){var t=Zg(e);return this.o_.delete(t),this},t.prototype.commit=function(){return this.o_.commit()},t}(By),qg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r.Q_=new pm(t),r}return Object(Ji.c)(t,e),t.zf=function(e,n,r){if(e.length%2!=0)throw new pl(dl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.J()+" has "+e.length);return new t(n,new Dm(n.o_,r,new Nl(e)))},t.q_=function(e,n,r){return new t(n,new Dm(n.o_,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xg(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Xg(this.firestore,Wm(this.o_,e))}catch(e){throw zg(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof By&&(e=e.o_),e instanceof Dm&&Jm(this.o_,e)},t.prototype.set=function(e,t){t=Gy("DocumentReference.set",t);try{return function(e,t,n){var r=Jy(e.firestore,bm),i=$g(e.j_,t,n);return Am(r,og(Zm(r),"setDoc",e.K_,i,null!==e.j_,n).ef(e.K_,Mh.on()))}(this.o_,e,t)}catch(e){throw zg(e,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Im(this.o_,e):Im.apply(void 0,Object(Ji.g)([this.o_,e,t],n))}catch(e){throw zg(e,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Am(Jy((e=this.o_).firestore,bm),[new Jh(e.K_,Mh.on())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Bg(t),i=Hg(t,(function(t){return new Kg(e.firestore,new km(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}));return xm(this.o_,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){var t=this,n=Jy(e.firestore,bm),r=Vg(n),i=new Tm(n),o=new Bf;return n.z_.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,Og(r)];case 1:return[4,function(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Ji.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(e,t){var n=fl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Oc.cs(e,t)}))}(e,t)];case 1:return(r=a.sent())instanceof nf?n.resolve(r):r instanceof rf?n.resolve(null):n.reject(new pl(dl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=hd(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}(t.sent(),e.K_,o)];case 2:return t.sent(),[2]}}))}))})),o.promise.then((function(t){return new km(n,i,e.K_,t,new Gg(t instanceof nf&&t.an,!0),e.j_)}))}(this.o_):"server"===(null==e?void 0:e.source)?function(e){var t=this,n=Jy(e.firestore,bm),r=Vg(n),i=new Bf;return n.z_.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,xg(r)];case 1:return[4,Ag(t.sent(),n.z_,e.K_,{source:"server"},i)];case 2:return t.sent(),[2]}}))}))})),i.promise.then((function(t){return Nm(n,e,t)}))}(this.o_):function(e){var t=this,n=Jy(e.firestore,bm),r=Vg(n),i=new Bf;return n.z_.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,xg(r)];case 1:return[4,Ag(t.sent(),n.z_,e.K_,{source:"default"},i)];case 2:return t.sent(),[2]}}))}))})),i.promise.then((function(t){return Nm(n,e,t)}))}(this.o_)).then((function(e){return new Kg(t.firestore,new km(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this.o_.withConverter(e))},t}(By);function zg(e,t,n){return e.message=e.message.replace(t,n),e}function Bg(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Gf(r))return r}return{}}function Hg(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gf(e[0])?e[0]:Gf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Gg=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Kg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).U_=t,r}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new qg(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this.o_.data(e)},t.prototype.get=function(e,t){return this.o_.get(e,t)},t.prototype.isEqual=function(e){return Om(this.o_,e.o_)},t}(By),Wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.prototype.data=function(e){return this.o_.data(e)},t}(Kg),Qg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r}return Object(Ji.c)(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,Rm(this.o_,function(e,t,n){var r=t,i=mm("where",e);return new Mm(i,r,n)}(e,n,r)))}catch(e){throw zg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Rm(this.o_,function(e,t){void 0===t&&(t="asc");var n=t,r=mm("orderBy",e);return new Vm(r,n)}(e,n)))}catch(e){throw zg(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Rm(this.o_,function(e){return Xy("limit",e),new Lm("limit",e,"F")}(e)))}catch(e){throw zg(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Rm(this.o_,function(e){return Xy("limitToLast",e),new Lm("limitToLast",e,"L")}(e)))}catch(e){throw zg(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rm(this.o_,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fm("startAt",e,!0)}).apply(void 0,e)))}catch(e){throw zg(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rm(this.o_,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fm("startAfter",e,!1)}).apply(void 0,e)))}catch(e){throw zg(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rm(this.o_,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Um("endBefore",e,!0)}).apply(void 0,e)))}catch(e){throw zg(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rm(this.o_,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Um("endAt",e,!1)}).apply(void 0,e)))}catch(e){throw zg(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Xm(this.o_,e.o_)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){var t=this,n=Jy(e.firestore,bm),r=Vg(n),i=new Tm(n),o=new Bf;return n.z_.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,Og(r)];case 1:return[4,function(e,t,n){return Object(Ji.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(Ji.d)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Fp(e,t,!0)];case 1:return r=l.sent(),i=new Bv(t,r.Bc),o=i.gh(r.documents),a=i.Zn(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=l.sent(),u=hd(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(t.sent(),e.tf,o)];case 2:return t.sent(),[2]}}))}))})),o.promise.then((function(t){return new Em(n,i,e,t)}))}(this.o_):"server"===(null==e?void 0:e.source)?function(e){var t=this,n=Jy(e.firestore,bm),r=Vg(n),i=new Tm(n),o=new Bf;return n.z_.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,xg(r)];case 1:return[4,Ng(t.sent(),n.z_,e.tf,{source:"server"},o)];case 2:return t.sent(),[2]}}))}))})),o.promise.then((function(t){return new Em(n,i,e,t)}))}(this.o_):function(e){var t=this,n=Jy(e.firestore,bm),r=Vg(n),i=new Tm(n);Gm(e.tf);var o=new Bf;return n.z_.Ri((function(){return Object(Ji.b)(t,void 0,void 0,(function(){return Object(Ji.d)(this,(function(t){switch(t.label){case 0:return[4,xg(r)];case 1:return[4,Ng(t.sent(),n.z_,e.tf,{source:"default"},o)];case 2:return t.sent(),[2]}}))}))})),o.promise.then((function(t){return new Em(n,i,e,t)}))}(this.o_)).then((function(e){return new Jg(t.firestore,e)}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Bg(t),i=Hg(t,(function(t){return new Jg(e.firestore,t)}));return xm(this.o_,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this.o_.withConverter(e))},t}(By),Yg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).U_=t,r}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Wg(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),t}(By),Jg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).U_=t,r}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new Qg(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this.o_.docs.map((function(t){return new Wg(e.U_,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this.o_.docChanges(e).map((function(e){return new Yg(t.U_,e)}))},t.prototype.forEach=function(e,t){var n=this;this.o_.forEach((function(r){e.call(t,new Wg(n.U_,r))}))},t.prototype.isEqual=function(e){return Om(this.o_,e.o_)},t}(By),Xg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r.o_=n,r}return Object(Ji.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.o_.parent;return e?new qg(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new qg(this.firestore,void 0===e?Qm(this.o_):Qm(this.o_,e))}catch(e){throw zg(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Jy(e.firestore,bm),r=Qm(e),i=$g(e.j_,t);return Am(n,og(Zm(e.firestore),"addDoc",r.K_,i,null!==e.j_,{}).ef(r.K_,Mh.exists(!1))).then((function(){return r}))}(this.o_,e).then((function(e){return new qg(t.firestore,e)}))},t.prototype.isEqual=function(e){return Jm(this.o_,e.o_)},t.prototype.withConverter=function(e){return new t(this.firestore,this.o_.withConverter(e))},t}(Qg);function Zg(e){return e instanceof By&&(e=e.o_),Jy(e,Dm)}function $g(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eb,tb=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(gm.bind.apply(gm,Object(Ji.g)([void 0],t))))||this}return Object(Ji.c)(t,e),t.documentId=function(){return new t(Al.et().J())},t.prototype.isEqual=function(e){return e instanceof By&&(e=e.o_),e instanceof gm&&this.o_.G_.isEqual(e.G_)},t}(By),nb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Ji.c)(t,e),t.serverTimestamp=function(){var e=new tm("serverTimestamp");return e.c_="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $y("deleteField");return e.c_="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nm("arrayUnion",e)}).apply(void 0,e);return r.c_="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rm("arrayRemove",e)}).apply(void 0,e);return r.c_="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new im("increment",e)}(e);return n.c_="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this.o_.isEqual(e.o_)},t}(By),rb={Firestore:Mg,GeoPoint:om,Timestamp:Sl,Blob:fm,Transaction:Fg,WriteBatch:Ug,DocumentReference:qg,DocumentSnapshot:Kg,Query:Qg,QueryDocumentSnapshot:Wg,QuerySnapshot:Jg,CollectionReference:Xg,FieldPath:tb,FieldValue:nb,setLogLevel:function(e){il.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new el.a("firestore",(function(e){return function(e,t){return new Mg(e,new bm(e,t),new Rg)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},rb)))})(eb=Xi.a),eb.registerVersion("@firebase/firestore","2.0.4");var ib=n("Jgta"),ob=n("VRyK");n("qgXg"),n("Ylt2");var ab=new r.o("angularfire2.auth.use-emulator");function sb(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wi.a;return new z.a((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot({includeMetadataChanges:!0},n)})):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(e,t)}function ub(e,t){return sb(e,t).pipe(Object(te.a)((function(e){return{payload:e,type:"query"}})))}function lb(e,t){return ub(e,t).pipe(Object(te.a)((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function cb(e,t,n){return ub(e,n).pipe(Object(te.a)((function(e){return e.payload.docChanges()})),Ve((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),Object(te.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function hb(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var fb=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?lb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),oe((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):lb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Ve((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=hb(e);return cb(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ub(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(L.a)(this.query.get(e)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new db(this.ref.doc(e),this.afs)}}]),e}(),db=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=bb(this.ref.collection(e),t),r=n.ref,i=n.query;return new fb(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return sb(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(te.a)((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(te.a)((function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},e.idField,n.id)):n.data()})))}},{key:"get",value:function(e){return Object(L.a)(this.ref.get(e)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}}]),e}(),pb=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?lb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),oe((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):lb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Ve((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=hb(e);return cb(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ub(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(_defineProperty({},e.idField,t.id),t.data()):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return Object(L.a)(this.query.get(e)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}}]),e}(),vb=new r.o("angularfire2.enableFirestorePersistence"),yb=new r.o("angularfire2.firestore.persistenceSettings"),mb=new r.o("angularfire2.firestore.settings"),gb=new r.o("angularfire2.firestore.use-emulator");function bb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var _b,wb,kb=((_b=function(){function e(t,n,r,i,o,a,s,u,l){_classCallCheck(this,e),this.schedulers=new Yi.e(a),this.keepUnstableUntilFirst=Object(Yi.i)(this.schedulers);var c=Object(Yi.h)(t,a,n);!ib.a.auth&&l&&Object(Yi.k)();var h=u,f=_slicedToArray(Object(Yi.g)(c.name+".firestore","AngularFirestore",c,(function(){var e=a.runOutsideAngular((function(){return c.firestore()}));return i&&e.settings(i),h&&e.useEmulator.apply(e,_toConsumableArray(h)),r&&!j(o)?[e,a.runOutsideAngular((function(){try{return Object(L.a)(e.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return"undefined"!=typeof console&&console.warn(t),Object(V.a)(!1)}}))]:[e,Object(V.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(e,[{key:"collection",value:function(e,t){var n=bb("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new fb(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new pb(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new db(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275prov=Object(r.Nb)({factory:function(){return new _b(Object(r.Ob)(Yi.c),Object(r.Ob)(Yi.b,8),Object(r.Ob)(vb,8),Object(r.Ob)(mb,8),Object(r.Ob)(r.z),Object(r.Ob)(r.x),Object(r.Ob)(yb,8),Object(r.Ob)(gb,8),Object(r.Ob)(ab,8))},token:_b,providedIn:"any"}),_b),Cb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:vb,useValue:!0},{provide:yb,useValue:t}]}}}]),e}(),Eb=((wb=function(){function e(t){_classCallCheck(this,e),this.fireStore=t,this.redeemed=new q({wasRedeemSucess:!1,pointsKey:"",groupName:"",points:0})}return _createClass(e,[{key:"retereveGroups",value:function(){try{return this.fireStore.firestore.collection("groups").get().then((function(e){var t=[];return e.forEach((function(e){var n=e.data();t.push({doc_id:e.id,group_name:n.group_name,no_of_redeems:n.no_of_redeems,points_scored:n.points_scored,secret_group_id:n.secret_group_id})})),t}))}catch(e){console.log("Error while trying to retrieve group data DB:",e)}}},{key:"reterevePointKeys",value:function(){try{return this.fireStore.firestore.collection("pointkeys").get().then((function(e){var t=[];return e.forEach((function(e){var n=e.data();t.push({doc_id:e.id,points:n.points,key:n.key,redeemed:n.redeemed})})),t}))}catch(e){console.log("Error while trying to retrieve ponits data from DB:",e)}}},{key:"updateFirestoreValue",value:function(e,t,n){try{this.fireStore.firestore.collection(e).doc(t).update(n)}catch(r){console.log("Error while trying to update DB:",r)}}},{key:"redeemPointsWithKey",value:function(e,t){var n=this;return this.retereveGroups().then((function(r){if(r.length){var i=r.find((function(t){return t.secret_group_id===e}));i?n.reterevePointKeys().then((function(e){var r=e.find((function(e){return e.key===t&&!e.redeemed}));if(r){var o=i.points_scored+r.points,a=i.no_of_redeems+1;n.updateFirestoreValue("pointkeys",r.doc_id,{redeemed:!0,redeemedby:i.group_name}),n.updateFirestoreValue("groups",i.doc_id,{no_of_redeems:a,points_scored:o}),n.redeemed.next({wasRedeemSucess:!0,pointsKey:r.key,groupName:i.group_name,points:r.points})}else console.log(t+" already redeemed or not found")})):console.log("Group Id is Wrong, Please check Group Id")}}))}},{key:"addDocumentToFirestore",value:function(e,t){try{this.fireStore.firestore.collection(e).add(t),console.log("successfully added",t,"to",e)}catch(n){console.log("Error while trying to add DB:",n)}}},{key:"getGroups",value:function(){return this.fireStore.collection("groups").valueChanges()}},{key:"ngOnDestroy",value:function(){this.redeemed.complete()}}]),e}()).ngInjectableDef=r.Nb({factory:function(){return new wb(r.Ob(kb))},token:wb,providedIn:"root"}),wb),Sb=function(){function e(t){_classCallCheck(this,e),this.firebaseService=t,this.groupData=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.firebaseService.getGroups().subscribe((function(t){return e.groupData=t}))}}]),e}(),Ob=r.qb({encapsulation:0,styles:[[""]],data:{}});function Tb(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"app-score-card",[],null,null,null,Ki,Hi)),r.rb(1,114688,null,0,Bi,[],{cards:[0,"cards"]},null)],(function(e,t){e(t,1,0,t.component.groupData)}),null)}var Ib=r.ob("app-score-page",Sb,(function(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"app-score-page",[],null,null,null,Tb,Ob)),r.rb(1,114688,null,0,Sb,[Eb],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),xb=function e(){_classCallCheck(this,e)};function Ab(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Nb(e){return{type:6,styles:e,offset:null}}function Db(e){Promise.resolve(null).then(e)}var jb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Db((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Pb=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Db((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function Rb(e){return null!=e&&""+e!="false"}function Mb(e){return e instanceof r.k?e.nativeElement:e}var Vb,Lb=new r.N("8.2.3");try{Vb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Ym){Vb=!1}var Fb,Ub,qb,zb=((Ub=function e(t){_classCallCheck(this,e),this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).ngInjectableDef=Object(r.Nb)({factory:function(){return new Ub(Object(r.Ob)(r.z,8))},token:Ub,providedIn:"root"}),Ub),Bb=function e(){_classCallCheck(this,e)},Hb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gb(){if(Fb)return Fb;if("object"!=typeof document||!document)return Fb=new Set(Hb);var e=document.createElement("input");return Fb=new Set(Hb.filter((function(t){return e.setAttribute("type",t),e.type===t})))}var Kb=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wb(e,this.dueTime,this.scheduler))}}]),e}(),Wb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Qb,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(ie.a);function Qb(e){e.debouncedNext()}var Yb=new r.N("8.2.3"),Jb=new r.o("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Xb=function(){function e(t,n){_classCallCheck(this,e),this._sanityChecksEnabled=t,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(e,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._window;return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}},{key:"_checkCdkVersionMatch",value:function(){Yb.full!==Lb.full&&console.warn("The Angular Material version ("+Yb.full+") does not match the Angular CDK version ("+Lb.full+").\nPlease ensure the versions of these two packages exactly match.")}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),e}();try{"undefined"!=typeof Intl}catch(Ym){!1}var Zb,$b=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.dirty||t&&t.submitted))}}]),e}(),e_=((Zb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}()).ngInjectableDef=Object(r.Nb)({factory:function(){return new Zb},token:Zb,providedIn:"root"}),Zb),t_=new r.o("MAT_HAMMER_OPTIONS"),n_=["longpress","slide","slidestart","slideend","slideright","slideleft"],r_={on:function(){},off:function(){}},i_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._hammerOptions=e,i.events=n_,r&&r._checkHammerIsAvailable(),i}return _createClass(n,[{key:"buildHammer",value:function(e){var t="undefined"!=typeof window?window.Hammer:null;if(!t)return r_;var n=new t(e,this._hammerOptions||void 0),r=new t.Pan,i=new t.Swipe,o=new t.Press,a=this._createRecognizer(r,{event:"slide",threshold:0},i),s=this._createRecognizer(o,{event:"longpress",time:500});return r.recognizeWith(i),s.recognizeWith(a),n.add([i,o,r,a,s]),n}},{key:"_createRecognizer",value:function(e,t){for(var n=new e.constructor(t),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return i.push(e),i.forEach((function(e){return n.recognizeWith(e)})),n}}]),n}(function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}()),o_=new r.o("mat-label-global-options"),a_=n("n6bG");function s_(e){return function(t){return t.lift(new u_(e))}}var u_=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new l_(e),r=Object(Q.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),l_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(W.a),c_=0,h_=function e(){_classCallCheck(this,e),this.id="mat-error-"+c_++},f_=function e(){_classCallCheck(this,e)};function d_(e){return Error("A hint was already declared for 'align=\"".concat(e,"\"'."))}var p_,v_=function e(){_classCallCheck(this,e)},y_=0,m_=(p_="primary",function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).color=p_,e}return _createClass(n,[{key:"color",get:function(){return this._color},set:function(e){var t=e||p_;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),t&&this._elementRef.nativeElement.classList.add("mat-"+t),this._color=t)}}]),n}((function e(t){_classCallCheck(this,e),this._elementRef=t}))),g_=new r.o("MAT_FORM_FIELD_DEFAULT_OPTIONS"),b_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u,l){var c;return _classCallCheck(this,n),(c=t.call(this,e))._elementRef=e,c._changeDetectorRef=r,c._dir=o,c._defaults=a,c._platform=s,c._ngZone=u,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new F.a,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-"+y_++,c._labelId="mat-form-field-label-"+y_++,c._previousDirection="ltr",c._labelOptions=i||{},c.floatLabel=c._labelOptions.float||"auto",c._animationsEnabled="NoopAnimations"!==l,c.appearance=a&&a.appearance?a.appearance:"legacy",c._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,c}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var e=this;this._validateControlChild();var t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Me(null)).subscribe((function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(s_(this._destroyed)).subscribe((function(){return e._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.asObservable().pipe(s_(e._destroyed)).subscribe((function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()}))})),Object(ob.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){e._outlineGapCalculationNeededOnStable=!0,e._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Me(null)).subscribe((function(){e._processHints(),e._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Me(null)).subscribe((function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(s_(this._destroyed)).subscribe((function(){e.updateOutlineGap(),e._previousDirection=e._dir.value}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,function e(t,n,r,i){return Object(a_.a)(r)&&(i=r,r=void 0),i?e(t,n,r).pipe(Object(te.a)((function(e){return Object(K.a)(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new z.a((function(e){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,r,i,o)}i.add(a)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,r)}))}(this._label.nativeElement,"transitionend").pipe(Se(1)).subscribe((function(){e._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var e,t,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(e||n.hintLabel)throw d_("start");e=r}else if("end"===r.align){if(t)throw d_("end");t=r}}))}},{key:"_syncDescribedByIds",value:function(){if(this._control){var e=[];if("hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find((function(e){return"start"===e.align})):null,n=this._hintChildren?this._hintChildren.find((function(e){return"end"===e.align})):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map((function(e){return e.id})));this._control.setDescribedByIds(e)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var e=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser)if(document.documentElement.contains(this._elementRef.nativeElement)){var t=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,u=this._getStartEnd(a),l=this._getStartEnd(e.children[0].getBoundingClientRect()),c=0,h=_createForOfIteratorHelper(e.children);try{for(h.s();!(s=h.n()).done;){c+=s.value.offsetWidth}}catch(p){h.e(p)}finally{h.f()}t=l-u-5,n=c>0?.75*c+10:0}for(var f=0;f<i.length;f++)i.item(f).style.width=t+"px";for(var d=0;d<o.length;d++)o.item(d).style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(e){return"rtl"===this._previousDirection?e.right:e.left}},{key:"appearance",get:function(){return this._appearance},set:function(e){var t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=Rb(e)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(e){this._explicitFormFieldControl=e}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(m_),__=function e(){_classCallCheck(this,e)},w_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this,e)).sources=r,i.completed=0,i.haveValues=0;var o=r.length;i.values=new Array(o);for(var a=0;a<o;a++){var s=r[a],u=Object(Q.a)(_assertThisInitialized(i),s,null,a);u&&i.add(u)}return i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}]),n}(W.a),k_=new r.o("NgValueAccessor"),C_=new r.o("CompositionEventMode"),E_=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Ke()?Ke().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),S_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),O_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(S_);function T_(){throw new Error("unimplemented")}var I_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return T_()}},{key:"asyncValidator",get:function(){return T_()}}]),n}(S_),x_=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),A_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(x_),N_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(x_);function D_(e){return null==e||0===e.length}var j_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,P_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(D_(t.value)||D_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(D_(t.value)||D_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return D_(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return D_(e.value)||j_.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(D_(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(D_(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(R_);return 0==t.length?null:function(e){return V_(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(R_);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&Object(K.a)(n[0])&&(n=n[0]),0===n.length?$.a:i?e(n).pipe(Object(te.a)((function(e){return i.apply(void 0,_toConsumableArray(e))}))):new z.a((function(e){return new w_(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(M_)).pipe(Object(te.a)(V_))}}}]),e}();function R_(e){return null!=e}function M_(e){var t=Object(r.yb)(e)?Object(L.a)(e):e;if(!Object(r.xb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function V_(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function L_(e){return e.validate?function(t){return e.validate(t)}:e}function F_(e){return e.validate?function(t){return e.validate(t)}:e}var U_=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),q_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',z_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',B_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+q_)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(z_,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+q_)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+z_)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}();function H_(e,t){return[].concat(_toConsumableArray(t.path),[e])}function G_(e,t){e||Y_(t,"Cannot find control with"),t.valueAccessor||Y_(t,"No value accessor for form control with"),e.validator=P_.compose([e.validator,t.validator]),e.asyncValidator=P_.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&K_(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&K_(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function K_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function W_(e,t){null==e&&Y_(t,"Cannot find control with"),e.validator=P_.compose([e.validator,t.validator]),e.asyncValidator=P_.composeAsync([e.asyncValidator,t.asyncValidator])}function Q_(e){return Y_(e,"There is no FormControl instance attached to form control element with")}function Y_(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function J_(e){return null!=e?P_.compose(e.map(L_)):null}function X_(e){return null!=e?P_.composeAsync(e.map(F_)):null}var Z_=[function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.zb}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.zb}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}(),function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(I_),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function $_(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function ew(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function tw(e){var t=rw(e)?e.validators:e;return Array.isArray(t)?J_(t):t||null}function nw(e,t){var n=rw(t)?t.asyncValidators:e;return Array.isArray(n)?X_(n):n||null}function rw(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var iw=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=tw(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=nw(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=M_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof aw?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof sw&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.m,this.statusChanges=new r.m}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){rw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),ow=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,tw(i),nw(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(iw),aw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,tw(r),nw(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof ow?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(iw),sw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,tw(r),nw(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof ow?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(iw),uw=Promise.resolve(null),lw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.m,o.form=new aw({},J_(e),X_(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;uw.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),G_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;uw.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),ew(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;uw.then((function(){var n=t._findContainer(e.path),r=new aw({});W_(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;uw.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;uw.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,$_(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(O_),cw=new r.o("NgFormSelectorWarning"),hw=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return H_(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return J_(this._validators)}},{key:"asyncValidator",get:function(){return X_(this._asyncValidators)}}]),n}(O_),fw=new r.o("NgModelWithFormControlWarning"),dw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.m,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return G_(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){ew(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);W_(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);W_(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,$_(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Q_(t)})),t.valueAccessor.registerOnTouched((function(){return Q_(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&G_(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=J_(this._validators);this.form.validator=P_.compose([this.form.validator,e]);var t=X_(this._asyncValidators);this.form.asyncValidator=P_.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||B_.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(O_),pw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){yw(this._parent)&&B_.groupParentException()}}]),n}(hw),vw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){yw(this._parent)&&B_.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return H_(this.name,this._parent)}},{key:"validator",get:function(){return J_(this._validators)}},{key:"asyncValidator",get:function(){return X_(this._asyncValidators)}}]),n}(O_);function yw(e){return!(e instanceof pw||e instanceof dw||e instanceof vw)}var mw,gw,bw,_w,ww=((mw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.m,u._ngModelWarningSent=!1,u._parent=e,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Y_(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===E_?n=t:(o=t,Z_.some((function(e){return o.constructor===e}))?(r&&Y_(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Y_(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Y_(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.zb)(t,n.currentValue)}(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(B_.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof pw)&&this._parent instanceof hw?B_.ngModelGroupException():this._parent instanceof pw||this._parent instanceof dw||this._parent instanceof vw||B_.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){B_.disabledAttrWarning()}},{key:"path",get:function(){return H_(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return J_(this._rawValidators)}},{key:"asyncValidator",get:function(){return X_(this._rawAsyncValidators)}}]),n}(I_))._ngModelWarningSentOnce=!1,mw),kw=function e(){_classCallCheck(this,e)},Cw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new aw(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new ow(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new sw(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof ow||e instanceof aw||e instanceof sw?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}(),Ew=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:cw,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),Sw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:fw,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}(),Ow=((bw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}()).ngInjectableDef=Object(r.Nb)({factory:function(){return new bw},token:bw,providedIn:"root"}),bw),Tw=((gw=function(){function e(t){_classCallCheck(this,e),this._mutationObserverFactory=t,this._observedElements=new Map}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this;this._observedElements.forEach((function(t,n){return e._cleanupObserver(n)}))}},{key:"observe",value:function(e){var t=this,n=Mb(e);return new z.a((function(e){var r=t._observeElement(n).subscribe(e);return function(){r.unsubscribe(),t._unobserveElement(n)}}))}},{key:"_observeElement",value:function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new F.a,n=this._mutationObserverFactory.create((function(e){return t.next(e)}));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}},{key:"_unobserveElement",value:function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}},{key:"_cleanupObserver",value:function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,r=t.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}]),e}()).ngInjectableDef=Object(r.Nb)({factory:function(){return new gw(Object(r.Ob)(Ow))},token:gw,providedIn:"root"}),gw),Iw=function(){function e(t,n,i){_classCallCheck(this,e),this._contentObserver=t,this._elementRef=n,this._ngZone=i,this.event=new r.m,this._disabled=!1,this._currentSubscription=null}return _createClass(e,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){e._currentSubscription=(e.debounce?t.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wi.a;return function(n){return n.lift(new Kb(e,t))}}(e.debounce)):t).subscribe(e.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Rb(e),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(e){this._debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}(e),this._subscribe()}}]),e}(),xw=function e(){_classCallCheck(this,e)},Aw=new r.o("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(D)}}),Nw=((_w=function(){function e(t){if(_classCallCheck(this,e),this.value="ltr",this.change=new r.m,t){var n=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}()).ngInjectableDef=Object(r.Nb)({factory:function(){return new _w(Object(r.Ob)(Aw,8))},token:_w,providedIn:"root"}),_w),Dw=function e(){_classCallCheck(this,e)};function jw(){return"undefined"!=typeof process}function Pw(e){switch(e.length){case 0:return new jb;case 1:return e[0];default:return new Pb(e)}}function Rw(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,l=null;if(r.forEach((function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}c[r]=s})),r||s.push(c),l=c,u=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function Mw(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Vw(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Vw(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Vw(n,"destroy",e))}))}}function Vw(e,t,n){var r=n.totalTime,i=Lw(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Lw(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Fw(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Uw(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var qw=function(e,t){return!1},zw=function(e,t){return!1},Bw=function(e,t,n){return[]},Hw=jw();(Hw||"undefined"!=typeof Element)&&(qw=function(e,t){return e.contains(t)},zw=function(){if(Hw||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:zw}(),Bw=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var Gw=null,Kw=!1;function Ww(e){Gw||(Gw=("undefined"!=typeof document?document.body:null)||{},Kw=!!Gw.style&&"WebkitAppearance"in Gw.style);var t=!0;return Gw.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Gw.style)&&Kw)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Gw.style),t}var Qw=zw,Yw=qw,Jw=Bw;function Xw(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var Zw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Ww(e)}},{key:"matchesElement",value:function(e,t){return Qw(e,t)}},{key:"containsElement",value:function(e,t){return Yw(e,t)}},{key:"query",value:function(e,t,n){return Jw(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new jb(n,r)}}]),e}(),$w=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new Zw,e}();function ek(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:tk(parseFloat(t[1]),t[2])}function tk(e,t){switch(t){case"s":return 1e3*e;default:return e}}function nk(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=tk(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=tk(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function rk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function ik(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else rk(e,n);return n}function ok(e,t,n){return n?t+":"+n+";":""}function ak(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=ok(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=ok(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function sk(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=vk(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),jw()&&ak(e))}function uk(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=vk(t);e.style[n]=""})),jw()&&ak(e))}function lk(e){return Array.isArray(e)?1==e.length?e[0]:Ab(e):e}var ck=new RegExp("{{\\s*(.+?)\\s*}}","g");function hk(e){var t=[];if("string"==typeof e){for(var n,r=e.toString();n=ck.exec(r);)t.push(n[1]);ck.lastIndex=0}return t}function fk(e,t,n){var r=e.toString(),i=r.replace(ck,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function dk(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var pk=/-+([a-z0-9])/g;function vk(e){return e.replace(pk,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function yk(e,t){return 0===e||0===t}function mk(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=bk(e,t)}))},s=1;s<t.length;s++)a()}return t}function gk(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function bk(e,t){return window.getComputedStyle(e)[t]}var _k=new Set(["true","1"]),wk=new Set(["false","0"]);function kk(e,t){var n=_k.has(e)||wk.has(e),r=_k.has(t)||wk.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?_k.has(e):wk.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?_k.has(t):wk.has(t)),a&&s}}var Ck=new RegExp("s*:selfs*,?","g");function Ek(e,t,n){return new Sk(e).build(t,n)}var Sk=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Ok(t);return this._resetContextStyleTimingState(n),gk(this,lk(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,a.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(Tk(e)){var t=e;Object.keys(t).forEach((function(e){hk(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=dk(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=gk(this,lk(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(kk(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(kk(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Ik(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return gk(n,e,t)})),options:Ik(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=gk(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:Ik(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return xk(nk(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=xk(0,0,"");return i.dynamic=!0,i.strValue=r,i}return xk((n=n||nk(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Nb({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Nb(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(Tk(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l,c,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,l=s.params||{},(c=hk(a)).length&&c.forEach((function(e){l.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=e.steps.map((function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(Tk(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(Tk(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:gk(this,lk(e.animation),t),options:Ik(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Ik(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ik(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(Ck,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Fw(t.collectedStyles,t.currentQuerySelector,{});var s=gk(this,lk(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Ik(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:nk(e.timings,t.errors,!0);return{type:12,animation:gk(this,lk(e.animation),t),timings:n,options:null}}}]),e}(),Ok=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Tk(e){return!Array.isArray(e)&&"object"==typeof e}function Ik(e){var t;return e?(e=rk(e)).params&&(e.params=(t=e.params)?rk(t):null):e={},e}function xk(e,t,n){return{duration:e,delay:t,easing:n}}function Ak(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Nk=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Dk=new RegExp(":enter","g"),jk=new RegExp(":leave","g");function Pk(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Rk).buildKeyframes(e,t,n,r,i,o,a,s,u,l)}var Rk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Nk;var c=new Vk(e,t,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),gk(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[Ak(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?ek(n.duration):null,o=null!=n.delay?ek(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),gk(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Mk);var a=ek(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return gk(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ek(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),gk(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return nk(t.params?fk(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ek(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mk);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),gk(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;gk(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Mk={},Vk=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Lk(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=ek(r.duration)),null!=r.delay&&(i.delay=ek(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=fk(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Mk,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Fk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Dk,"."+this._enterClassName)).replace(jk,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),Lk=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):ik(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=fk(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=ik(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?dk(t.values()):[],a=n.size?dk(n.values()):[];if(r){var s=i[0],u=rk(s);s.offset=0,u.offset=1,i=[s,u]}return Ak(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),Fk=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=ik(e[0],!1);u.offset=0,o.push(u);var l=ik(e[0],!1);l.offset=Uk(s),o.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=ik(e[h],!1);f.offset=Uk((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return Ak(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Lk);function Uk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var qk=function e(){_classCallCheck(this,e)},zk=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return vk(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(Bk[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(qk),Bk=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Hk(e,t,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Gk={},Kk=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||Gk,f=this.buildStyles(n,a&&a.params||Gk,c),d=s&&s.params||Gk,p=this.buildStyles(r,d,c),v=new Set,y=new Map,m=new Map,g="void"===r,b={params:Object.assign({},h,d)},_=l?[]:Pk(e,t,this.ast.animation,i,o,f,p,b,u,c),w=0;if(_.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),c.length)return Hk(t,this._triggerName,n,r,g,f,p,[],[],y,m,w,c);_.forEach((function(e){var n=e.element,r=Fw(y,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Fw(m,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var k=dk(v.values());return Hk(t,this._triggerName,n,r,g,f,p,_,k,y,m,w)}}]),e}(),Wk=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=rk(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=fk(o,r,t)),n[e]=o}))}})),n}}]),e}(),Qk=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new Wk(e.style,e.options&&e.options.params||{})})),Yk(this.states,"true","1"),Yk(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new Kk(t,e,r.states))})),this.fallbackTransition=new Kk(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function Yk(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Jk=new Nk,Xk=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=Ek(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Rw(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=Pk(this._driver,t,a,"ng-enter","ng-leave",{},{},i,Jk,o)).forEach((function(e){var t=Fw(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=Pw(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=Lw(t,"","","");return Mw(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),Zk=[],$k={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=rk(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),nC=new tC("void"),rC=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cC(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Fw(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=Fw(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(cC(e,"ng-trigger"),cC(e,"ng-trigger-"+t),u[t]=nC),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new oC(this.id,t,e),s=this._engine.statesByElement.get(e);s||(cC(e,"ng-trigger"),cC(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],l=new tC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[t]=l,u||(u=nC),"void"===l.value||u.value!==l.value){var c=Fw(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(cC(e,"ng-animate-queued"),a.onStart((function(){hC(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),c.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){uk(e,p),sk(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(e,".ng-trigger",!0).forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Pw(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||nC,s=new tC("void"),u=new oC(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?r.markElementAsRemoved(this.id,e,!1,t):(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}},{key:"insertNode",value:function(e,t){cC(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=Lw(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Mw(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),iC=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new rC(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(aC(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(aC(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cC(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hC(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(aC(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return aC(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Pw(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=$k,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)cC(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Pw(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Nk,i=[],o=new Map,a=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=lC(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return cC(e,n)}))}));for(var y=[],m=new Set,g=new Set,b=0;b<this.collectedLeaveElements.length;b++){var _=this.collectedLeaveElements[b],w=_.__ng_removed;w&&w.setForRemoval&&(y.push(_),m.add(_),w.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):g.add(_))}var k=new Map,C=lC(f,Array.from(m));C.forEach((function(e,t){var n="ng-leave"+v++;k.set(t,n),e.forEach((function(e){return cC(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return hC(e,n)}))})),C.forEach((function(e,t){var n=k.get(t);e.forEach((function(e){return hC(e,n)}))})),y.forEach((function(e){n.processLeaveNode(e)}))}));for(var E=[],S=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(E.push(t),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(e,r,v,d,f);if(y.errors&&y.errors.length)S.push(y);else{if(f)return t.onStart((function(){return uk(o,y.fromStyles)})),t.onDestroy((function(){return sk(o,y.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return uk(o,y.fromStyles)})),t.onDestroy((function(){return sk(o,y.toStyles)})),void i.push(t);y.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:t,element:o}),y.queriedElements.forEach((function(e){return Fw(s,e,[]).push(t)})),y.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),y.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(S.length){var T=[];S.forEach((function(e){T.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return T.push("- ".concat(e,"\n"))}))})),E.forEach((function(e){return e.destroy()})),this.reportError(T)}var I=new Map,x=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(x.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Fw(I,t,[]).push(e),e.destroy()}))}));var A=y.filter((function(e){return dC(e,u,l)})),N=new Map;uC(N,this.driver,g,l,"*").forEach((function(e){dC(e,u,l)&&A.push(e)}));var D=new Map;d.forEach((function(e,t){uC(D,n.driver,new Set(e),u,"!")})),A.forEach((function(e){var t=N.get(e),n=D.get(e);N.set(e,Object.assign({},t,n))}));var j=[],P=[],R={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(c.has(t))return a.onDestroy((function(){return sk(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=R;if(x.size>1){for(var l=t,h=[];l=l.parentNode;){var f=x.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(e){return x.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,D,N);if(a.setRealPlayer(d),u===R)j.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=Pw(p)),i.push(a)}}else uk(t,s.fromStyles),a.onDestroy((function(){return sk(t,s.toStyles)})),P.push(a),c.has(t)&&i.push(a)})),P.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Pw(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var M=0;M<y.length;M++){var V=y[M],L=V.__ng_removed;if(hC(V,"ng-leave"),!L||!L.hasAnimation){var F=[];if(s.size){var U=s.get(V);U&&U.length&&F.push.apply(F,_toConsumableArray(U));for(var q=this.driver.query(V,".ng-animating",!0),z=0;z<q.length;z++){var B=s.get(q[z]);B&&B.length&&F.push.apply(F,_toConsumableArray(B))}}var H=F.filter((function(e){return!e.destroyed}));H.length?fC(this,V,H):this.processLeaveNode(V)}}return y.length=0,j.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),j}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var l=function(){var e=r.value.element,u=e!==o,l=Fw(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}uk(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new jb(t.duration,t.delay);var p,v,y=f!==u,m=(p=(n.get(f)||Zk).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof Pb?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),g=i.get(f),b=o.get(f),_=Rw(0,a._normalizer,0,t.keyframes,g,b),w=a._buildPlayer(t,_,m);if(t.subTimeline&&r&&h.add(f),y){var k=new oC(e,s,f);k.setRealPlayer(w),l.push(k)}return w}));l.forEach((function(e){Fw(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return cC(e,"ng-animating")}));var d=Pw(f);return d.onDestroy((function(){c.forEach((function(e){return hC(e,"ng-animating")})),sk(u,t.toStyles)})),h.forEach((function(e){Fw(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new jb(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),oC=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new jb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Mw(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Fw(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function aC(e){return e&&1===e.nodeType}function sC(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function uC(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(sC(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=eC,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return sC(e,o[s++])})),a}function lC(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function cC(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function hC(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function fC(e,t,n){Pw(n).onDone((function(){return e.processLeaveNode(t)}))}function dC(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var pC=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new iC(t,n,r),this._timelineEngine=new Xk(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Ek(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new Qk(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Uw(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Uw(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function vC(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=mC(t[0]),t.length>1&&(r=mC(t[t.length-1]))):t&&(n=mC(t)),n||r?new yC(e,n,r):null}var yC=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&sk(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(sk(this._element,this._initialStyles),this._endStyles&&(sk(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(uk(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uk(this._element,this._endStyles),this._endStyles=null),sk(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function mC(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];gC(i)&&((t=t||{})[i]=e[i])}return t}function gC(e){return"display"===e||"position"===e}var bC=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=SC(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),EC(e,"",t),CC(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){_C(this._element,this._name,"paused")}},{key:"resume",value:function(){_C(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=wC(this._element,this._name);this._position=e*this._duration,EC(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),CC(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=SC(e,"").split(","),r=kC(n,t);r>=0&&(n.splice(r,1),EC(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function _C(e,t,n){EC(e,"PlayState",n,wC(e,t))}function wC(e,t){var n=SC(e,"");return n.indexOf(",")>0?kC(n.split(","),t):kC([n],t)}function kC(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function CC(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function EC(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function SC(e,t){return e.style["animation"+t]}var OC=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new bC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:bk(e.element,r))}))}this.currentSnapshot=t}}]),e}(),TC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Xw(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(jb),IC=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Ww(e)}},{key:"matchesElement",value:function(e,t){return Qw(e,t)}},{key:"containsElement",value:function(e,t){return Yw(e,t)}},{key:"query",value:function(e,t,n){return Jw(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Xw(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof OC})),u={};yk(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=mk(e,t,u));if(0==n)return new TC(e,l);var c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=vC(e,t),d=new OC(e,t,c,n,r,i,l,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),xC=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:bk(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),AC=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(NC().toString()),this._cssKeyframesDriver=new IC}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Ww(e)}},{key:"matchesElement",value:function(e,t){return Qw(e,t)}},{key:"containsElement",value:function(e,t){return Yw(e,t)}},{key:"query",value:function(e,t,n){return Jw(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=o.filter((function(e){return e instanceof xC}));yk(n,r)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=vC(e,t=mk(e,t=t.map((function(e){return ik(e,!1)})),u));return new xC(e,t,s,c)}}]),e}();function NC(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var DC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Ab(e):e;return RC(this._renderer,null,t,"register",[n]),new jC(t,this._renderer)}}]),n}(xb),jC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new PC(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),PC=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return RC(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function RC(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var MC=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new VC("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function(t){return n.engine.registerTrigger(o,a,e,t.name,t)})),new LC(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}(),VC=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),LC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,u,l,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(VC),FC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(pC);function UC(){return"function"==typeof NC()?new AC:new IC}function qC(){return new zk}function zC(e,t,n){return new MC(e,t,n)}var BC=new r.o("AnimationModuleType"),HC=function e(){_classCallCheck(this,e)},GC=r.qb({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function KC(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),r.sb(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(e()(),r.sb(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),r.sb(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),r.sb(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(e()(),r.sb(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(e()(),r.sb(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(e()(),r.sb(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(e()(),r.sb(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function WC(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),r.Cb(null,0)],null,null)}function QC(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,3,null,null,null,null,null,null,null)),r.Cb(null,2),(e()(),r.sb(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Ib(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.component._control.placeholder)}))}function YC(e){return r.Jb(0,[r.Cb(null,3),(e()(),r.hb(0,null,null,0))],null,null)}function JC(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,[" *"]))],null,null)}function XC(e){return r.Jb(0,[(e()(),r.sb(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(e,t,n){var r=!0;return"cdkObserveContent"===t&&(r=!1!==e.component.updateOutlineGap()&&r),r}),null,null)),r.rb(1,16384,null,0,x,[],{ngSwitch:[0,"ngSwitch"]},null),r.rb(2,1196032,null,0,Iw,[Tw,r.k,r.x],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(e()(),r.hb(16777216,null,null,1,null,QC)),r.rb(4,278528,null,0,A,[r.O,r.K,x],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.hb(16777216,null,null,1,null,YC)),r.rb(6,278528,null,0,A,[r.O,r.K,x],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.hb(16777216,null,null,1,null,JC)),r.rb(8,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n._hasLabel()),e(t,2,0,"outline"!=n.appearance),e(t,4,0,!1),e(t,6,0,!0),e(t,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(e,t){var n=t.component;e(t,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function ZC(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),r.Cb(null,4)],null,null)}function $C(e){return r.Jb(0,[(e()(),r.sb(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,1,0,"accent"==n.color,"warn"==n.color)}))}function eE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),r.Cb(null,5)],null,(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function tE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(e()(),r.Ib(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n._hintLabelId),e(t,1,0,n.hintLabel)}))}function nE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(e()(),r.hb(16777216,null,null,1,null,tE)),r.rb(2,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),r.Cb(null,6),(e()(),r.sb(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),r.Cb(null,7)],(function(e,t){e(t,2,0,t.component.hintLabel)}),(function(e,t){e(t,0,0,t.component._subscriptAnimationState)}))}function rE(e){return r.Jb(2,[r.Gb(671088640,1,{underlineRef:0}),r.Gb(402653184,2,{_connectionContainerRef:0}),r.Gb(671088640,3,{_inputContainerRef:0}),r.Gb(671088640,4,{_label:0}),(e()(),r.sb(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(e()(),r.sb(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r}),null,null)),(e()(),r.hb(16777216,null,null,1,null,KC)),r.rb(7,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.hb(16777216,null,null,1,null,WC)),r.rb(9,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),r.Cb(null,1),(e()(),r.sb(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(e()(),r.hb(16777216,null,null,1,null,XC)),r.rb(14,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.hb(16777216,null,null,1,null,ZC)),r.rb(16,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.hb(16777216,null,null,1,null,$C)),r.rb(18,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),r.rb(20,16384,null,0,x,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r.hb(16777216,null,null,1,null,eE)),r.rb(22,278528,null,0,A,[r.O,r.K,x],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r.hb(16777216,null,null,1,null,nE)),r.rb(24,278528,null,0,A,[r.O,r.K,x],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,7,0,"outline"==n.appearance),e(t,9,0,n._prefixChildren.length),e(t,14,0,n._hasFloatingLabel()),e(t,16,0,n._suffixChildren.length),e(t,18,0,"outline"!=n.appearance),e(t,20,0,n._getDisplayedMessages()),e(t,22,0,"error"),e(t,24,0,"hint")}),null)}n("Y7HM");var iE,oE,aE=(iE={passive:!0},function(){if(null==qb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return qb=!0}}))}finally{qb=qb||!1}return qb}()?iE:!!iE.capture),sE=((oE=function(){function e(t,n){_classCallCheck(this,e),this._platform=t,this._ngZone=n,this._monitoredElements=new Map}return _createClass(e,[{key:"monitor",value:function(e){var t=this;if(!this._platform.isBrowser)return $.a;var n=Mb(e),r=this._monitoredElements.get(n);if(r)return r.subject.asObservable();var i=new F.a,o="cdk-text-field-autofilled",a=function(e){"cdk-text-field-autofill-start"!==e.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===e.animationName&&n.classList.contains(o)&&(n.classList.remove(o),t._ngZone.run((function(){return i.next({target:e.target,isAutofilled:!1})}))):(n.classList.add(o),t._ngZone.run((function(){return i.next({target:e.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,aE),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,aE)}}),i.asObservable()}},{key:"stopMonitoring",value:function(e){var t=Mb(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}},{key:"ngOnDestroy",value:function(){var e=this;this._monitoredElements.forEach((function(t,n){return e.stopMonitoring(n)}))}}]),e}()).ngInjectableDef=Object(r.Nb)({factory:function(){return new oE(Object(r.Ob)(zb),Object(r.Ob)(r.x))},token:oE,providedIn:"root"}),oE),uE=function e(){_classCallCheck(this,e)},lE=["button","checkbox","file","hidden","image","radio","range","reset","submit"],cE=0,hE=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,u,l,c){var h;_classCallCheck(this,n),(h=t.call(this,s,o,a,i))._elementRef=e,h._platform=r,h.ngControl=i,h._autofillMonitor=l,h._uid="mat-input-"+cE++,h._isServer=!1,h._isNativeSelect=!1,h.focused=!1,h.stateChanges=new F.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(e){return Gb().has(e)}));var f=h._elementRef.nativeElement;return h._inputValueAccessor=u||f,h._previousNativeValue=h.value,h.id=h.id,r.IOS&&c.runOutsideAngular((function(){e.nativeElement.addEventListener("keyup",(function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===f.nodeName.toLowerCase(),h._isNativeSelect&&(h.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(t){e.autofilled=t.isAutofilled,e.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_focusChanged",value:function(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}},{key:"_validateType",value:function(){if(lE.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var e=this._elementRef.nativeElement.validity;return e&&e.badInput}},{key:"_isTextarea",value:function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=Rb(e),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=Rb(e)}},{key:"type",get:function(){return this._type},set:function(e){this._type=e||"text",this._validateType(),!this._isTextarea()&&Gb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(e){this._readonly=Rb(e)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}}]),n}(function(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).errorState=!1,e.stateChanges=new F.a,e}return _createClass(n,[{key:"updateErrorState",value:function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}]),n}(e)}((function e(t,n,r,i){_classCallCheck(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}))),fE=function e(){_classCallCheck(this,e)},dE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}]),e}(),pE=function(){function e(t,n){_classCallCheck(this,e),this.firebaseService=n,this.form=t.group({secertGroupKey:["",P_.required],pointsKey:["",P_.required]}),this.secertGroupKeyControl=this.form.get("secertGroupKey"),this.pointsKeyControl=this.form.get("pointsKey"),this.matcher=new dE,this.keyRedeemStatus={wasRedeemSucess:!1,points:0,pointsKey:"",groupName:""}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"redeemKeys",value:function(){return Ji.b(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.form.value,this.firebaseService.redeemPointsWithKey(t.secertGroupKey,t.pointsKey).then(),this.firebaseService.redeemed.subscribe((function(e){n.keyRedeemStatus=e}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.firebaseService.redeemed.unsubscribe()}}]),e}(),vE=r.qb({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@900&display=swap);@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@900&family=Nunito&display=swap);.form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{padding:4%;border-radius:25px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);background:url(redeem-bg.a9b4a414199ee474feb9.svg) 0 0/cover no-repeat #fff;margin-top:20px}.extra-padding[_ngcontent-%COMP%]{padding-top:5%;padding-left:20%;padding-right:20%}.button[_ngcontent-%COMP%]{display:block;text-decoration:none;background-color:#ff8041;padding:12px;border:10px #ff0;border-radius:25px;font-family:kanit;font-size:45px;font-weight:700;min-width:200px;transition:.2s;color:#ffde59;text-shadow:2px 2px 5px brown;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.button-container[_ngcontent-%COMP%]{align-items:center}"]],data:{}});function yE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.rb(1,16384,[[6,4]],0,h_,[],null,null),(e()(),r.Ib(-1,null,[" Secret group key is "])),(e()(),r.sb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),r.Ib(-1,null,["required"]))],null,(function(e,t){e(t,0,0,r.Db(t,1).id)}))}function mE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,4,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),r.rb(1,16384,[[15,4]],0,h_,[],null,null),(e()(),r.Ib(-1,null,[" Points key is "])),(e()(),r.sb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),r.Ib(-1,null,["required"]))],null,(function(e,t){e(t,0,0,r.Db(t,1).id)}))}function gE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,55,"div",[["class","row align-items-center extra-padding"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,54,null,null,null,null,(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Db(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Db(e,2).onReset()&&i),i}),null,null)),r.rb(2,540672,null,0,dw,[[8,null],[8,null]],{form:[0,"form"]},null),r.Fb(2048,null,O_,null,[dw]),r.rb(4,16384,null,0,N_,[[4,O_]],null,null),(e()(),r.sb(5,0,null,null,23,"mat-form-field",[["class","full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rE,GC)),r.rb(6,7520256,null,9,b_,[r.k,r.h,[2,o_],[2,Nw],[2,g_],zb,r.x,[2,BC]],null,null),r.Gb(603979776,1,{_controlNonStatic:0}),r.Gb(335544320,2,{_controlStatic:0}),r.Gb(603979776,3,{_labelChildNonStatic:0}),r.Gb(335544320,4,{_labelChildStatic:0}),r.Gb(603979776,5,{_placeholderChild:0}),r.Gb(603979776,6,{_errorChildren:1}),r.Gb(603979776,7,{_hintChildren:1}),r.Gb(603979776,8,{_prefixChildren:1}),r.Gb(603979776,9,{_suffixChildren:1}),(e()(),r.sb(16,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.rb(17,16384,[[3,4],[4,4]],0,v_,[],null,null),(e()(),r.Ib(-1,null,["Secret group key"])),(e()(),r.sb(19,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","secertGroupKey"],["matInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Db(e,20)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Db(e,20).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Db(e,20)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Db(e,20)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==r.Db(e,25)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==r.Db(e,25)._focusChanged(!0)&&i),"input"===t&&(i=!1!==r.Db(e,25)._onInput()&&i),i}),null,null)),r.rb(20,16384,null,0,E_,[r.C,r.k,[2,C_]],null,null),r.Fb(1024,null,k_,(function(e){return[e]}),[E_]),r.rb(22,671744,null,0,ww,[[3,O_],[8,null],[8,null],[6,k_],[2,fw]],{name:[0,"name"]},null),r.Fb(2048,null,I_,null,[ww]),r.rb(24,16384,null,0,A_,[[4,I_]],null,null),r.rb(25,999424,null,0,hE,[r.k,zb,[6,I_],[2,lw],[2,dw],e_,[8,null],sE,r.x],{type:[0,"type"]},null),r.Fb(2048,[[1,4],[2,4]],f_,null,[hE]),(e()(),r.hb(16777216,null,5,1,null,yE)),r.rb(28,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(29,0,null,null,23,"mat-form-field",[["class","full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rE,GC)),r.rb(30,7520256,null,9,b_,[r.k,r.h,[2,o_],[2,Nw],[2,g_],zb,r.x,[2,BC]],null,null),r.Gb(603979776,10,{_controlNonStatic:0}),r.Gb(335544320,11,{_controlStatic:0}),r.Gb(603979776,12,{_labelChildNonStatic:0}),r.Gb(335544320,13,{_labelChildStatic:0}),r.Gb(603979776,14,{_placeholderChild:0}),r.Gb(603979776,15,{_errorChildren:1}),r.Gb(603979776,16,{_hintChildren:1}),r.Gb(603979776,17,{_prefixChildren:1}),r.Gb(603979776,18,{_suffixChildren:1}),(e()(),r.sb(40,0,null,3,2,"mat-label",[],null,null,null,null,null)),r.rb(41,16384,[[12,4],[13,4]],0,v_,[],null,null),(e()(),r.Ib(-1,null,["Points key"])),(e()(),r.sb(43,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","pointsKey"],["matInput",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Db(e,44)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Db(e,44).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Db(e,44)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Db(e,44)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==r.Db(e,49)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==r.Db(e,49)._focusChanged(!0)&&i),"input"===t&&(i=!1!==r.Db(e,49)._onInput()&&i),i}),null,null)),r.rb(44,16384,null,0,E_,[r.C,r.k,[2,C_]],null,null),r.Fb(1024,null,k_,(function(e){return[e]}),[E_]),r.rb(46,671744,null,0,ww,[[3,O_],[8,null],[8,null],[6,k_],[2,fw]],{name:[0,"name"]},null),r.Fb(2048,null,I_,null,[ww]),r.rb(48,16384,null,0,A_,[[4,I_]],null,null),r.rb(49,999424,null,0,hE,[r.k,zb,[6,I_],[2,lw],[2,dw],e_,[8,null],sE,r.x],{type:[0,"type"]},null),r.Fb(2048,[[10,4],[11,4]],f_,null,[hE]),(e()(),r.hb(16777216,null,5,1,null,mE)),r.rb(52,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.sb(53,0,null,null,2,"div",[["class","buton-container"]],null,null,null,null,null)),(e()(),r.sb(54,0,null,null,1,"button",[["class"," button btn btn-primary font-weight-bold"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.redeemKeys()&&r),r}),null,null)),(e()(),r.Ib(-1,null,["Redeem"]))],(function(e,t){var n=t.component;e(t,2,0,n.form),e(t,22,0,"secertGroupKey"),e(t,25,0,"text"),e(t,28,0,n.secertGroupKeyControl.hasError("required")),e(t,46,0,"pointsKey"),e(t,49,0,"text"),e(t,52,0,n.pointsKeyControl.hasError("required"))}),(function(e,t){var n=t.component;e(t,5,1,["standard"==r.Db(t,6).appearance,"fill"==r.Db(t,6).appearance,"outline"==r.Db(t,6).appearance,"legacy"==r.Db(t,6).appearance,r.Db(t,6)._control.errorState,r.Db(t,6)._canLabelFloat,r.Db(t,6)._shouldLabelFloat(),r.Db(t,6)._hasFloatingLabel(),r.Db(t,6)._hideControlPlaceholder(),r.Db(t,6)._control.disabled,r.Db(t,6)._control.autofilled,r.Db(t,6)._control.focused,"accent"==r.Db(t,6).color,"warn"==r.Db(t,6).color,r.Db(t,6)._shouldForward("untouched"),r.Db(t,6)._shouldForward("touched"),r.Db(t,6)._shouldForward("pristine"),r.Db(t,6)._shouldForward("dirty"),r.Db(t,6)._shouldForward("valid"),r.Db(t,6)._shouldForward("invalid"),r.Db(t,6)._shouldForward("pending"),!r.Db(t,6)._animationsEnabled]),e(t,19,1,[r.Db(t,24).ngClassUntouched,r.Db(t,24).ngClassTouched,r.Db(t,24).ngClassPristine,r.Db(t,24).ngClassDirty,r.Db(t,24).ngClassValid,r.Db(t,24).ngClassInvalid,r.Db(t,24).ngClassPending,r.Db(t,25)._isServer,r.Db(t,25).id,r.Db(t,25).placeholder,r.Db(t,25).disabled,r.Db(t,25).required,r.Db(t,25).readonly&&!r.Db(t,25)._isNativeSelect||null,r.Db(t,25)._ariaDescribedby||null,r.Db(t,25).errorState,r.Db(t,25).required.toString()]),e(t,29,1,["standard"==r.Db(t,30).appearance,"fill"==r.Db(t,30).appearance,"outline"==r.Db(t,30).appearance,"legacy"==r.Db(t,30).appearance,r.Db(t,30)._control.errorState,r.Db(t,30)._canLabelFloat,r.Db(t,30)._shouldLabelFloat(),r.Db(t,30)._hasFloatingLabel(),r.Db(t,30)._hideControlPlaceholder(),r.Db(t,30)._control.disabled,r.Db(t,30)._control.autofilled,r.Db(t,30)._control.focused,"accent"==r.Db(t,30).color,"warn"==r.Db(t,30).color,r.Db(t,30)._shouldForward("untouched"),r.Db(t,30)._shouldForward("touched"),r.Db(t,30)._shouldForward("pristine"),r.Db(t,30)._shouldForward("dirty"),r.Db(t,30)._shouldForward("valid"),r.Db(t,30)._shouldForward("invalid"),r.Db(t,30)._shouldForward("pending"),!r.Db(t,30)._animationsEnabled]),e(t,43,1,[r.Db(t,48).ngClassUntouched,r.Db(t,48).ngClassTouched,r.Db(t,48).ngClassPristine,r.Db(t,48).ngClassDirty,r.Db(t,48).ngClassValid,r.Db(t,48).ngClassInvalid,r.Db(t,48).ngClassPending,r.Db(t,49)._isServer,r.Db(t,49).id,r.Db(t,49).placeholder,r.Db(t,49).disabled,r.Db(t,49).required,r.Db(t,49).readonly&&!r.Db(t,49)._isNativeSelect||null,r.Db(t,49)._ariaDescribedby||null,r.Db(t,49).errorState,r.Db(t,49).required.toString()]),e(t,54,0,!n.form.valid)}))}function bE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,1,"h1",[["class","row justify-content-center"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Congratulations"])),(e()(),r.sb(3,0,null,null,1,"h2",[["class","row justify-content-center"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Points Key was redeemed successfully"])),(e()(),r.sb(5,0,null,null,1,"h1",[["class","row justify-content-center"]],null,null,null,null,null)),(e()(),r.Ib(6,null,["Key Redeemed - ",""])),(e()(),r.sb(7,0,null,null,1,"h1",[["class","row justify-content-center"]],null,null,null,null,null)),(e()(),r.Ib(8,null,["Awarded to - ",""])),(e()(),r.sb(9,0,null,null,1,"h1",[["class","row justify-content-center"]],null,null,null,null,null)),(e()(),r.Ib(10,null,["Points - +",""]))],null,(function(e,t){var n=t.component;e(t,6,0,n.keyRedeemStatus.pointsKey),e(t,8,0,n.keyRedeemStatus.groupName),e(t,10,0,n.keyRedeemStatus.points)}))}function _E(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Redeem Points"])),(e()(),r.sb(3,0,null,null,7,"p",[["class","text-justify"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Hi there, hope you are having a wonderful time. You are I guess, cause you are here to redeem points. in that case, you can redeem points for your group by typing your "])),(e()(),r.sb(5,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Secret Group Key"])),(e()(),r.Ib(-1,null,[" and the "])),(e()(),r.sb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Points Key"])),(e()(),r.Ib(-1,null,[" provided by the game organizer. Click the redeem button at last. You will be greeted with a congratulations Message if the point were credited to your group, if not, please try again one more time and contact the core team. A Point Key can only be redeemed once. Ensure that the Secret group key and Points key are typed in properly."])),(e()(),r.hb(16777216,null,null,1,null,gE)),r.rb(12,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.hb(16777216,null,null,1,null,bE)),r.rb(14,16384,null,0,S,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,12,0,!n.keyRedeemStatus.wasRedeemSucess),e(t,14,0,n.keyRedeemStatus.wasRedeemSucess)}),null)}var wE=r.ob("app-redeem-points-page",pE,(function(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"app-redeem-points-page",[],null,null,null,_E,vE)),r.rb(1,245760,null,0,pE,[Cw,Eb],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),kE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),CE=r.qb({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@900&family=Nunito&display=swap);.carousel-inner[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{color:brown;border:1px}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:200px;height:200px;border-radius:50%;margin-bottom:10px;background-color:#fff;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border:7px solid #ffde59}"]],data:{}});function EE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,0,"img",[["class","avatar"]],[[8,"src",4]],null,null,null,null)),(e()(),r.sb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Ib(3,null,["",""]))],null,(function(e,t){e(t,1,0,null==t.context.$implicit?null:t.context.$implicit.image),e(t,3,0,null==t.context.$implicit?null:t.context.$implicit.name)}))}function SE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,6,"div",[["class","carousel-item"]],null,null,null,null,null)),r.Fb(512,null,b,_,[r.q,r.r,r.k,r.C]),r.rb(2,278528,null,0,w,[b],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Eb(3,{active:0}),(e()(),r.sb(4,0,null,null,2,"div",[["class","row align-center"]],null,null,null,null,null)),(e()(),r.hb(16777216,null,null,1,null,EE)),r.rb(6,278528,null,0,C,[r.O,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=e(t,3,0,1==t.context.index);e(t,2,0,"carousel-item",n),e(t,6,0,t.context.$implicit)}),null)}function OE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,3,"div",[["class","carousel slide"],["data-ride","carousel"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),r.hb(16777216,null,null,1,null,SE)),r.rb(3,278528,null,0,C,[r.O,r.K,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.itemSet)}),null)}var TE=function(){function e(){_classCallCheck(this,e),this.sponsors=[[{name:"Geogy",image:"/assets/Geogy.png"},{name:"Sreejith",image:"/assets/Sreejith.png"},{name:"Manoj",image:"/assets/manoj.png"},{name:"Nithya",image:"/assets/Nithya.png"}],[{name:"Riya",image:"/assets/Riya.png"},{name:"Amina",image:"/assets/amina.png"},{name:"Aneeka",image:"/assets/Aneeka.png"},{name:"Gokul",image:"/assets/Gokul.png"}],[{name:"Manu",image:"/assets/Manu.png"},{name:"Vineesh",image:"/assets/Vineesh.png"},{name:"Ramees",image:"/assets/Ramees.png"},{name:"Sujesh",image:"/assets/Sujesh.png"}],[{name:"Rahul",image:"/assets/Rahul.png"},{name:"Swathy",image:"/assets/Swathy.png"},{name:"Saurav",image:"/assets/Saurav.png"},{name:"Jessin",image:"/assets/Jessin.png"}]]}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),IE=r.qb({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@900&display=swap);@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@900&family=Nunito&display=swap);.floating-card[_ngcontent-%COMP%]{left:50%;top:50%;border-radius:25px;margin-bottom:22px;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);background:url(home-card-bg.065dde8a7c96bff5e73d.svg) 0 0/cover no-repeat #fff;padding:30px 50px}.title[_ngcontent-%COMP%]{font-family:kanit;font-weight:lighter;color:brown;border:2px;text-shadow:2px 2px 5px #000;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:#ffde59}.desc[_ngcontent-%COMP%]{font-family:Nunito}.empty-space[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:50px}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:200px;height:200px;border-radius:50%;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.extra-padding[_ngcontent-%COMP%]{padding-bottom:20px}.carousel-inner[_ngcontent-%COMP%]{width:100%}.text[_ngcontent-%COMP%]{margin-bottom:40px}.row[_ngcontent-%COMP%]{text-align:center}.col-md-1[_ngcontent-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{display:block;text-decoration:none;background-color:#ff8041;padding:12px;border:10px #ff0;border-radius:25px;font-family:kanit;font-size:45px;font-weight:700;min-width:200px;transition:.2s;color:#ffde59;text-shadow:2px 2px 5px brown;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}"]],data:{}});function xE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,21,"div",[["class","container mx-auto empty-space"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,20,"div",[["class","floating-card"]],null,null,null,null,null)),(e()(),r.sb(2,0,null,null,13,"div",[["class","row align-items-center"]],null,null,null,null,null)),(e()(),r.sb(3,0,null,null,10,"div",[["class","col align-self-center"]],null,null,null,null,null)),(e()(),r.sb(4,0,null,null,6,"div",[["class","text"]],null,null,null,null,null)),(e()(),r.sb(5,0,null,null,1,"h1",[["class","title text-left"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Why Friday Funday?"])),(e()(),r.sb(7,0,null,null,3,"p",[["class","text-justify w-80 desc"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,["The core foundation of any team is the collaboration between team members. we created this initiative to bring us all together amidst this pandemic situation. "])),(e()(),r.sb(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Are you ready to Rock N Roll?"])),(e()(),r.sb(11,0,null,null,2,"button",[["class","button"],["routerLink","/view-scores"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Db(e,12).onClick()&&i),i}),null,null)),r.rb(12,16384,null,0,di,[fi,rr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(e()(),r.Ib(-1,null,["View Scores"])),(e()(),r.sb(14,0,null,null,1,"div",[["class","col align-self-center"]],null,null,null,null,null)),(e()(),r.sb(15,0,null,null,0,"img",[["class","img-fluid"],["src","assets/fridayfunday.svg"]],null,null,null,null,null)),(e()(),r.sb(16,0,null,null,5,"div",[["class","floating-card empty-space"]],null,null,null,null,null)),(e()(),r.sb(17,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.sb(18,0,null,null,1,"h1",[["class"," title mx-auto extra-padding"]],null,null,null,null,null)),(e()(),r.Ib(-1,null,["Our Sponsors"])),(e()(),r.sb(20,0,null,null,1,"app-carousel",[],null,null,null,OE,CE)),r.rb(21,114688,null,0,kE,[],{itemSet:[0,"itemSet"]},null)],(function(e,t){var n=t.component;e(t,12,0,"/view-scores"),e(t,21,0,n.sponsors)}),null)}var AE=r.ob("app-home",TE,(function(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"app-home",[],null,null,null,xE,IE)),r.rb(1,114688,null,0,TE,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),NE=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),DE=r.qb({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{z-index:10;height:10%;text-shadow:6px 9px 16px rgba(0,0,0,.3);box-shadow:0 19px 20px 0 rgba(0,0,0,.3);transition:box-shadow .3s ease-in-out}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{transition:transform .2s}.button[_ngcontent-%COMP%]{transition:transform .2s;display:block;text-decoration:none;background-color:#ff8041;padding:12px;border:10px #ff0;border-radius:25px;font-family:kanit;font-size:25px;font-weight:700;min-width:200px;transition:.2s;color:#ffde59;text-shadow:2px 2px 5px brown;box-shadow:0 12px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}a[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@-webkit-keyframes spin{100%{transform:rotateZ(360deg)}}@keyframes spin{100%{transform:rotateZ(360deg)}}"]],data:{}});function jE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,19,"nav",[["class","navbar navbar-expand-md navbar-dark"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.sb(2,0,null,null,2,"a",[["class","navbar-brand font-weight-bold"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Db(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.rb(3,671744,null,0,pi,[fi,rr,u],{routerLink:[0,"routerLink"]},null),(e()(),r.Ib(-1,null,["Friday Funday"])),(e()(),r.sb(5,0,null,null,1,"button",[["aria-controls","navbarCollapse"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarCollapse"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(e()(),r.sb(6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),r.sb(7,0,null,null,12,"div",[["class","collapse navbar-collapse"],["id","navbarCollapse"]],null,null,null,null,null)),(e()(),r.sb(8,0,null,null,8,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(e()(),r.sb(9,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),r.sb(10,0,null,null,2,"a",[["class","nav-link font-weight-bold"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Db(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.rb(11,671744,null,0,pi,[fi,rr,u],{routerLink:[0,"routerLink"]},null),(e()(),r.Ib(-1,null,["Home"])),(e()(),r.sb(13,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),r.sb(14,0,null,null,2,"a",[["class","nav-link font-weight-bold"],["routerLink","/view-scores"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Db(e,15).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.rb(15,671744,null,0,pi,[fi,rr,u],{routerLink:[0,"routerLink"]},null),(e()(),r.Ib(-1,null,["Scores"])),(e()(),r.sb(17,0,null,null,2,"button",[["class","btn button btn-primary font-weight-bold"],["routerLink","/redeem-points"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Db(e,18).onClick()&&i),i}),null,null)),r.rb(18,16384,null,0,di,[fi,rr,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(e()(),r.Ib(-1,null,["Redeem points"]))],(function(e,t){e(t,3,0,"/"),e(t,11,0,"/"),e(t,15,0,"/view-scores"),e(t,18,0,"/redeem-points")}),(function(e,t){e(t,2,0,r.Db(t,3).target,r.Db(t,3).href),e(t,10,0,r.Db(t,11).target,r.Db(t,11).href),e(t,14,0,r.Db(t,15).target,r.Db(t,15).href)}))}var PE=r.qb({encapsulation:0,styles:[[""]],data:{}});function RE(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"app-navbar",[],null,null,null,jE,DE)),r.rb(1,114688,null,0,NE,[],null,null),(e()(),r.sb(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(3,212992,null,0,gi,[mi,r.O,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0),e(t,3,0)}),null)}var ME=r.ob("app-root",o,(function(e){return r.Jb(0,[(e()(),r.sb(0,0,null,null,1,"app-root",[],null,null,null,RE,PE)),r.rb(1,49152,null,0,o,[],null,null)],null,null)}),{},{},[]),VE=function e(){_classCallCheck(this,e)},LE=function e(){_classCallCheck(this,e)},FE=r.pb(i,[o],(function(e){return r.Ab([r.Bb(512,r.j,r.ab,[[8,[zi,Ib,wE,AE,ME]],[3,r.j],r.v]),r.Bb(5120,r.s,r.mb,[[3,r.s]]),r.Bb(4608,m,g,[r.s,[2,y]]),r.Bb(5120,r.ib,r.nb,[r.x]),r.Bb(5120,r.c,r.jb,[]),r.Bb(5120,r.q,r.kb,[]),r.Bb(5120,r.r,r.lb,[]),r.Bb(4608,Lt,Ft,[D]),r.Bb(6144,r.F,null,[Lt]),r.Bb(4608,Dt,i_,[[2,t_],[2,Xb]]),r.Bb(5120,st,(function(e,t,n,r,i,o,a,s){return[new At(e,t,n),new Vt(r),new Pt(i,o,a,s)]}),[D,r.x,r.z,D,D,Dt,r.bb,[2,jt]]),r.Bb(4608,ut,ut,[st,r.x]),r.Bb(135680,ht,ht,[D]),r.Bb(4608,yt,yt,[ut,ht,r.c]),r.Bb(5120,$w,UC,[]),r.Bb(5120,qk,qC,[]),r.Bb(4608,pC,FC,[D,$w,qk]),r.Bb(5120,r.D,zC,[yt,pC,r.x]),r.Bb(6144,ct,null,[ht]),r.Bb(4608,r.L,r.L,[r.x]),r.Bb(5120,rr,Ri,[fi]),r.Bb(4608,ki,ki,[]),r.Bb(6144,_i,null,[ki]),r.Bb(135680,Ci,Ci,[fi,r.u,r.i,r.p,_i]),r.Bb(4608,wi,wi,[]),r.Bb(5120,Ei,Ai,[fi,R,Si]),r.Bb(5120,Fi,Li,[Mi]),r.Bb(5120,r.b,(function(e){return[e]}),[Fi]),r.Bb(4608,xb,DC,[r.D,D]),r.Bb(5120,Yi.d,Yi.h,[Yi.c,r.x,[2,Yi.b]]),r.Bb(4608,kb,kb,[Yi.c,[2,Yi.b],[2,vb],[2,mb],r.z,r.x,[2,yb],[2,gb],[2,ab]]),r.Bb(4608,U_,U_,[]),r.Bb(4608,Cw,Cw,[]),r.Bb(4608,Ow,Ow,[]),r.Bb(4608,e_,$b,[]),r.Bb(135680,Eb,Eb,[kb]),r.Bb(1073742336,N,N,[]),r.Bb(1024,r.l,Qt,[]),r.Bb(1024,r.w,(function(){return[Ii()]}),[]),r.Bb(512,Mi,Mi,[r.p]),r.Bb(1024,r.d,(function(e,t){return[(n=e,it("probe",at),it("coreTokens",Object.assign({},ot,(n||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return at}),Vi(t)];var n}),[[2,r.w],Mi]),r.Bb(512,r.e,r.e,[[2,r.d]]),r.Bb(131584,r.g,r.g,[r.x,r.bb,r.p,r.l,r.j,r.e]),r.Bb(1073742336,r.f,r.f,[r.g]),r.Bb(1073742336,Yt,Yt,[[3,Yt]]),r.Bb(1024,Oi,Di,[[3,fi]]),r.Bb(512,Rn,Mn,[]),r.Bb(512,mi,mi,[]),r.Bb(256,Si,{},[]),r.Bb(1024,u,Ni,[a,[2,l],Si]),r.Bb(512,c,c,[u,a]),r.Bb(512,r.i,r.i,[]),r.Bb(512,r.u,r.I,[r.i,[2,r.J]]),r.Bb(1024,oi,(function(){return[[{path:"view-scores",component:Sb},{path:"redeem-points",component:pE},{path:"**",component:TE}]]}),[]),r.Bb(1024,fi,Pi,[r.g,Rn,mi,c,r.p,r.u,r.i,oi,Si,[2,si],[2,ri]]),r.Bb(1073742336,xi,xi,[[2,Oi],[2,fi]]),r.Bb(1073742336,VE,VE,[]),r.Bb(1073742336,HC,HC,[]),r.Bb(1073742336,Yi.a,Yi.a,[r.z]),r.Bb(1073742336,Cb,Cb,[]),r.Bb(1073742336,kw,kw,[]),r.Bb(1073742336,Ew,Ew,[]),r.Bb(1073742336,Sw,Sw,[]),r.Bb(1073742336,Dw,Dw,[]),r.Bb(1073742336,Xb,Xb,[[2,Jb],[2,jt]]),r.Bb(1073742336,LE,LE,[]),r.Bb(1073742336,Bb,Bb,[]),r.Bb(1073742336,uE,uE,[]),r.Bb(1073742336,xw,xw,[]),r.Bb(1073742336,__,__,[]),r.Bb(1073742336,fE,fE,[]),r.Bb(1073742336,i,i,[]),r.Bb(256,r.Z,!0,[]),r.Bb(256,BC,"BrowserAnimations",[]),r.Bb(256,Yi.c,{apiKey:"AIzaSyAa11LN6fDMOPAXrDGfBpJ16WJVtMepyqA",authDomain:"friday-funday.firebaseapp.com",databaseURL:"https://friday-funday.firebaseio.com",projectId:"friday-funday",storageBucket:"friday-funday.appspot.com",messagingSenderId:"45040277938",appId:"1:45040277938:web:35a231bf5be0e261552cab"},[]),r.Bb(256,Yi.b,void 0,[])])}));Object(r.S)(),Wt().bootstrapModuleFactory(FE).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);